(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $d(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rd={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function f1(){if(Fy)return Wo;Fy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Wo.Fragment=t,Wo.jsx=i,Wo.jsxs=i,Wo}var Gy;function d1(){return Gy||(Gy=1,rd.exports=f1()),rd.exports}var Rt=d1(),sd={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function m1(){if(Qy)return Ct;Qy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,K={};function j(O,Z,st){this.props=O,this.context=Z,this.refs=K,this.updater=st||H}j.prototype.isReactComponent={},j.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function nt(){}nt.prototype=j.prototype;function W(O,Z,st){this.props=O,this.context=Z,this.refs=K,this.updater=st||H}var et=W.prototype=new nt;et.constructor=W,k(et,j.prototype),et.isPureReactComponent=!0;var ut=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function V(O,Z,st,rt,gt,Dt){return st=Dt.ref,{$$typeof:r,type:O,key:Z,ref:st!==void 0?st:null,props:Dt}}function S(O,Z){return V(O.type,Z,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function N(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return Z[st]})}var M=/\/+/g;function x(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):Z.toString(36)}function w(){}function ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(w,w):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Wt(O,Z,st,rt,gt){var Dt=typeof O;(Dt==="undefined"||Dt==="boolean")&&(O=null);var _t=!1;if(O===null)_t=!0;else switch(Dt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(O.$$typeof){case r:case t:_t=!0;break;case E:return _t=O._init,Wt(_t(O._payload),Z,st,rt,gt)}}if(_t)return gt=gt(O),_t=rt===""?"."+x(O,0):rt,ut(gt)?(st="",_t!=null&&(st=_t.replace(M,"$&/")+"/"),Wt(gt,Z,st,"",function(Qe){return Qe})):gt!=null&&(R(gt)&&(gt=S(gt,st+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(M,"$&/")+"/")+_t)),Z.push(gt)),1;_t=0;var Nt=rt===""?".":rt+":";if(ut(O))for(var Lt=0;Lt<O.length;Lt++)rt=O[Lt],Dt=Nt+x(rt,Lt),_t+=Wt(rt,Z,st,Dt,gt);else if(Lt=D(O),typeof Lt=="function")for(O=Lt.call(O),Lt=0;!(rt=O.next()).done;)rt=rt.value,Dt=Nt+x(rt,Lt++),_t+=Wt(rt,Z,st,Dt,gt);else if(Dt==="object"){if(typeof O.then=="function")return Wt(ne(O),Z,st,rt,gt);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Q(O,Z,st){if(O==null)return O;var rt=[],gt=0;return Wt(O,rt,"","",function(Dt){return Z.call(st,Dt,gt++)}),rt}function ot(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var ht=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function St(){}return Ct.Children={map:Q,forEach:function(O,Z,st){Q(O,function(){Z.apply(this,arguments)},st)},count:function(O){var Z=0;return Q(O,function(){Z++}),Z},toArray:function(O){return Q(O,function(Z){return Z})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ct.Component=j,Ct.Fragment=i,Ct.Profiler=l,Ct.PureComponent=W,Ct.StrictMode=a,Ct.Suspense=_,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(O){return it.H.useMemoCache(O)}},Ct.cache=function(O){return function(){return O.apply(null,arguments)}},Ct.cloneElement=function(O,Z,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=k({},O.props),gt=O.key,Dt=void 0;if(Z!=null)for(_t in Z.ref!==void 0&&(Dt=void 0),Z.key!==void 0&&(gt=""+Z.key),Z)!lt.call(Z,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Z.ref===void 0||(rt[_t]=Z[_t]);var _t=arguments.length-2;if(_t===1)rt.children=st;else if(1<_t){for(var Nt=Array(_t),Lt=0;Lt<_t;Lt++)Nt[Lt]=arguments[Lt+2];rt.children=Nt}return V(O.type,gt,void 0,void 0,Dt,rt)},Ct.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ct.createElement=function(O,Z,st){var rt,gt={},Dt=null;if(Z!=null)for(rt in Z.key!==void 0&&(Dt=""+Z.key),Z)lt.call(Z,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=Z[rt]);var _t=arguments.length-2;if(_t===1)gt.children=st;else if(1<_t){for(var Nt=Array(_t),Lt=0;Lt<_t;Lt++)Nt[Lt]=arguments[Lt+2];gt.children=Nt}if(O&&O.defaultProps)for(rt in _t=O.defaultProps,_t)gt[rt]===void 0&&(gt[rt]=_t[rt]);return V(O,Dt,void 0,void 0,null,gt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(O){return{$$typeof:g,render:O}},Ct.isValidElement=R,Ct.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ot}},Ct.memo=function(O,Z){return{$$typeof:p,type:O,compare:Z===void 0?null:Z}},Ct.startTransition=function(O){var Z=it.T,st={};it.T=st;try{var rt=O(),gt=it.S;gt!==null&&gt(st,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(St,ht)}catch(Dt){ht(Dt)}finally{it.T=Z}},Ct.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},Ct.use=function(O){return it.H.use(O)},Ct.useActionState=function(O,Z,st){return it.H.useActionState(O,Z,st)},Ct.useCallback=function(O,Z){return it.H.useCallback(O,Z)},Ct.useContext=function(O){return it.H.useContext(O)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(O,Z){return it.H.useDeferredValue(O,Z)},Ct.useEffect=function(O,Z,st){var rt=it.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(O,Z)},Ct.useId=function(){return it.H.useId()},Ct.useImperativeHandle=function(O,Z,st){return it.H.useImperativeHandle(O,Z,st)},Ct.useInsertionEffect=function(O,Z){return it.H.useInsertionEffect(O,Z)},Ct.useLayoutEffect=function(O,Z){return it.H.useLayoutEffect(O,Z)},Ct.useMemo=function(O,Z){return it.H.useMemo(O,Z)},Ct.useOptimistic=function(O,Z){return it.H.useOptimistic(O,Z)},Ct.useReducer=function(O,Z,st){return it.H.useReducer(O,Z,st)},Ct.useRef=function(O){return it.H.useRef(O)},Ct.useState=function(O){return it.H.useState(O)},Ct.useSyncExternalStore=function(O,Z,st){return it.H.useSyncExternalStore(O,Z,st)},Ct.useTransition=function(){return it.H.useTransition()},Ct.version="19.1.0",Ct}var Yy;function Jd(){return Yy||(Yy=1,sd.exports=m1()),sd.exports}var ge=Jd();const g1=$d(ge);var ad={exports:{}},tl={},od={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function p1(){return Ky||(Ky=1,function(r){function t(Q,ot){var ht=Q.length;Q.push(ot);t:for(;0<ht;){var St=ht-1>>>1,O=Q[St];if(0<l(O,ot))Q[St]=ot,Q[ht]=O,ht=St;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var ot=Q[0],ht=Q.pop();if(ht!==ot){Q[0]=ht;t:for(var St=0,O=Q.length,Z=O>>>1;St<Z;){var st=2*(St+1)-1,rt=Q[st],gt=st+1,Dt=Q[gt];if(0>l(rt,ht))gt<O&&0>l(Dt,rt)?(Q[St]=Dt,Q[gt]=ht,St=gt):(Q[St]=rt,Q[st]=ht,St=st);else if(gt<O&&0>l(Dt,ht))Q[St]=Dt,Q[gt]=ht,St=gt;else break t}}return ot}function l(Q,ot){var ht=Q.sortIndex-ot.sortIndex;return ht!==0?ht:Q.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],p=[],E=1,b=null,D=3,H=!1,k=!1,K=!1,j=!1,nt=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function ut(Q){for(var ot=i(p);ot!==null;){if(ot.callback===null)a(p);else if(ot.startTime<=Q)a(p),ot.sortIndex=ot.expirationTime,t(_,ot);else break;ot=i(p)}}function it(Q){if(K=!1,ut(Q),!k)if(i(_)!==null)k=!0,lt||(lt=!0,x());else{var ot=i(p);ot!==null&&Wt(it,ot.startTime-Q)}}var lt=!1,V=-1,S=5,R=-1;function N(){return j?!0:!(r.unstable_now()-R<S)}function M(){if(j=!1,lt){var Q=r.unstable_now();R=Q;var ot=!0;try{t:{k=!1,K&&(K=!1,W(V),V=-1),H=!0;var ht=D;try{e:{for(ut(Q),b=i(_);b!==null&&!(b.expirationTime>Q&&N());){var St=b.callback;if(typeof St=="function"){b.callback=null,D=b.priorityLevel;var O=St(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof O=="function"){b.callback=O,ut(Q),ot=!0;break e}b===i(_)&&a(_),ut(Q)}else a(_);b=i(_)}if(b!==null)ot=!0;else{var Z=i(p);Z!==null&&Wt(it,Z.startTime-Q),ot=!1}}break t}finally{b=null,D=ht,H=!1}ot=void 0}}finally{ot?x():lt=!1}}}var x;if(typeof et=="function")x=function(){et(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=M,x=function(){ne.postMessage(null)}}else x=function(){nt(M,0)};function Wt(Q,ot){V=nt(function(){Q(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(Q){switch(D){case 1:case 2:case 3:var ot=3;break;default:ot=D}var ht=D;D=ot;try{return Q()}finally{D=ht}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Q,ot){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=D;D=Q;try{return ot()}finally{D=ht}},r.unstable_scheduleCallback=function(Q,ot,ht){var St=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?St+ht:St):ht=St,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ht+O,Q={id:E++,callback:ot,priorityLevel:Q,startTime:ht,expirationTime:O,sortIndex:-1},ht>St?(Q.sortIndex=ht,t(p,Q),i(_)===null&&Q===i(p)&&(K?(W(V),V=-1):K=!0,Wt(it,ht-St))):(Q.sortIndex=O,t(_,Q),k||H||(k=!0,lt||(lt=!0,x()))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var ot=D;return function(){var ht=D;D=ot;try{return Q.apply(this,arguments)}finally{D=ht}}}}(ld)),ld}var Xy;function y1(){return Xy||(Xy=1,od.exports=p1()),od.exports}var ud={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function _1(){if(Zy)return Xe;Zy=1;var r=Jd();function t(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:p,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(_,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(_,p,null,E)},Xe.flushSync=function(_){var p=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=p,a.p=E,a.d.f()}},Xe.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(_,p))},Xe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Xe.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var E=p.as,b=g(E,p.crossOrigin),D=typeof p.integrity=="string"?p.integrity:void 0,H=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:D,fetchPriority:H}):E==="script"&&a.d.X(_,{crossOrigin:b,integrity:D,fetchPriority:H,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xe.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(_)},Xe.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=g(E,p.crossOrigin);a.d.L(_,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xe.preloadModule=function(_,p){if(typeof _=="string")if(p){var E=g(p.as,p.crossOrigin);a.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(_)},Xe.requestFormReset=function(_){a.d.r(_)},Xe.unstable_batchedUpdates=function(_,p){return _(p)},Xe.useFormState=function(_,p,E){return d.H.useFormState(_,p,E)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var $y;function v1(){if($y)return ud.exports;$y=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ud.exports=_1(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function E1(){if(Jy)return tl;Jy=1;var r=y1(),t=Jd(),i=v1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,o=f;break}if(T===o){v=!0,o=h,s=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===s){v=!0,s=f,o=h;break}if(T===o){v=!0,o=f,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),et=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case j:return"Profiler";case K:return"StrictMode";case it:return"Suspense";case lt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case et:return(e.displayName||"Context")+".Provider";case W:return(e._context.displayName||"Context")+".Consumer";case ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Wt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},St=[],O=-1;function Z(e){return{current:e}}function st(e){0>O||(e.current=St[O],St[O]=null,O--)}function rt(e,n){O++,St[O]=e.current,e.current=n}var gt=Z(null),Dt=Z(null),_t=Z(null),Nt=Z(null);function Lt(e,n){switch(rt(_t,n),rt(Dt,e),rt(gt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?_y(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=_y(n),e=vy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(gt),rt(gt,e)}function Qe(){st(gt),st(Dt),st(_t)}function Un(e){e.memoizedState!==null&&rt(Nt,e);var n=gt.current,s=vy(n,e.type);n!==s&&(rt(Dt,e),rt(gt,s))}function gi(e){Dt.current===e&&(st(gt),st(Dt)),Nt.current===e&&(st(Nt),Ko._currentValue=ht)}var Ir=Object.prototype.hasOwnProperty,Mr=r.unstable_scheduleCallback,xr=r.unstable_cancelCallback,Fa=r.unstable_shouldYield,Dl=r.unstable_requestPaint,En=r.unstable_now,ih=r.unstable_getCurrentPriorityLevel,Ga=r.unstable_ImmediatePriority,Os=r.unstable_UserBlockingPriority,Ur=r.unstable_NormalPriority,rh=r.unstable_LowPriority,Vs=r.unstable_IdlePriority,Qa=r.log,Ol=r.unstable_setDisableYieldValue,ue=null,Qt=null;function hn(e){if(typeof Qa=="function"&&Ol(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ue,e)}catch{}}var Ye=Math.clz32?Math.clz32:Lr,Vl=Math.log,sh=Math.LN2;function Lr(e){return e>>>=0,e===0?32:31-(Vl(e)/sh|0)|0}var Pr=256,zr=4194304;function Ln(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ns(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=Ln(o):(v&=T,v!==0?h=Ln(v):s||(s=T&~e,s!==0&&(h=Ln(s))))):(T=o&~f,T!==0?h=Ln(T):v!==0?h=Ln(v):s||(s=o&~e,s!==0&&(h=Ln(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Br(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ya(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ka(){var e=Pr;return Pr<<=1,(Pr&4194048)===0&&(Pr=256),e}function Xa(){var e=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),e}function pi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function yi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Za(e,n,s,o,h,f){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=v&~s;0<s;){var Y=31-Ye(s),$=1<<Y;T[Y]=0,C[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var q=B[Y];q!==null&&(q.lane&=-536870913)}s&=~$}o!==0&&Gn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function Gn(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ye(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function $a(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Ye(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Is(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qi(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:zy(e.type))}function Nl(e,n){var s=ot.p;try{return ot.p=e,n()}finally{ot.p=s}}var se=Math.random().toString(36).slice(2),be="__reactFiber$"+se,_e="__reactProps$"+se,Tn="__reactContainer$"+se,Ja="__reactEvents$"+se,ah="__reactListeners$"+se,Yi="__reactHandles$"+se,Il="__reactResources$"+se,kr="__reactMarker$"+se;function Ki(e){delete e[be],delete e[_e],delete e[Ja],delete e[ah],delete e[Yi]}function _i(e){var n=e[be];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Tn]||s[be]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Sy(e);e!==null;){if(s=e[be])return s;e=Sy(e)}return n}e=s,s=e.parentNode}return null}function Qn(e){if(e=e[be]||e[Tn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function tn(e){var n=e[Il];return n||(n=e[Il]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(e){e[kr]=!0}var Wa=new Set,Ms={};function Pn(e,n){vi(e,n),vi(e+"Capture",n)}function vi(e,n){for(Ms[e]=n,e=0;e<n.length;e++)Wa.add(n[e])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},qr={};function Ul(e){return Ir.call(qr,e)?!0:Ir.call(xl,e)?!1:Ml.test(e)?qr[e]=!0:(xl[e]=!0,!1)}function Xi(e,n,s){if(Ul(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Kn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ze(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var jr,Ll;function Ei(e){if(jr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);jr=n&&n[1]||"",Ll=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+e+Ll}var xs=!1;function Us(e,n){if(!e||xs)return"";xs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var B=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){B=q}e.call($.prototype)}}else{try{throw Error()}catch(q){B=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var C=v.split(`
`),z=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Y=`
`+C[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{xs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ei(s):""}function to(e){switch(e.tag){case 26:case 27:case 5:return Ei(e.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Us(e.type,!1);case 11:return Us(e.type.render,!1);case 1:return Us(e.type,!0);case 31:return Ei("Activity");default:return""}}function Ls(e){try{var n="";do n+=to(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function oh(e){var n=eo(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ps(e){e._valueTracker||(e._valueTracker=oh(e))}function no(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=eo(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Hr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lh=/[\n"\\]/g;function ve(e){return e.replace(lh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fn(e,n,s,o,h,f,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+en(n)):e.value!==""+en(n)&&(e.value=""+en(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Zi(e,v,en(n)):s!=null?Zi(e,v,en(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+en(T):e.removeAttribute("name")}function Fr(e,n,s,o,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+en(s):"",n=n!=null?""+en(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Zi(e,n,s){n==="number"&&Hr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ti(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+en(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Xt(e,n,s){if(n!=null&&(n=""+en(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+en(s):""}function Gr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Wt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=en(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function An(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Qr.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function io(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Pl(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Pl(e,f,n[f])}function ro(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return ch.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ai=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,bi=null;function so(e){var n=Qn(e);if(n&&(e=n.stateNode)){var s=e[_e]||null;t:switch(e=n.stateNode,n.type){case"input":if(fn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ve(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[_e]||null;if(!h)throw Error(a(90));fn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&no(o)}break t;case"textarea":Xt(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ti(e,!!s.multiple,n,!1)}}}var Xn=!1;function zl(e,n,s){if(Xn)return e(n,s);Xn=!0;try{var o=e(n);return o}finally{if(Xn=!1,(Si!==null||bi!==null)&&(Nu(),Si&&(n=Si,e=bi,bi=Si=null,so(n),e)))for(n=0;n<e.length;n++)so(e[n])}}function Yr(e,n){var s=e.stateNode;if(s===null)return null;var o=s[_e]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(zn)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){bn=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{bn=!1}var Zn=null,$i=null,Ri=null;function ao(){if(Ri)return Ri;var e,n=$i,s=n.length,o,h="value"in Zn?Zn.value:Zn.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var v=s-e;for(o=1;o<=v&&n[s-o]===h[f-o];o++);return Ri=h.slice(e,1<o?1-o:void 0)}function $n(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function oo(){return!1}function Ne(e){function n(s,o,h,f,v){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Jn:oo,this.isPropagationStopped=oo,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),n}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Ne(Ft),Xr=E({},Ft,{view:0,detail:0}),Bl=Ne(Xr),ks,qs,Wn,Zr=E({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(ks=e.screenX-Wn.screenX,qs=e.screenY-Wn.screenY):qs=ks=0,Wn=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:qs}}),Rn=Ne(Zr),kl=E({},Zr,{dataTransfer:0}),hh=Ne(kl),$r=E({},Xr,{relatedTarget:0}),js=Ne($r),lo=E({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Hs=Ne(lo),ql=E({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fs=Ne(ql),fh=E({},Ft,{data:0}),uo=Ne(fh),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function co(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Hl[e])?!!n[e]:!1}function Wr(){return co}var Fl=E({},Xr,{key:function(e){if(e.key){var n=Jr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gs=Ne(Fl),Gl=E({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=Ne(Gl),wi=E({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Ql=Ne(wi),Yl=E({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kl=Ne(Yl),Xl=E({},Zr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qs=Ne(Xl),nn=E({},Ft,{newState:0,oldState:0}),Zl=Ne(nn),$l=[9,13,27,32],ti=zn&&"CompositionEvent"in window,u=null;zn&&"documentMode"in document&&(u=document.documentMode);var m=zn&&"TextEvent"in window&&!u,y=zn&&(!ti||u&&8<u&&11>=u),A=" ",L=!1;function F(e,n){switch(e){case"keyup":return $l.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Re(e,n){switch(e){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(L=!0,A);case"textInput":return e=n.data,e===A&&L?null:e;default:return null}}function zt(e,n){if(Pt)return e==="compositionend"||!ti&&F(e,n)?(e=ao(),Ri=$i=Zn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Ci(e,n,s,o){Si?bi?bi.push(o):bi=[o]:Si=o,n=Pu(n,"onChange"),0<n.length&&(s=new Bs("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Be=null,ei=null;function fo(e){dy(e,0)}function Jl(e){var n=Yn(e);if(no(n))return e}function xm(e,n){if(e==="change")return n}var Um=!1;if(zn){var dh;if(zn){var mh="oninput"in document;if(!mh){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),mh=typeof Lm.oninput=="function"}dh=mh}else dh=!1;Um=dh&&(!document.documentMode||9<document.documentMode)}function Pm(){Be&&(Be.detachEvent("onpropertychange",zm),ei=Be=null)}function zm(e){if(e.propertyName==="value"&&Jl(ei)){var n=[];Ci(n,ei,e,Sn(e)),zl(fo,n)}}function j0(e,n,s){e==="focusin"?(Pm(),Be=n,ei=s,Be.attachEvent("onpropertychange",zm)):e==="focusout"&&Pm()}function H0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(ei)}function F0(e,n){if(e==="click")return Jl(n)}function G0(e,n){if(e==="input"||e==="change")return Jl(n)}function Q0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:Q0;function mo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ir.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function Bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function km(e,n){var s=Bm(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Bm(s)}}function qm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?qm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function jm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Hr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Hr(e.document)}return n}function gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Y0=zn&&"documentMode"in document&&11>=document.documentMode,Ys=null,ph=null,go=null,yh=!1;function Hm(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yh||Ys==null||Ys!==Hr(o)||(o=Ys,"selectionStart"in o&&gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),go&&mo(go,o)||(go=o,o=Pu(ph,"onSelect"),0<o.length&&(n=new Bs("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Ys)))}function ts(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ks={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},_h={},Fm={};zn&&(Fm=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function es(e){if(_h[e])return _h[e];if(!Ks[e])return e;var n=Ks[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Fm)return _h[e]=n[s];return e}var Gm=es("animationend"),Qm=es("animationiteration"),Ym=es("animationstart"),K0=es("transitionrun"),X0=es("transitionstart"),Z0=es("transitioncancel"),Km=es("transitionend"),Xm=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vh.push("scrollEnd");function Bn(e,n){Xm.set(e,n),Pn(n,[e])}var Zm=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var s=Zm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ls(n)},Zm.set(e,n),n)}return{value:e,source:n,stack:Ls(n)}}var Cn=[],Xs=0,Eh=0;function Wl(){for(var e=Xs,n=Eh=Xs=0;n<e;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&$m(s,h,f)}}function tu(e,n,s,o){Cn[Xs++]=e,Cn[Xs++]=n,Cn[Xs++]=s,Cn[Xs++]=o,Eh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Th(e,n,s,o){return tu(e,n,s,o),eu(e)}function Zs(e,n){return tu(e,null,null,n),eu(e)}function $m(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ye(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function eu(e){if(50<ko)throw ko=0,Df=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var $s={};function $0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new $0(e,n,s,o)}function Ah(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Di(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Jm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function nu(e,n,s,o,h,f){var v=0;if(o=e,typeof e=="function")Ah(e)&&(v=1);else if(typeof e=="string")v=WT(e,s,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=mn(31,s,n,h),e.elementType=R,e.lanes=f,e;case k:return ns(s.children,h,f,n);case K:v=8,h|=24;break;case j:return e=mn(12,s,n,h|2),e.elementType=j,e.lanes=f,e;case it:return e=mn(13,s,n,h),e.elementType=it,e.lanes=f,e;case lt:return e=mn(19,s,n,h),e.elementType=lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nt:case et:v=10;break t;case W:v=9;break t;case ut:v=11;break t;case V:v=14;break t;case S:v=16,o=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(v,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ns(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function Sh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function bh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Js=[],Ws=0,iu=null,ru=0,Dn=[],On=0,is=null,Oi=1,Vi="";function rs(e,n){Js[Ws++]=ru,Js[Ws++]=iu,iu=e,ru=n}function Wm(e,n,s){Dn[On++]=Oi,Dn[On++]=Vi,Dn[On++]=is,is=e;var o=Oi;e=Vi;var h=32-Ye(o)-1;o&=~(1<<h),s+=1;var f=32-Ye(n)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Oi=1<<32-Ye(n)+h|s<<h|o,Vi=f+e}else Oi=1<<f|s<<h|o,Vi=e}function Rh(e){e.return!==null&&(rs(e,1),Wm(e,1,0))}function wh(e){for(;e===iu;)iu=Js[--Ws],Js[Ws]=null,ru=Js[--Ws],Js[Ws]=null;for(;e===is;)is=Dn[--On],Dn[On]=null,Vi=Dn[--On],Dn[On]=null,Oi=Dn[--On],Dn[On]=null}var rn=null,ce=null,Ht=!1,ss=null,ni=!1,Ch=Error(a(519));function as(e){var n=Error(a(418,""));throw _o(wn(n,e)),Ch}function tg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[be]=e,n[_e]=o,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<jo.length;s++)xt(jo[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Fr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ps(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Gr(n,o.value,o.defaultValue,o.children),Ps(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||yy(n.textContent,s)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=zu),n=!0):n=!1,n||as(e)}function eg(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:rn=rn.return}}function po(e){if(e!==rn)return!1;if(!Ht)return eg(e),Ht=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ff(e.type,e.memoizedProps)),s=!s),s&&ce&&as(e),eg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ce=qn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ce=null}}else n===27?(n=ce,dr(e.type)?(e=Kf,Kf=null,ce=e):ce=n):ce=rn?qn(e.stateNode.nextSibling):null;return!0}function yo(){ce=rn=null,Ht=!1}function ng(){var e=ss;return e!==null&&(on===null?on=e:on.push.apply(on,e),ss=null),e}function _o(e){ss===null?ss=[e]:ss.push(e)}var Dh=Z(null),os=null,Ni=null;function Ji(e,n,s){rt(Dh,n._currentValue),n._currentValue=s}function Ii(e){e._currentValue=Dh.current,st(Dh)}function Oh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Vh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Oh(f.return,s,e),o||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Oh(v,s,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function vo(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Nt.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ko):e=[Ko])}h=h.return}e!==null&&Vh(n,e,s,o),n.flags|=262144}function su(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ls(e){os=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return ig(os,e)}function au(e,n){return os===null&&ls(e),ig(e,n)}function ig(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ni===null){if(e===null)throw Error(a(308));Ni=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ni=Ni.next=n;return s}var J0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},W0=r.unstable_scheduleCallback,tT=r.unstable_NormalPriority,Ce={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new J0,data:new Map,refCount:0}}function Eo(e){e.refCount--,e.refCount===0&&W0(tT,function(){e.controller.abort()})}var To=null,Ih=0,ta=0,ea=null;function eT(e,n){if(To===null){var s=To=[];Ih=0,ta=Uf(),ea={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Ih++,n.then(rg,rg),n}function rg(){if(--Ih===0&&To!==null){ea!==null&&(ea.status="fulfilled");var e=To;To=null,ta=0,ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function nT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var sg=Q.S;Q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&eT(e,n),sg!==null&&sg(e,n)};var us=Z(null);function Mh(){var e=us.current;return e!==null?e:ee.pooledCache}function ou(e,n){n===null?rt(us,us.current):rt(us,n.pool)}function ag(){var e=Mh();return e===null?null:{parent:Ce._currentValue,pool:e}}var Ao=Error(a(460)),og=Error(a(474)),lu=Error(a(542)),xh={then:function(){}};function lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uu(){}function ug(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(uu,uu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e;default:if(typeof n.status=="string")n.then(uu,uu);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e}throw So=n,Ao}}var So=null;function cg(){if(So===null)throw Error(a(459));var e=So;return So=null,e}function hg(e){if(e===Ao||e===lu)throw Error(a(483))}var Wi=!1;function Uh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function er(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=eu(e),$m(e,null,s),n}return tu(e,o,n,s),eu(e)}function bo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,$a(e,s)}}function Ph(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var zh=!1;function Ro(){if(zh){var e=ea;if(e!==null)throw e}}function wo(e,n,s,o){zh=!1;var h=e.updateQueue;Wi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,v===null?f=z:v.next=z,v=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;v=0,Y=z=C=null,T=f;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(Bt&B)===B:(o&B)===B){B!==0&&B===ta&&(zh=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=e,yt=T;B=n;var Jt=s;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){$=Tt.call(Jt,$,B);break t}$=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,B=typeof Tt=="function"?Tt.call(Jt,$,B):Tt,B==null)break t;$=E({},$,B);break t;case 2:Wi=!0}}B=T.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=q,C=$):Y=Y.next=q,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),ur|=v,e.lanes=v,e.memoizedState=$}}function fg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function dg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)fg(s[e],n)}var na=Z(null),cu=Z(0);function mg(e,n){e=Bi,rt(cu,e),rt(na,n),Bi=e|n.baseLanes}function Bh(){rt(cu,Bi),rt(na,na.current)}function kh(){Bi=cu.current,st(na),st(cu)}var nr=0,Ot=null,Zt=null,Ee=null,hu=!1,ia=!1,cs=!1,fu=0,Co=0,ra=null,iT=0;function de(){throw Error(a(321))}function qh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function jh(e,n,s,o,h,f){return nr=f,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?$g:Jg,cs=!1,f=s(o,h),cs=!1,ia&&(f=pg(n,s,o,h)),gg(e),f}function gg(e){Q.H=_u;var n=Zt!==null&&Zt.next!==null;if(nr=0,Ee=Zt=Ot=null,hu=!1,Co=0,ra=null,n)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&su(e)&&(Me=!0))}function pg(e,n,s,o){Ot=e;var h=0;do{if(ia&&(ra=null),Co=0,ia=!1,25<=h)throw Error(a(301));if(h+=1,Ee=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=cT,f=n(s,o)}while(ia);return f}function rT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Do(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Ot.flags|=1024),n}function Hh(){var e=fu!==0;return fu=0,e}function Fh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Gh(e){if(hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}hu=!1}nr=0,Ee=Zt=Ot=null,ia=!1,Co=fu=0,ra=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Ot.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function Te(){if(Zt===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ee===null?Ot.memoizedState:Ee.next;if(n!==null)Ee=n,Zt=e;else{if(e===null)throw Ot.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ee===null?Ot.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(e){var n=Co;return Co+=1,ra===null&&(ra=[]),e=ug(ra,e,n),n=Ot,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?$g:Jg),e}function du(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Do(e);if(e.$$typeof===et)return Ke(e)}throw Error(a(438,String(e)))}function Yh(e){var n=null,s=Ot.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ot.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Qh(),Ot.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=N;return n.index++,s}function Mi(e,n){return typeof n=="function"?n(e):n}function mu(e){var n=Te();return Kh(n,Zt,e)}function Kh(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=v=null,C=null,z=n,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Bt&$)===$:(nr&$)===$){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===ta&&(Y=!0);else if((nr&B)===B){z=z.next,B===ta&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=$,v=f):C=C.next=$,Ot.lanes|=B,ur|=B;$=z.action,cs&&s(f,$),f=z.hasEagerState?z.eagerState:s(f,$)}else B={lane:$,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=B,v=f):C=C.next=B,Ot.lanes|=$,ur|=$;z=z.next}while(z!==null&&z!==n);if(C===null?v=f:C.next=T,!dn(f,e.memoizedState)&&(Me=!0,Y&&(s=ea,s!==null)))throw s;e.memoizedState=f,e.baseState=v,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Xh(e){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);dn(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function yg(e,n,s){var o=Ot,h=Te(),f=Ht;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!dn((Zt||h).memoizedState,s);v&&(h.memoizedState=s,Me=!0),h=h.queue;var T=Eg.bind(null,o,h,e);if(Oo(2048,8,T,[e]),h.getSnapshot!==n||v||Ee!==null&&Ee.memoizedState.tag&1){if(o.flags|=2048,sa(9,gu(),vg.bind(null,o,h,s,n),null),ee===null)throw Error(a(349));f||(nr&124)!==0||_g(o,n,s)}return s}function _g(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ot.updateQueue,n===null?(n=Qh(),Ot.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function vg(e,n,s,o){n.value=s,n.getSnapshot=o,Tg(n)&&Ag(e)}function Eg(e,n,s){return s(function(){Tg(n)&&Ag(e)})}function Tg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function Ag(e){var n=Zs(e,2);n!==null&&vn(n,e,2)}function Zh(e){var n=sn();if(typeof e=="function"){var s=e;if(e=s(),cs){hn(!0);try{s()}finally{hn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:e},n}function Sg(e,n,s,o){return e.baseState=s,Kh(e,Zt,typeof o=="function"?o:Mi)}function sT(e,n,s,o,h){if(yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,bg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function bg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=Q.T,v={};Q.T=v;try{var T=s(h,o),C=Q.S;C!==null&&C(v,T),Rg(e,n,T)}catch(z){$h(e,n,z)}finally{Q.T=f}}else try{f=s(h,o),Rg(e,n,f)}catch(z){$h(e,n,z)}}function Rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){wg(e,n,o)},function(o){return $h(e,n,o)}):wg(e,n,s)}function wg(e,n,s){n.status="fulfilled",n.value=s,Cg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,bg(e,s)))}function $h(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Cg(n),n=n.next;while(n!==o)}e.action=null}function Cg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dg(e,n){return n}function Og(e,n){if(Ht){var s=ee.formState;if(s!==null){t:{var o=Ot;if(Ht){if(ce){e:{for(var h=ce,f=ni;h.nodeType!==8;){if(!f){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=qn(h.nextSibling),o=h.data==="F!";break t}}as(o)}o=!1}o&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:n},s.queue=o,s=Kg.bind(null,Ot,o),o.dispatch=s,o=Zh(!1),f=nf.bind(null,Ot,!1,o.queue),o=sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=sT.bind(null,Ot,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Vg(e){var n=Te();return Ng(n,Zt,e)}function Ng(e,n,s){if(n=Kh(e,n,Dg)[0],e=mu(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Do(n)}catch(v){throw v===Ao?lu:v}else o=n;n=Te();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ot.flags|=2048,sa(9,gu(),aT.bind(null,h,s),null)),[o,f,e]}function aT(e,n){e.action=n}function Ig(e){var n=Te(),s=Zt;if(s!==null)return Ng(n,s,e);Te(),n=n.memoizedState,s=Te();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function sa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=Qh(),Ot.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function gu(){return{destroy:void 0,resource:void 0}}function Mg(){return Te().memoizedState}function pu(e,n,s,o){var h=sn();o=o===void 0?null:o,Ot.flags|=e,h.memoizedState=sa(1|n,gu(),s,o)}function Oo(e,n,s,o){var h=Te();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&qh(o,Zt.memoizedState.deps)?h.memoizedState=sa(n,f,s,o):(Ot.flags|=e,h.memoizedState=sa(1|n,f,s,o))}function xg(e,n){pu(8390656,8,e,n)}function Ug(e,n){Oo(2048,8,e,n)}function Lg(e,n){return Oo(4,2,e,n)}function Pg(e,n){return Oo(4,4,e,n)}function zg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bg(e,n,s){s=s!=null?s.concat([e]):null,Oo(4,4,zg.bind(null,n,e),s)}function Jh(){}function kg(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&qh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function qg(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&qh(n,o[1]))return o[0];if(o=e(),cs){hn(!0);try{e()}finally{hn(!1)}}return s.memoizedState=[o,n],o}function Wh(e,n,s){return s===void 0||(nr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Fp(),Ot.lanes|=e,ur|=e,s)}function jg(e,n,s,o){return dn(s,n)?s:na.current!==null?(e=Wh(e,s,o),dn(e,n)||(Me=!0),e):(nr&42)===0?(Me=!0,e.memoizedState=s):(e=Fp(),Ot.lanes|=e,ur|=e,n)}function Hg(e,n,s,o,h){var f=ot.p;ot.p=f!==0&&8>f?f:8;var v=Q.T,T={};Q.T=T,nf(e,!1,n,s);try{var C=h(),z=Q.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=nT(C,o);Vo(e,n,Y,_n(e))}else Vo(e,n,o,_n(e))}catch($){Vo(e,n,{then:function(){},status:"rejected",reason:$},_n())}finally{ot.p=f,Q.T=v}}function oT(){}function tf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Fg(e).queue;Hg(e,h,n,ht,s===null?oT:function(){return Gg(e),s(o)})}function Fg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Gg(e){var n=Fg(e).next.queue;Vo(e,n,{},_n())}function ef(){return Ke(Ko)}function Qg(){return Te().memoizedState}function Yg(){return Te().memoizedState}function lT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();e=tr(s);var o=er(n,e,s);o!==null&&(vn(o,n,s),bo(o,n,s)),n={cache:Nh()},e.payload=n;return}n=n.return}}function uT(e,n,s){var o=_n();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},yu(e)?Xg(n,s):(s=Th(e,n,s,o),s!==null&&(vn(s,e,o),Zg(s,n,o)))}function Kg(e,n,s){var o=_n();Vo(e,n,s,o)}function Vo(e,n,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(yu(e))Xg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,s);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return tu(e,n,h,0),ee===null&&Wl(),!1}catch{}finally{}if(s=Th(e,n,h,o),s!==null)return vn(s,e,o),Zg(s,n,o),!0}return!1}function nf(e,n,s,o){if(o={lane:2,revertLane:Uf(),action:o,hasEagerState:!1,eagerState:null,next:null},yu(e)){if(n)throw Error(a(479))}else n=Th(e,s,o,2),n!==null&&vn(n,e,2)}function yu(e){var n=e.alternate;return e===Ot||n!==null&&n===Ot}function Xg(e,n){ia=hu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Zg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,$a(e,s)}}var _u={readContext:Ke,use:du,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},$g={readContext:Ke,use:du,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:xg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,pu(4194308,4,zg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return pu(4194308,4,e,n)},useInsertionEffect:function(e,n){pu(4,2,e,n)},useMemo:function(e,n){var s=sn();n=n===void 0?null:n;var o=e();if(cs){hn(!0);try{e()}finally{hn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=sn();if(s!==void 0){var h=s(n);if(cs){hn(!0);try{s(n)}finally{hn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=uT.bind(null,Ot,e),[o.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=Zh(e);var n=e.queue,s=Kg.bind(null,Ot,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Jh,useDeferredValue:function(e,n){var s=sn();return Wh(s,e,n)},useTransition:function(){var e=Zh(!1);return e=Hg.bind(null,Ot,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ot,h=sn();if(Ht){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Bt&124)!==0||_g(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,xg(Eg.bind(null,o,f,e),[e]),o.flags|=2048,sa(9,gu(),vg.bind(null,o,f,s,n),null),s},useId:function(){var e=sn(),n=ee.identifierPrefix;if(Ht){var s=Vi,o=Oi;s=(o&~(1<<32-Ye(o)-1)).toString(32)+s,n=""+n+"R"+s,s=fu++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=iT++,n=""+n+"r"+s.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:ef,useFormState:Og,useActionState:Og,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=nf.bind(null,Ot,!0,s),s.dispatch=n,[e,n]},useMemoCache:Yh,useCacheRefresh:function(){return sn().memoizedState=lT.bind(null,Ot)}},Jg={readContext:Ke,use:du,useCallback:kg,useContext:Ke,useEffect:Ug,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Pg,useMemo:qg,useReducer:mu,useRef:Mg,useState:function(){return mu(Mi)},useDebugValue:Jh,useDeferredValue:function(e,n){var s=Te();return jg(s,Zt.memoizedState,e,n)},useTransition:function(){var e=mu(Mi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Do(e),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:ef,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,n){var s=Te();return Sg(s,Zt,e,n)},useMemoCache:Yh,useCacheRefresh:Yg},cT={readContext:Ke,use:du,useCallback:kg,useContext:Ke,useEffect:Ug,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Pg,useMemo:qg,useReducer:Xh,useRef:Mg,useState:function(){return Xh(Mi)},useDebugValue:Jh,useDeferredValue:function(e,n){var s=Te();return Zt===null?Wh(s,e,n):jg(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Xh(Mi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Do(e),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:ef,useFormState:Ig,useActionState:Ig,useOptimistic:function(e,n){var s=Te();return Zt!==null?Sg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Yh,useCacheRefresh:Yg},aa=null,No=0;function vu(e){var n=No;return No+=1,aa===null&&(aa=[]),ug(aa,e,n)}function Io(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Eu(e,n){throw n.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Wg(e){var n=e._init;return n(e._payload)}function tp(e){function n(U,I){if(e){var P=U.deletions;P===null?(U.deletions=[I],U.flags|=16):P.push(I)}}function s(U,I){if(!e)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function o(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function h(U,I){return U=Di(U,I),U.index=0,U.sibling=null,U}function f(U,I,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<I?(U.flags|=67108866,I):P):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function v(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,I,P,X){return I===null||I.tag!==6?(I=Sh(P,U.mode,X),I.return=U,I):(I=h(I,P),I.return=U,I)}function C(U,I,P,X){var ft=P.type;return ft===k?Y(U,I,P.props.children,X,P.key):I!==null&&(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Wg(ft)===I.type)?(I=h(I,P.props),Io(I,P),I.return=U,I):(I=nu(P.type,P.key,P.props,null,U.mode,X),Io(I,P),I.return=U,I)}function z(U,I,P,X){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=bh(P,U.mode,X),I.return=U,I):(I=h(I,P.children||[]),I.return=U,I)}function Y(U,I,P,X,ft){return I===null||I.tag!==7?(I=ns(P,U.mode,X,ft),I.return=U,I):(I=h(I,P),I.return=U,I)}function $(U,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Sh(""+I,U.mode,P),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return P=nu(I.type,I.key,I.props,null,U.mode,P),Io(P,I),P.return=U,P;case H:return I=bh(I,U.mode,P),I.return=U,I;case S:var X=I._init;return I=X(I._payload),$(U,I,P)}if(Wt(I)||x(I))return I=ns(I,U.mode,P,null),I.return=U,I;if(typeof I.then=="function")return $(U,vu(I),P);if(I.$$typeof===et)return $(U,au(U,I),P);Eu(U,I)}return null}function B(U,I,P,X){var ft=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:T(U,I,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return P.key===ft?C(U,I,P,X):null;case H:return P.key===ft?z(U,I,P,X):null;case S:return ft=P._init,P=ft(P._payload),B(U,I,P,X)}if(Wt(P)||x(P))return ft!==null?null:Y(U,I,P,X,null);if(typeof P.then=="function")return B(U,I,vu(P),X);if(P.$$typeof===et)return B(U,I,au(U,P),X);Eu(U,P)}return null}function q(U,I,P,X,ft){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(P)||null,T(I,U,""+X,ft);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case D:return U=U.get(X.key===null?P:X.key)||null,C(I,U,X,ft);case H:return U=U.get(X.key===null?P:X.key)||null,z(I,U,X,ft);case S:var It=X._init;return X=It(X._payload),q(U,I,P,X,ft)}if(Wt(X)||x(X))return U=U.get(P)||null,Y(I,U,X,ft,null);if(typeof X.then=="function")return q(U,I,P,vu(X),ft);if(X.$$typeof===et)return q(U,I,P,au(I,X),ft);Eu(I,X)}return null}function Tt(U,I,P,X){for(var ft=null,It=null,mt=I,vt=I=0,Ue=null;mt!==null&&vt<P.length;vt++){mt.index>vt?(Ue=mt,mt=null):Ue=mt.sibling;var jt=B(U,mt,P[vt],X);if(jt===null){mt===null&&(mt=Ue);break}e&&mt&&jt.alternate===null&&n(U,mt),I=f(jt,I,vt),It===null?ft=jt:It.sibling=jt,It=jt,mt=Ue}if(vt===P.length)return s(U,mt),Ht&&rs(U,vt),ft;if(mt===null){for(;vt<P.length;vt++)mt=$(U,P[vt],X),mt!==null&&(I=f(mt,I,vt),It===null?ft=mt:It.sibling=mt,It=mt);return Ht&&rs(U,vt),ft}for(mt=o(mt);vt<P.length;vt++)Ue=q(mt,U,vt,P[vt],X),Ue!==null&&(e&&Ue.alternate!==null&&mt.delete(Ue.key===null?vt:Ue.key),I=f(Ue,I,vt),It===null?ft=Ue:It.sibling=Ue,It=Ue);return e&&mt.forEach(function(_r){return n(U,_r)}),Ht&&rs(U,vt),ft}function yt(U,I,P,X){if(P==null)throw Error(a(151));for(var ft=null,It=null,mt=I,vt=I=0,Ue=null,jt=P.next();mt!==null&&!jt.done;vt++,jt=P.next()){mt.index>vt?(Ue=mt,mt=null):Ue=mt.sibling;var _r=B(U,mt,jt.value,X);if(_r===null){mt===null&&(mt=Ue);break}e&&mt&&_r.alternate===null&&n(U,mt),I=f(_r,I,vt),It===null?ft=_r:It.sibling=_r,It=_r,mt=Ue}if(jt.done)return s(U,mt),Ht&&rs(U,vt),ft;if(mt===null){for(;!jt.done;vt++,jt=P.next())jt=$(U,jt.value,X),jt!==null&&(I=f(jt,I,vt),It===null?ft=jt:It.sibling=jt,It=jt);return Ht&&rs(U,vt),ft}for(mt=o(mt);!jt.done;vt++,jt=P.next())jt=q(mt,U,vt,jt.value,X),jt!==null&&(e&&jt.alternate!==null&&mt.delete(jt.key===null?vt:jt.key),I=f(jt,I,vt),It===null?ft=jt:It.sibling=jt,It=jt);return e&&mt.forEach(function(h1){return n(U,h1)}),Ht&&rs(U,vt),ft}function Jt(U,I,P,X){if(typeof P=="object"&&P!==null&&P.type===k&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case D:t:{for(var ft=P.key;I!==null;){if(I.key===ft){if(ft=P.type,ft===k){if(I.tag===7){s(U,I.sibling),X=h(I,P.props.children),X.return=U,U=X;break t}}else if(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Wg(ft)===I.type){s(U,I.sibling),X=h(I,P.props),Io(X,P),X.return=U,U=X;break t}s(U,I);break}else n(U,I);I=I.sibling}P.type===k?(X=ns(P.props.children,U.mode,X,P.key),X.return=U,U=X):(X=nu(P.type,P.key,P.props,null,U.mode,X),Io(X,P),X.return=U,U=X)}return v(U);case H:t:{for(ft=P.key;I!==null;){if(I.key===ft)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){s(U,I.sibling),X=h(I,P.children||[]),X.return=U,U=X;break t}else{s(U,I);break}else n(U,I);I=I.sibling}X=bh(P,U.mode,X),X.return=U,U=X}return v(U);case S:return ft=P._init,P=ft(P._payload),Jt(U,I,P,X)}if(Wt(P))return Tt(U,I,P,X);if(x(P)){if(ft=x(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),yt(U,I,P,X)}if(typeof P.then=="function")return Jt(U,I,vu(P),X);if(P.$$typeof===et)return Jt(U,I,au(U,P),X);Eu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(s(U,I.sibling),X=h(I,P),X.return=U,U=X):(s(U,I),X=Sh(P,U.mode,X),X.return=U,U=X),v(U)):s(U,I)}return function(U,I,P,X){try{No=0;var ft=Jt(U,I,P,X);return aa=null,ft}catch(mt){if(mt===Ao||mt===lu)throw mt;var It=mn(29,mt,null,U.mode);return It.lanes=X,It.return=U,It}finally{}}}var oa=tp(!0),ep=tp(!1),Vn=Z(null),ii=null;function ir(e){var n=e.alternate;rt(De,De.current&1),rt(Vn,e),ii===null&&(n===null||na.current!==null||n.memoizedState!==null)&&(ii=e)}function np(e){if(e.tag===22){if(rt(De,De.current),rt(Vn,e),ii===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ii=e)}}else rr()}function rr(){rt(De,De.current),rt(Vn,Vn.current)}function xi(e){st(Vn),ii===e&&(ii=null),st(De)}var De=Z(0);function Tu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Yf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function rf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var sf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=_n(),h=tr(o);h.payload=n,s!=null&&(h.callback=s),n=er(e,h,o),n!==null&&(vn(n,e,o),bo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=_n(),h=tr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=er(e,h,o),n!==null&&(vn(n,e,o),bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=_n(),o=tr(s);o.tag=2,n!=null&&(o.callback=n),n=er(e,o,s),n!==null&&(vn(n,e,s),bo(n,e,s))}};function ip(e,n,s,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):n.prototype&&n.prototype.isPureReactComponent?!mo(s,o)||!mo(h,f):!0}function rp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&sf.enqueueReplaceState(n,n.state,null)}function hs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sp(e){Au(e)}function ap(e){console.error(e)}function op(e){Au(e)}function Su(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function lp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function af(e,n,s){return s=tr(s),s.tag=3,s.payload={element:null},s.callback=function(){Su(e,n)},s}function up(e){return e=tr(e),e.tag=3,e}function cp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){lp(n,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){lp(n,s,o),typeof h!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function hT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&vo(n,s,h,!0),s=Vn.current,s!==null){switch(s.tag){case 13:return ii===null?Vf():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===xh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),If(e,o,h)),!1;case 22:return s.flags|=65536,o===xh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),If(e,o,h)),!1}throw Error(a(435,s.tag))}return If(e,o,h),Vf(),!1}if(Ht)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ch&&(e=Error(a(422),{cause:o}),_o(wn(e,s)))):(o!==Ch&&(n=Error(a(423),{cause:o}),_o(wn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,s),h=af(e.stateNode,o,h),Ph(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=wn(f,s),Bo===null?Bo=[f]:Bo.push(f),he!==4&&(he=2),n===null)return!0;o=wn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=af(s.stateNode,o,e),Ph(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=up(h),cp(h,e,s,o),Ph(s,h),!1}s=s.return}while(s!==null);return!1}var hp=Error(a(461)),Me=!1;function ke(e,n,s,o){n.child=e===null?ep(n,null,s,o):oa(n,e.child,s,o)}function fp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return ls(n),o=jh(e,n,s,v,f,h),T=Hh(),e!==null&&!Me?(Fh(e,n,h),Ui(e,n,h)):(Ht&&T&&Rh(n),n.flags|=1,ke(e,n,o,h),n.child)}function dp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ah(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,mp(e,n,f,o,h)):(e=nu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!mf(e,h)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:mo,s(v,o)&&e.ref===n.ref)return Ui(e,n,h)}return n.flags|=1,e=Di(f,o),e.ref=n.ref,e.return=n,n.child=e}function mp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(mo(f,o)&&e.ref===n.ref)if(Me=!1,n.pendingProps=o=f,mf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Ui(e,n,h)}return of(e,n,s,o,h)}function gp(e,n,s){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return pp(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ou(n,f!==null?f.cachePool:null),f!==null?mg(n,f):Bh(),np(n);else return n.lanes=n.childLanes=536870912,pp(e,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(ou(n,f.cachePool),mg(n,f),rr(),n.memoizedState=null):(e!==null&&ou(n,null),Bh(),rr());return ke(e,n,h,s),n.child}function pp(e,n,s,o){var h=Mh();return h=h===null?null:{parent:Ce._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&ou(n,null),Bh(),np(n),e!==null&&vo(e,n,o,!0),null}function bu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function of(e,n,s,o,h){return ls(n),s=jh(e,n,s,o,void 0,h),o=Hh(),e!==null&&!Me?(Fh(e,n,h),Ui(e,n,h)):(Ht&&o&&Rh(n),n.flags|=1,ke(e,n,s,h),n.child)}function yp(e,n,s,o,h,f){return ls(n),n.updateQueue=null,s=pg(n,o,s,h),gg(e),o=Hh(),e!==null&&!Me?(Fh(e,n,f),Ui(e,n,f)):(Ht&&o&&Rh(n),n.flags|=1,ke(e,n,s,f),n.child)}function _p(e,n,s,o,h){if(ls(n),n.stateNode===null){var f=$s,v=s.contextType;typeof v=="object"&&v!==null&&(f=Ke(v)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Uh(n),v=s.contextType,f.context=typeof v=="object"&&v!==null?Ke(v):$s,f.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(rf(n,s,v,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&sf.enqueueReplaceState(f,f.state,null),wo(n,o,f,h),Ro(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=hs(s,T);f.props=C;var z=f.context,Y=s.contextType;v=$s,typeof Y=="object"&&Y!==null&&(v=Ke(Y));var $=s.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==v)&&rp(n,f,o,v),Wi=!1;var B=n.memoizedState;f.state=B,wo(n,o,f,h),Ro(),z=n.memoizedState,T||B!==z||Wi?(typeof $=="function"&&(rf(n,s,$,o),z=n.memoizedState),(C=Wi||ip(n,s,C,o,B,z,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=v,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Lh(e,n),v=n.memoizedProps,Y=hs(s,v),f.props=Y,$=n.pendingProps,B=f.context,z=s.contextType,C=$s,typeof z=="object"&&z!==null&&(C=Ke(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==$||B!==C)&&rp(n,f,o,C),Wi=!1,B=n.memoizedState,f.state=B,wo(n,o,f,h),Ro();var q=n.memoizedState;v!==$||B!==q||Wi||e!==null&&e.dependencies!==null&&su(e.dependencies)?(typeof T=="function"&&(rf(n,s,T,o),q=n.memoizedState),(Y=Wi||ip(n,s,Y,o,B,q,C)||e!==null&&e.dependencies!==null&&su(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=Y):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=oa(n,e.child,null,h),n.child=oa(n,null,s,h)):ke(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ui(e,n,h),e}function vp(e,n,s,o){return yo(),n.flags|=256,ke(e,n,s,o),n.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(e){return{baseLanes:e,cachePool:ag()}}function cf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function Ep(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?ir(n):rr(),Ht){var T=ce,C;if(C=T){t:{for(C=T,T=ni;C.nodeType!==8;){if(!T){T=null;break t}if(C=qn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:is!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},C=mn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,rn=n,ce=null,C=!0):C=!1}C||as(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Yf(T)?n.lanes=32:n.lanes=536870912,null;xi(n)}return T=o.children,o=o.fallback,h?(rr(),h=n.mode,T=Ru({mode:"hidden",children:T},h),o=ns(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=uf(s),h.childLanes=cf(e,v,s),n.memoizedState=lf,o):(ir(n),hf(n,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(ir(n),n.flags&=-257,n=ff(e,n,s)):n.memoizedState!==null?(rr(),n.child=e.child,n.flags|=128,n=null):(rr(),h=o.fallback,T=n.mode,o=Ru({mode:"visible",children:o.children},T),h=ns(h,T,s,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,oa(n,e.child,null,s),o=n.child,o.memoizedState=uf(s),o.childLanes=cf(e,v,s),n.memoizedState=lf,n=h);else if(ir(n),Yf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,o=Error(a(419)),o.stack="",o.digest=v,_o({value:o,source:null,stack:null}),n=ff(e,n,s)}else if(Me||vo(e,n,s,!1),v=(s&e.childLanes)!==0,Me||v){if(v=ee,v!==null&&(o=s&-s,o=(o&42)!==0?1:Gi(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==C.retryLane))throw C.retryLane=o,Zs(e,o),vn(v,e,o),hp;T.data==="$?"||Vf(),n=ff(e,n,s)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ce=qn(T.nextSibling),rn=n,Ht=!0,ss=null,ni=!1,e!==null&&(Dn[On++]=Oi,Dn[On++]=Vi,Dn[On++]=is,Oi=e.id,Vi=e.overflow,is=n),n=hf(n,o.children),n.flags|=4096);return n}return h?(rr(),h=o.fallback,T=n.mode,C=e.child,z=C.sibling,o=Di(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?h=Di(z,h):(h=ns(h,T,s,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=e.child.memoizedState,T===null?T=uf(s):(C=T.cachePool,C!==null?(z=Ce._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=ag(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=cf(e,v,s),n.memoizedState=lf,o):(ir(n),s=e.child,e=s.sibling,s=Di(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function hf(e,n){return n=Ru({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ru(e,n){return e=mn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ff(e,n,s){return oa(n,e.child,null,s),e=hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Oh(e.return,n,s)}function df(e,n,s,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=h)}function Ap(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(ke(e,n,o.children,s),o=De.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,s,n);else if(e.tag===19)Tp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(rt(De,o),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Tu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),df(n,!1,h,s,f);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Tu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}df(n,!0,s,null,f);break;case"together":df(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ui(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ur|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(vo(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Di(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Di(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function mf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&su(e)))}function fT(e,n,s){switch(n.tag){case 3:Lt(n,n.stateNode.containerInfo),Ji(n,Ce,e.memoizedState.cache),yo();break;case 27:case 5:Un(n);break;case 4:Lt(n,n.stateNode.containerInfo);break;case 10:Ji(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ir(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ep(e,n,s):(ir(n),e=Ui(e,n,s),e!==null?e.sibling:null);ir(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(vo(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Ap(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(De,De.current),o)break;return null;case 22:case 23:return n.lanes=0,gp(e,n,s);case 24:Ji(n,Ce,e.memoizedState.cache)}return Ui(e,n,s)}function Sp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!mf(e,s)&&(n.flags&128)===0)return Me=!1,fT(e,n,s);Me=(e.flags&131072)!==0}else Me=!1,Ht&&(n.flags&1048576)!==0&&Wm(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Ah(o)?(e=hs(o,e),n.tag=1,n=_p(null,n,o,e,s)):(n.tag=0,n=of(null,n,o,e,s));else{if(o!=null){if(h=o.$$typeof,h===ut){n.tag=11,n=fp(null,n,o,e,s);break t}else if(h===V){n.tag=14,n=dp(null,n,o,e,s);break t}}throw n=ne(o)||o,Error(a(306,n,""))}}return n;case 0:return of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=hs(o,n.pendingProps),_p(e,n,o,h,s);case 3:t:{if(Lt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Lh(e,n),wo(n,o,null,s);var v=n.memoizedState;if(o=v.cache,Ji(n,Ce,o),o!==f.cache&&Vh(n,[Ce],s,!0),Ro(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vp(e,n,o,s);break t}else if(o!==h){h=wn(Error(a(424)),n),_o(h),n=vp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=qn(e.firstChild),rn=n,Ht=!0,ss=null,ni=!0,s=ep(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(yo(),o===h){n=Ui(e,n,s);break t}ke(e,n,o,s)}n=n.child}return n;case 26:return bu(e,n),e===null?(s=Cy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ht||(s=n.type,e=n.pendingProps,o=Bu(_t.current).createElement(s),o[be]=n,o[_e]=e,je(o,s,e),fe(o),n.stateNode=o):n.memoizedState=Cy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Un(n),e===null&&Ht&&(o=n.stateNode=by(n.type,n.pendingProps,_t.current),rn=n,ni=!0,h=ce,dr(n.type)?(Kf=h,ce=qn(o.firstChild)):ce=h),ke(e,n,n.pendingProps.children,s),bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((h=o=ce)&&(o=kT(o,n.type,n.pendingProps,ni),o!==null?(n.stateNode=o,rn=n,ce=qn(o.firstChild),ni=!1,h=!0):h=!1),h||as(n)),Un(n),h=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Ff(h,f)?o=null:v!==null&&Ff(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=jh(e,n,rT,null,null,s),Ko._currentValue=h),bu(e,n),ke(e,n,o,s),n.child;case 6:return e===null&&Ht&&((e=s=ce)&&(s=qT(s,n.pendingProps,ni),s!==null?(n.stateNode=s,rn=n,ce=null,e=!0):e=!1),e||as(n)),null;case 13:return Ep(e,n,s);case 4:return Lt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=oa(n,null,o,s):ke(e,n,o,s),n.child;case 11:return fp(e,n,n.type,n.pendingProps,s);case 7:return ke(e,n,n.pendingProps,s),n.child;case 8:return ke(e,n,n.pendingProps.children,s),n.child;case 12:return ke(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ji(n,n.type,o.value),ke(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ls(n),h=Ke(h),o=o(h),n.flags|=1,ke(e,n,o,s),n.child;case 14:return dp(e,n,n.type,n.pendingProps,s);case 15:return mp(e,n,n.type,n.pendingProps,s);case 19:return Ap(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=Ru(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Di(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return gp(e,n,s);case 24:return ls(n),o=Ke(Ce),e===null?(h=Mh(),h===null&&(h=ee,f=Nh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Uh(n),Ji(n,Ce,h)):((e.lanes&s)!==0&&(Lh(e,n),wo(n,null,null,s),Ro()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ji(n,Ce,o)):(o=f.cache,Ji(n,Ce,o),o!==h.cache&&Vh(n,[Ce],s,!0))),ke(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Li(e){e.flags|=4}function bp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Iy(n)){if(n=Vn.current,n!==null&&((Bt&4194048)===Bt?ii!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||n!==ii))throw So=xh,og;e.flags|=8192}}function wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xa():536870912,e.lanes|=n,ha|=n)}function Mo(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function dT(e,n,s){var o=n.pendingProps;switch(wh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ii(Ce),Qe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(po(n)?Li(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ng())),oe(n),null;case 26:return s=n.memoizedState,e===null?(Li(n),s!==null?(oe(n),bp(n,s)):(oe(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Li(n),oe(n),bp(n,s)):(oe(n),n.flags&=-16777217):(e.memoizedProps!==o&&Li(n),oe(n),n.flags&=-16777217),null;case 27:gi(n),s=_t.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Li(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}e=gt.current,po(n)?tg(n):(e=by(h,o,s),n.stateNode=e,Li(n))}return oe(n),null;case 5:if(gi(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Li(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}if(e=gt.current,po(n))tg(n);else{switch(h=Bu(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}e[be]=n,e[_e]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(je(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Li(n)}}return oe(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Li(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=_t.current,po(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=rn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[be]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||yy(e.nodeValue,s)),e||as(n)}else e=Bu(e).createTextNode(o),e[be]=n,n.stateNode=e}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=po(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[be]=n}else yo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=ng(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),wu(n,n.updateQueue),oe(n),null;case 4:return Qe(),e===null&&Bf(n.stateNode.containerInfo),oe(n),null;case 10:return Ii(n.type),oe(n),null;case 19:if(st(De),h=n.memoizedState,h===null)return oe(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)Mo(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Tu(e),f!==null){for(n.flags|=128,Mo(h,!1),e=f.updateQueue,n.updateQueue=e,wu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Jm(s,e),s=s.sibling;return rt(De,De.current&1|2),n.child}e=e.sibling}h.tail!==null&&En()>Ou&&(n.flags|=128,o=!0,Mo(h,!1),n.lanes=4194304)}else{if(!o)if(e=Tu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,wu(n,e),Mo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Ht)return oe(n),null}else 2*En()-h.renderingStartTime>Ou&&s!==536870912&&(n.flags|=128,o=!0,Mo(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=En(),n.sibling=null,e=De.current,rt(De,o?e&1|2:e&1),n):(oe(n),null);case 22:case 23:return xi(n),kh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),s=n.updateQueue,s!==null&&wu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&st(us),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ii(Ce),oe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function mT(e,n){switch(wh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ii(Ce),Qe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return gi(n),null;case 13:if(xi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));yo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return st(De),null;case 4:return Qe(),null;case 10:return Ii(n.type),null;case 22:case 23:return xi(n),kh(),e!==null&&st(us),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ii(Ce),null;case 25:return null;default:return null}}function Rp(e,n){switch(wh(n),n.tag){case 3:Ii(Ce),Qe();break;case 26:case 27:case 5:gi(n);break;case 4:Qe();break;case 13:xi(n);break;case 19:st(De);break;case 10:Ii(n.type);break;case 22:case 23:xi(n),kh(),e!==null&&st(us);break;case 24:Ii(Ce)}}function xo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,v=s.inst;o=f(),v.destroy=o}s=s.next}while(s!==h)}}catch(T){te(n,n.return,T)}}function sr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var C=s,z=T;try{z()}catch(Y){te(h,C,Y)}}}o=o.next}while(o!==f)}}catch(Y){te(n,n.return,Y)}}function wp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{dg(n,s)}catch(o){te(e,e.return,o)}}}function Cp(e,n,s){s.props=hs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){te(e,n,o)}}function Uo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){te(e,n,h)}}function ri(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){te(e,n,h)}else s.current=null}function Dp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){te(e,e.return,h)}}function gf(e,n,s){try{var o=e.stateNode;UT(o,e.type,s,n),o[_e]=n}catch(h){te(e,e.return,h)}}function Op(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dr(e.type)||e.tag===4}function pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zu));else if(o!==4&&(o===27&&dr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(yf(e,n,s),e=e.sibling;e!==null;)yf(e,n,s),e=e.sibling}function Cu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&dr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Cu(e,n,s),e=e.sibling;e!==null;)Cu(e,n,s),e=e.sibling}function Vp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,s),n[be]=e,n[_e]=s}catch(f){te(e,e.return,f)}}var Pi=!1,me=!1,_f=!1,Np=typeof WeakSet=="function"?WeakSet:Set,xe=null;function gT(e,n){if(e=e.containerInfo,jf=Gu,e=jm(e),gh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var v=0,T=-1,C=-1,z=0,Y=0,$=e,B=null;e:for(;;){for(var q;$!==s||h!==0&&$.nodeType!==3||(T=v+h),$!==f||o!==0&&$.nodeType!==3||(C=v+o),$.nodeType===3&&(v+=$.nodeValue.length),(q=$.firstChild)!==null;)B=$,$=q;for(;;){if($===e)break e;if(B===s&&++z===h&&(T=v),B===f&&++Y===o&&(C=v),(q=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=q}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hf={focusedElem:e,selectionRange:s},Gu=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var Tt=hs(s.type,h,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(Tt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){te(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Qf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function Ip(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ar(e,s),o&4&&xo(5,s);break;case 1:if(ar(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(v){te(s,s.return,v)}else{var h=hs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){te(s,s.return,v)}}o&64&&wp(s),o&512&&Uo(s,s.return);break;case 3:if(ar(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{dg(e,n)}catch(v){te(s,s.return,v)}}break;case 27:n===null&&o&4&&Vp(s);case 26:case 5:ar(e,s),n===null&&o&4&&Dp(s),o&512&&Uo(s,s.return);break;case 12:ar(e,s);break;case 13:ar(e,s),o&4&&Up(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=bT.bind(null,s),jT(e,s))));break;case 22:if(o=s.memoizedState!==null||Pi,!o){n=n!==null&&n.memoizedState!==null||me,h=Pi;var f=me;Pi=o,(me=n)&&!f?or(e,s,(s.subtreeFlags&8772)!==0):ar(e,s),Pi=h,me=f}break;case 30:break;default:ar(e,s)}}function Mp(e){var n=e.alternate;n!==null&&(e.alternate=null,Mp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ki(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,an=!1;function zi(e,n,s){for(s=s.child;s!==null;)xp(e,n,s),s=s.sibling}function xp(e,n,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ue,s)}catch{}switch(s.tag){case 26:me||ri(s,n),zi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:me||ri(s,n);var o=ae,h=an;dr(s.type)&&(ae=s.stateNode,an=!1),zi(e,n,s),Fo(s.stateNode),ae=o,an=h;break;case 5:me||ri(s,n);case 6:if(o=ae,h=an,ae=null,zi(e,n,s),ae=o,an=h,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){te(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){te(s,n,f)}break;case 18:ae!==null&&(an?(e=ae,Ay(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Jo(e)):Ay(ae,s.stateNode));break;case 4:o=ae,h=an,ae=s.stateNode.containerInfo,an=!0,zi(e,n,s),ae=o,an=h;break;case 0:case 11:case 14:case 15:me||sr(2,s,n),me||sr(4,s,n),zi(e,n,s);break;case 1:me||(ri(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Cp(s,n,o)),zi(e,n,s);break;case 21:zi(e,n,s);break;case 22:me=(o=me)||s.memoizedState!==null,zi(e,n,s),me=o;break;default:zi(e,n,s)}}function Up(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jo(e)}catch(s){te(n,n.return,s)}}function pT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Np),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Np),n;default:throw Error(a(435,e.tag))}}function vf(e,n){var s=pT(e);n.forEach(function(o){var h=RT.bind(null,e,o);s.has(o)||(s.add(o),o.then(h,h))})}function gn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(dr(T.type)){ae=T.stateNode,an=!1;break t}break;case 5:ae=T.stateNode,an=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(ae===null)throw Error(a(160));xp(f,v,h),ae=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lp(n,e),n=n.sibling}var kn=null;function Lp(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),o&4&&(sr(3,e,e.return),xo(3,e),sr(5,e,e.return));break;case 1:gn(n,e),pn(e),o&512&&(me||s===null||ri(s,s.return)),o&64&&Pi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=kn;if(gn(n,e),pn(e),o&512&&(me||s===null||ri(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[kr]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,s),f[be]=e,fe(f),o=f;break t;case"link":var v=Vy("link","href",h).get(o+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(o),je(f,o,s),h.head.appendChild(f);break;case"meta":if(v=Vy("meta","content",h).get(o+(s.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break e}}f=h.createElement(o),je(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[be]=e,fe(f),o=f}e.stateNode=o}else Ny(h,e.type,e.stateNode);else e.stateNode=Oy(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Ny(h,e.type,e.stateNode):Oy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&gf(e,e.memoizedProps,s.memoizedProps)}break;case 27:gn(n,e),pn(e),o&512&&(me||s===null||ri(s,s.return)),s!==null&&o&4&&gf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,e),pn(e),o&512&&(me||s===null||ri(s,s.return)),e.flags&32){h=e.stateNode;try{An(h,"")}catch(q){te(e,e.return,q)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,gf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(_f=!0);break;case 6:if(gn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(q){te(e,e.return,q)}}break;case 3:if(ju=null,h=kn,kn=ku(n.containerInfo),gn(n,e),kn=h,pn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Jo(n.containerInfo)}catch(q){te(e,e.return,q)}_f&&(_f=!1,Pp(e));break;case 4:o=kn,kn=ku(e.stateNode.containerInfo),gn(n,e),pn(e),kn=o;break;case 12:gn(n,e),pn(e);break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Rf=En()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,vf(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Pi,Y=me;if(Pi=z||h,me=Y||C,gn(n,e),me=Y,Pi=z,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Pi||me||fs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){te(C,C.return,q)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(q){te(C,C.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,vf(e,s))));break;case 19:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,vf(e,o)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Op(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=pf(e);Cu(e,f,h);break;case 5:var v=s.stateNode;s.flags&32&&(An(v,""),s.flags&=-33);var T=pf(e);Cu(e,T,v);break;case 3:case 4:var C=s.stateNode.containerInfo,z=pf(e);yf(e,z,C);break;default:throw Error(a(161))}}catch(Y){te(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ar(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ip(e,n.alternate,n),n=n.sibling}function fs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:sr(4,n,n.return),fs(n);break;case 1:ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Cp(n,n.return,s),fs(n);break;case 27:Fo(n.stateNode);case 26:case 5:ri(n,n.return),fs(n);break;case 22:n.memoizedState===null&&fs(n);break;case 30:fs(n);break;default:fs(n)}e=e.sibling}}function or(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:or(h,f,s),xo(4,f);break;case 1:if(or(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)fg(C[h],T)}catch(z){te(o,o.return,z)}}s&&v&64&&wp(f),Uo(f,f.return);break;case 27:Vp(f);case 26:case 5:or(h,f,s),s&&o===null&&v&4&&Dp(f),Uo(f,f.return);break;case 12:or(h,f,s);break;case 13:or(h,f,s),s&&v&4&&Up(h,f);break;case 22:f.memoizedState===null&&or(h,f,s),Uo(f,f.return);break;case 30:break;default:or(h,f,s)}n=n.sibling}}function Ef(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Eo(s))}function Tf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Eo(e))}function si(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zp(e,n,s,o),n=n.sibling}function zp(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(e,n,s,o),h&2048&&xo(9,n);break;case 1:si(e,n,s,o);break;case 3:si(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Eo(e)));break;case 12:if(h&2048){si(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){te(n,n.return,C)}}else si(e,n,s,o);break;case 13:si(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?si(e,n,s,o):Lo(e,n):f._visibility&2?si(e,n,s,o):(f._visibility|=2,la(e,n,s,o,(n.subtreeFlags&10256)!==0)),h&2048&&Ef(v,n);break;case 24:si(e,n,s,o),h&2048&&Tf(n.alternate,n);break;default:si(e,n,s,o)}}function la(e,n,s,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,T=s,C=o,z=v.flags;switch(v.tag){case 0:case 11:case 15:la(f,v,T,C,h),xo(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?la(f,v,T,C,h):Lo(f,v):(Y._visibility|=2,la(f,v,T,C,h)),h&&z&2048&&Ef(v.alternate,v);break;case 24:la(f,v,T,C,h),h&&z&2048&&Tf(v.alternate,v);break;default:la(f,v,T,C,h)}n=n.sibling}}function Lo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Lo(s,o),h&2048&&Ef(o.alternate,o);break;case 24:Lo(s,o),h&2048&&Tf(o.alternate,o);break;default:Lo(s,o)}n=n.sibling}}var Po=8192;function ua(e){if(e.subtreeFlags&Po)for(e=e.child;e!==null;)Bp(e),e=e.sibling}function Bp(e){switch(e.tag){case 26:ua(e),e.flags&Po&&e.memoizedState!==null&&e1(kn,e.memoizedState,e.memoizedProps);break;case 5:ua(e);break;case 3:case 4:var n=kn;kn=ku(e.stateNode.containerInfo),ua(e),kn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Po,Po=16777216,ua(e),Po=n):ua(e));break;default:ua(e)}}function kp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];xe=o,jp(o,e)}kp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qp(e),e=e.sibling}function qp(e){switch(e.tag){case 0:case 11:case 15:zo(e),e.flags&2048&&sr(9,e,e.return);break;case 3:zo(e);break;case 12:zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Du(e)):zo(e);break;default:zo(e)}}function Du(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];xe=o,jp(o,e)}kp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:sr(8,n,n.return),Du(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Du(n));break;default:Du(n)}e=e.sibling}}function jp(e,n){for(;xe!==null;){var s=xe;switch(s.tag){case 0:case 11:case 15:sr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Eo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,xe=o;else t:for(s=e;xe!==null;){o=xe;var h=o.sibling,f=o.return;if(Mp(o),o===s){xe=null;break t}if(h!==null){h.return=f,xe=h;break t}xe=f}}}var yT={getCacheForType:function(e){var n=Ke(Ce),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},_T=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ee=null,Mt=null,Bt=0,Kt=0,yn=null,lr=!1,ca=!1,Af=!1,Bi=0,he=0,ur=0,ds=0,Sf=0,Nn=0,ha=0,Bo=null,on=null,bf=!1,Rf=0,Ou=1/0,Vu=null,cr=null,qe=0,hr=null,fa=null,da=0,wf=0,Cf=null,Hp=null,ko=0,Df=null;function _n(){if((Yt&2)!==0&&Bt!==0)return Bt&-Bt;if(Q.T!==null){var e=ta;return e!==0?e:Uf()}return Qi()}function Fp(){Nn===0&&(Nn=(Bt&536870912)===0||Ht?Ka():536870912);var e=Vn.current;return e!==null&&(e.flags|=32),Nn}function vn(e,n,s){(e===ee&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(ma(e,0),fr(e,Bt,Nn,!1)),yi(e,s),((Yt&2)===0||e!==ee)&&(e===ee&&((Yt&2)===0&&(ds|=s),he===4&&fr(e,Bt,Nn,!1)),ai(e))}function Gp(e,n,s){if((Yt&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Br(e,n),h=o?TT(e,n):Nf(e,n,!0),f=o;do{if(h===0){ca&&!o&&fr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!vT(s)){h=Nf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;h=Bo;var C=T.current.memoizedState.isDehydrated;if(C&&(ma(T,v).flags|=256),v=Nf(T,v,!1),v!==2){if(Af&&!C){T.errorRecoveryDisabledLanes|=f,ds|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){ma(e,0),fr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:fr(o,n,Nn,!lr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Rf+300-En(),10<h)){if(fr(o,n,Nn,!lr),Ns(o,0,!0)!==0)break t;o.timeoutHandle=Ey(Qp.bind(null,o,s,on,Vu,bf,n,Nn,ds,ha,lr,f,2,-0,0),h);break t}Qp(o,s,on,Vu,bf,n,Nn,ds,ha,lr,f,0,-0,0)}}break}while(!0);ai(e)}function Qp(e,n,s,o,h,f,v,T,C,z,Y,$,B,q){if(e.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Yo={stylesheets:null,count:0,unsuspend:t1},Bp(n),$=n1(),$!==null)){e.cancelPendingCommit=$(Wp.bind(null,e,n,f,s,o,h,v,T,C,Y,1,B,q)),fr(e,f,v,!z);return}Wp(e,n,f,s,o,h,v,T,C)}function vT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fr(e,n,s,o){n&=~Sf,n&=~ds,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ye(h),v=1<<f;o[f]=-1,h&=~v}s!==0&&Gn(e,s,n)}function Nu(){return(Yt&6)===0?(qo(0),!1):!0}function Of(){if(Mt!==null){if(Kt===0)var e=Mt.return;else e=Mt,Ni=os=null,Gh(e),aa=null,No=0,e=Mt;for(;e!==null;)Rp(e.alternate,e),e=e.return;Mt=null}}function ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,PT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Of(),ee=e,Mt=s=Di(e.current,null),Bt=n,Kt=0,yn=null,lr=!1,ca=Br(e,n),Af=!1,ha=Nn=Sf=ds=ur=he=0,on=Bo=null,bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ye(o),f=1<<h;n|=e[h],o&=~f}return Bi=n,Wl(),s}function Yp(e,n){Ot=null,Q.H=_u,n===Ao||n===lu?(n=cg(),Kt=3):n===og?(n=cg(),Kt=4):Kt=n===hp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Mt===null&&(he=1,Su(e,wn(n,e.current)))}function Kp(){var e=Q.H;return Q.H=_u,e===null?_u:e}function Xp(){var e=Q.A;return Q.A=yT,e}function Vf(){he=4,lr||(Bt&4194048)!==Bt&&Vn.current!==null||(ca=!0),(ur&134217727)===0&&(ds&134217727)===0||ee===null||fr(ee,Bt,Nn,!1)}function Nf(e,n,s){var o=Yt;Yt|=2;var h=Kp(),f=Xp();(ee!==e||Bt!==n)&&(Vu=null,ma(e,n)),n=!1;var v=he;t:do try{if(Kt!==0&&Mt!==null){var T=Mt,C=yn;switch(Kt){case 8:Of(),v=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=Kt;if(Kt=0,yn=null,ga(e,T,C,z),s&&ca){v=0;break t}break;default:z=Kt,Kt=0,yn=null,ga(e,T,C,z)}}ET(),v=he;break}catch(Y){Yp(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Ni=os=null,Yt=o,Q.H=h,Q.A=f,Mt===null&&(ee=null,Bt=0,Wl()),v}function ET(){for(;Mt!==null;)Zp(Mt)}function TT(e,n){var s=Yt;Yt|=2;var o=Kp(),h=Xp();ee!==e||Bt!==n?(Vu=null,Ou=En()+500,ma(e,n)):ca=Br(e,n);t:do try{if(Kt!==0&&Mt!==null){n=Mt;var f=yn;e:switch(Kt){case 1:Kt=0,yn=null,ga(e,n,f,1);break;case 2:case 9:if(lg(f)){Kt=0,yn=null,$p(n);break}n=function(){Kt!==2&&Kt!==9||ee!==e||(Kt=7),ai(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:lg(f)?(Kt=0,yn=null,$p(n)):(Kt=0,yn=null,ga(e,n,f,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var T=Mt;if(!v||Iy(v)){Kt=0,yn=null;var C=T.sibling;if(C!==null)Mt=C;else{var z=T.return;z!==null?(Mt=z,Iu(z)):Mt=null}break e}}Kt=0,yn=null,ga(e,n,f,5);break;case 6:Kt=0,yn=null,ga(e,n,f,6);break;case 8:Of(),he=6;break t;default:throw Error(a(462))}}AT();break}catch(Y){Yp(e,Y)}while(!0);return Ni=os=null,Q.H=o,Q.A=h,Yt=s,Mt!==null?0:(ee=null,Bt=0,Wl(),he)}function AT(){for(;Mt!==null&&!Fa();)Zp(Mt)}function Zp(e){var n=Sp(e.alternate,e,Bi);e.memoizedProps=e.pendingProps,n===null?Iu(e):Mt=n}function $p(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=yp(s,n,n.pendingProps,n.type,void 0,Bt);break;case 11:n=yp(s,n,n.pendingProps,n.type.render,n.ref,Bt);break;case 5:Gh(n);default:Rp(s,n),n=Mt=Jm(n,Bi),n=Sp(s,n,Bi)}e.memoizedProps=e.pendingProps,n===null?Iu(e):Mt=n}function ga(e,n,s,o){Ni=os=null,Gh(n),aa=null,No=0;var h=n.return;try{if(hT(e,h,n,s,Bt)){he=1,Su(e,wn(s,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;he=1,Su(e,wn(s,e.current)),Mt=null;return}n.flags&32768?(Ht||o===1?e=!0:ca||(Bt&536870912)!==0?e=!1:(lr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jp(n,e)):Iu(n)}function Iu(e){var n=e;do{if((n.flags&32768)!==0){Jp(n,lr);return}e=n.return;var s=dT(n.alternate,n,Bi);if(s!==null){Mt=s;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);he===0&&(he=5)}function Jp(e,n){do{var s=mT(e.alternate,e);if(s!==null){s.flags&=32767,Mt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=s}while(e!==null);he=6,Mt=null}function Wp(e,n,s,o,h,f,v,T,C){e.cancelPendingCommit=null;do Mu();while(qe!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Eh,Za(e,s,f,v,T,C),e===ee&&(Mt=ee=null,Bt=0),fa=n,hr=e,da=s,wf=f,Cf=h,Hp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wT(Ur,function(){return ry(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=ot.p,ot.p=2,v=Yt,Yt|=4;try{gT(e,n,s)}finally{Yt=v,ot.p=h,Q.T=o}}qe=1,ty(),ey(),ny()}}function ty(){if(qe===1){qe=0;var e=hr,n=fa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=ot.p;ot.p=2;var h=Yt;Yt|=4;try{Lp(n,e);var f=Hf,v=jm(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&qm(T.ownerDocument.documentElement,T)){if(C!==null&&gh(T)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var q=B.getSelection(),Tt=T.textContent.length,yt=Math.min(C.start,Tt),Jt=C.end===void 0?yt:Math.min(C.end,Tt);!q.extend&&yt>Jt&&(v=Jt,Jt=yt,yt=v);var U=km(T,yt),I=km(T,Jt);if(U&&I&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var P=$.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),yt>Jt?(q.addRange(P),q.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),q.addRange(P))}}}}for($=[],q=T;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Gu=!!jf,Hf=jf=null}finally{Yt=h,ot.p=o,Q.T=s}}e.current=n,qe=2}}function ey(){if(qe===2){qe=0;var e=hr,n=fa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=ot.p;ot.p=2;var h=Yt;Yt|=4;try{Ip(e,n.alternate,n)}finally{Yt=h,ot.p=o,Q.T=s}}qe=3}}function ny(){if(qe===4||qe===3){qe=0,Dl();var e=hr,n=fa,s=da,o=Hp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,fa=hr=null,iy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(cr=null),Is(s),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ue,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=ot.p,ot.p=2,Q.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,ot.p=h}}(da&3)!==0&&Mu(),ai(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Df?ko++:(ko=0,Df=e):ko=0,qo(0)}}function iy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Eo(n)))}function Mu(e){return ty(),ey(),ny(),ry()}function ry(){if(qe!==5)return!1;var e=hr,n=wf;wf=0;var s=Is(da),o=Q.T,h=ot.p;try{ot.p=32>s?32:s,Q.T=null,s=Cf,Cf=null;var f=hr,v=da;if(qe=0,fa=hr=null,da=0,(Yt&6)!==0)throw Error(a(331));var T=Yt;if(Yt|=4,qp(f.current),zp(f,f.current,v,s),Yt=T,qo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ue,f)}catch{}return!0}finally{ot.p=h,Q.T=o,iy(e,n)}}function sy(e,n,s){n=wn(s,n),n=af(e.stateNode,n,2),e=er(e,n,2),e!==null&&(yi(e,2),ai(e))}function te(e,n,s){if(e.tag===3)sy(e,e,s);else for(;n!==null;){if(n.tag===3){sy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cr===null||!cr.has(o))){e=wn(s,e),s=up(2),o=er(n,s,2),o!==null&&(cp(s,o,n,e),yi(o,2),ai(o));break}}n=n.return}}function If(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new _T;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Af=!0,h.add(s),e=ST.bind(null,e,n,s),n.then(e,e))}function ST(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Bt&s)===s&&(he===4||he===3&&(Bt&62914560)===Bt&&300>En()-Rf?(Yt&2)===0&&ma(e,0):Sf|=s,ha===Bt&&(ha=0)),ai(e)}function ay(e,n){n===0&&(n=Xa()),e=Zs(e,n),e!==null&&(yi(e,n),ai(e))}function bT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ay(e,s)}function RT(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),ay(e,s)}function wT(e,n){return Mr(e,n)}var xu=null,pa=null,Mf=!1,Uu=!1,xf=!1,ms=0;function ai(e){e!==pa&&e.next===null&&(pa===null?xu=pa=e:pa=pa.next=e),Uu=!0,Mf||(Mf=!0,DT())}function qo(e,n){if(!xf&&Uu){xf=!0;do for(var s=!1,o=xu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Ye(42|e)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,cy(o,f))}else f=Bt,f=Ns(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Br(o,f)||(s=!0,cy(o,f));o=o.next}while(s);xf=!1}}function CT(){oy()}function oy(){Uu=Mf=!1;var e=0;ms!==0&&(LT()&&(e=ms),ms=0);for(var n=En(),s=null,o=xu;o!==null;){var h=o.next,f=ly(o,n);f===0?(o.next=null,s===null?xu=h:s.next=h,h===null&&(pa=s)):(s=o,(e!==0||(f&3)!==0)&&(Uu=!0)),o=h}qo(e)}function ly(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ye(f),T=1<<v,C=h[v];C===-1?((T&s)===0||(T&o)!==0)&&(h[v]=Ya(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=ee,s=Bt,s=Ns(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&xr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Br(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&xr(o),Is(s)){case 2:case 8:s=Os;break;case 32:s=Ur;break;case 268435456:s=Vs;break;default:s=Ur}return o=uy.bind(null,e),s=Mr(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&xr(o),e.callbackPriority=2,e.callbackNode=null,2}function uy(e,n){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Mu()&&e.callbackNode!==s)return null;var o=Bt;return o=Ns(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Gp(e,o,n),ly(e,En()),e.callbackNode!=null&&e.callbackNode===s?uy.bind(null,e):null)}function cy(e,n){if(Mu())return null;Gp(e,n,!0)}function DT(){zT(function(){(Yt&6)!==0?Mr(Ga,CT):oy()})}function Uf(){return ms===0&&(ms=Ka()),ms}function hy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function OT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=hy((h[_e]||null).action),v=o.submitter;v&&(n=(n=v[_e]||null)?hy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Bs("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ms!==0){var C=v?fy(h,v):new FormData(h);tf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=v?fy(h,v):new FormData(h),tf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Lf=0;Lf<vh.length;Lf++){var Pf=vh[Lf],VT=Pf.toLowerCase(),NT=Pf[0].toUpperCase()+Pf.slice(1);Bn(VT,"on"+NT)}Bn(Gm,"onAnimationEnd"),Bn(Qm,"onAnimationIteration"),Bn(Ym,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(K0,"onTransitionRun"),Bn(X0,"onTransitionStart"),Bn(Z0,"onTransitionCancel"),Bn(Km,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function dy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Y){Au(Y)}h.currentTarget=null,f=C}else for(v=0;v<o.length;v++){if(T=o[v],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Y){Au(Y)}h.currentTarget=null,f=C}}}}function xt(e,n){var s=n[Ja];s===void 0&&(s=n[Ja]=new Set);var o=e+"__bubble";s.has(o)||(my(n,e,2,!1),s.add(o))}function zf(e,n,s){var o=0;n&&(o|=4),my(s,e,o,n)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[Lu]){e[Lu]=!0,Wa.forEach(function(s){s!=="selectionchange"&&(IT.has(s)||zf(s,!1,e),zf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Lu]||(n[Lu]=!0,zf("selectionchange",!1,n))}}function my(e,n,s,o){switch(zy(n)){case 2:var h=s1;break;case 8:h=a1;break;default:h=Wf}s=h.bind(null,n,s,e),h=void 0,!bn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function kf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=_i(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=f=v;continue t}T=T.parentNode}}o=o.return}zl(function(){var z=f,Y=Sn(s),$=[];t:{var B=Xm.get(e);if(B!==void 0){var q=Bs,Tt=e;switch(e){case"keypress":if($n(s)===0)break t;case"keydown":case"keyup":q=Gs;break;case"focusin":Tt="focus",q=js;break;case"focusout":Tt="blur",q=js;break;case"beforeblur":case"afterblur":q=js;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Ql;break;case Gm:case Qm:case Ym:q=Hs;break;case Km:q=Kl;break;case"scroll":case"scrollend":q=Bl;break;case"wheel":q=Qs;break;case"copy":case"cut":case"paste":q=Fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ho;break;case"toggle":case"beforetoggle":q=Zl}var yt=(n&4)!==0,Jt=!yt&&(e==="scroll"||e==="scrollend"),U=yt?B!==null?B+"Capture":null:B;yt=[];for(var I=z,P;I!==null;){var X=I;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||U===null||(X=Yr(I,U),X!=null&&yt.push(Ho(I,X,P))),Jt)break;I=I.return}0<yt.length&&(B=new q(B,Tt,null,s,Y),$.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&s!==Ai&&(Tt=s.relatedTarget||s.fromElement)&&(_i(Tt)||Tt[Tn]))break t;if((q||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Tt=s.relatedTarget||s.toElement,q=z,Tt=Tt?_i(Tt):null,Tt!==null&&(Jt=c(Tt),yt=Tt.tag,Tt!==Jt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(q=null,Tt=z),q!==Tt)){if(yt=Rn,X="onMouseLeave",U="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ho,X="onPointerLeave",U="onPointerEnter",I="pointer"),Jt=q==null?B:Yn(q),P=Tt==null?B:Yn(Tt),B=new yt(X,I+"leave",q,s,Y),B.target=Jt,B.relatedTarget=P,X=null,_i(Y)===z&&(yt=new yt(U,I+"enter",Tt,s,Y),yt.target=P,yt.relatedTarget=Jt,X=yt),Jt=X,q&&Tt)e:{for(yt=q,U=Tt,I=0,P=yt;P;P=ya(P))I++;for(P=0,X=U;X;X=ya(X))P++;for(;0<I-P;)yt=ya(yt),I--;for(;0<P-I;)U=ya(U),P--;for(;I--;){if(yt===U||U!==null&&yt===U.alternate)break e;yt=ya(yt),U=ya(U)}yt=null}else yt=null;q!==null&&gy($,B,q,yt,!1),Tt!==null&&Jt!==null&&gy($,Jt,Tt,yt,!0)}}t:{if(B=z?Yn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ft=xm;else if(we(B))if(Um)ft=G0;else{ft=H0;var It=j0}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ro(z.elementType)&&(ft=xm):ft=F0;if(ft&&(ft=ft(e,z))){Ci($,ft,s,Y);break t}It&&It(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Zi(B,"number",B.value)}switch(It=z?Yn(z):window,e){case"focusin":(we(It)||It.contentEditable==="true")&&(Ys=It,ph=z,go=null);break;case"focusout":go=ph=Ys=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,Hm($,s,Y);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":Hm($,s,Y)}var mt;if(ti)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Pt?F(e,s)&&(vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(vt="onCompositionStart");vt&&(y&&s.locale!=="ko"&&(Pt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Pt&&(mt=ao()):(Zn=Y,$i="value"in Zn?Zn.value:Zn.textContent,Pt=!0)),It=Pu(z,vt),0<It.length&&(vt=new uo(vt,e,null,s,Y),$.push({event:vt,listeners:It}),mt?vt.data=mt:(mt=at(s),mt!==null&&(vt.data=mt)))),(mt=m?Re(e,s):zt(e,s))&&(vt=Pu(z,"onBeforeInput"),0<vt.length&&(It=new uo("onBeforeInput","beforeinput",null,s,Y),$.push({event:It,listeners:vt}),It.data=mt)),OT($,e,z,s,Y)}dy($,n)})}function Ho(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Pu(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yr(e,s),h!=null&&o.unshift(Ho(e,h,f)),h=Yr(e,n),h!=null&&o.push(Ho(e,h,f))),e.tag===3)return o;e=e.return}return[]}function ya(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gy(e,n,s,o,h){for(var f=n._reactName,v=[];s!==null&&s!==o;){var T=s,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=Yr(s,f),z!=null&&v.unshift(Ho(s,z,C))):h||(z=Yr(s,f),z!=null&&v.push(Ho(s,z,C)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var MT=/\r\n?/g,xT=/\u0000|\uFFFD/g;function py(e){return(typeof e=="string"?e:""+e).replace(MT,`
`).replace(xT,"")}function yy(e,n){return n=py(n),py(e)===n}function zu(){}function $t(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||An(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&An(e,""+o);break;case"className":Kn(e,"class",o);break;case"tabIndex":Kn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(e,s,o);break;case"style":io(e,o,f);break;case"data":if(n!=="object"){Kn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=zs(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=zs(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zu);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=zs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),Xi(e,"popover",o);break;case"xlinkActuate":ze(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ze(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ze(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ze(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ze(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ze(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ze(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ze(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ze(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uh.get(s)||s,Xi(e,s,o))}}function qf(e,n,s,o,h,f){switch(s){case"style":io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?An(e,o):(typeof o=="number"||typeof o=="bigint")&&An(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ms.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[_e]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Xi(e,s,o)}}}function je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,v,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),o&&$t(e,n,"src",s.src,s,null);return;case"input":xt("invalid",e);var T=f=v=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var Y=s[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":v=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:$t(e,n,o,Y,s,null)}}Fr(e,f,T,C,z,v,h,!1),Ps(e);return;case"select":xt("invalid",e),o=v=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:$t(e,n,h,T,s,null)}n=f,s=v,e.multiple=!!o,n!=null?Ti(e,!!o,n,!1):s!=null&&Ti(e,!!o,s,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:$t(e,n,v,T,s,null)}Gr(e,o,h,f),Ps(e);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,n,C,o,s,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<jo.length;o++)xt(jo[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,z,o,s,null)}return;default:if(ro(n)){for(Y in s)s.hasOwnProperty(Y)&&(o=s[Y],o!==void 0&&qf(e,n,Y,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&$t(e,n,T,o,s,null))}function UT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,C=null,z=null,Y=null;for(q in s){var $=s[q];if(s.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(q)||$t(e,n,q,null,o,$)}}for(var B in o){var q=o[B];if($=s[B],o.hasOwnProperty(B)&&(q!=null||$!=null))switch(B){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":Y=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==$&&$t(e,n,B,q,o,$)}}fn(e,v,T,C,z,Y,f,h);return;case"select":q=v=T=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==C&&$t(e,n,h,f,o,C)}n=T,s=v,o=q,B!=null?Ti(e,!!s,B,!1):!!o!=!!s&&(n!=null?Ti(e,!!s,n,!0):Ti(e,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(e,n,T,null,o,h)}for(v in o)if(h=o[v],f=s[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,v,h,o,f)}Xt(e,B,q);return;case"option":for(var Tt in s)if(B=s[Tt],s.hasOwnProperty(Tt)&&B!=null&&!o.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:$t(e,n,Tt,null,o,B)}for(C in o)if(B=o[C],q=s[C],o.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:$t(e,n,C,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)B=s[yt],s.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&$t(e,n,yt,null,o,B);for(z in o)if(B=o[z],q=s[z],o.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:$t(e,n,z,B,o,q)}return;default:if(ro(n)){for(var Jt in s)B=s[Jt],s.hasOwnProperty(Jt)&&B!==void 0&&!o.hasOwnProperty(Jt)&&qf(e,n,Jt,void 0,o,B);for(Y in o)B=o[Y],q=s[Y],!o.hasOwnProperty(Y)||B===q||B===void 0&&q===void 0||qf(e,n,Y,B,o,q);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&$t(e,n,U,null,o,B);for($ in o)B=o[$],q=s[$],!o.hasOwnProperty($)||B===q||B==null&&q==null||$t(e,n,$,B,o,q)}var jf=null,Hf=null;function Bu(e){return e.nodeType===9?e:e.ownerDocument}function _y(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ff(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gf=null;function LT(){var e=window.event;return e&&e.type==="popstate"?e===Gf?!1:(Gf=e,!0):(Gf=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(e){return Ty.resolve(null).then(e).catch(BT)}:Ey;function BT(e){setTimeout(function(){throw e})}function dr(e){return e==="head"}function Ay(e,n){var s=n,o=0,h=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var v=e.ownerDocument;if(s&1&&Fo(v.documentElement),s&2&&Fo(v.body),s&4)for(s=v.head,Fo(s),v=s.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[kr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(h===0){e.removeChild(f),Jo(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);Jo(n)}function Qf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qf(s),Ki(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function kT(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[kr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function qT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=qn(e.nextSibling),e===null))return null;return e}function Yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function jT(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Kf=null;function Sy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function by(e,n,s){switch(n=Bu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Fo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ki(e)}var In=new Map,Ry=new Set;function ku(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ki=ot.d;ot.d={f:HT,r:FT,D:GT,C:QT,L:YT,m:KT,X:ZT,S:XT,M:$T};function HT(){var e=ki.f(),n=Nu();return e||n}function FT(e){var n=Qn(e);n!==null&&n.tag===5&&n.type==="form"?Gg(n):ki.r(e)}var _a=typeof document>"u"?null:document;function wy(e,n,s){var o=_a;if(o&&typeof n=="string"&&n){var h=ve(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Ry.has(h)||(Ry.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),fe(n),o.head.appendChild(n)))}}function GT(e){ki.D(e),wy("dns-prefetch",e,null)}function QT(e,n){ki.C(e,n),wy("preconnect",e,n)}function YT(e,n,s){ki.L(e,n,s);var o=_a;if(o&&e&&n){var h='link[rel="preload"][as="'+ve(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ve(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ve(s.imageSizes)+'"]')):h+='[href="'+ve(e)+'"]';var f=h;switch(n){case"style":f=va(e);break;case"script":f=Ea(e)}In.has(f)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),In.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Go(f))||n==="script"&&o.querySelector(Qo(f))||(n=o.createElement("link"),je(n,"link",e),fe(n),o.head.appendChild(n)))}}function KT(e,n){ki.m(e,n);var s=_a;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ve(o)+'"][href="'+ve(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ea(e)}if(!In.has(f)&&(e=E({rel:"modulepreload",href:e},n),In.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Qo(f)))return}o=s.createElement("link"),je(o,"link",e),fe(o),s.head.appendChild(o)}}}function XT(e,n,s){ki.S(e,n,s);var o=_a;if(o&&e){var h=tn(o).hoistableStyles,f=va(e);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Go(f)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=In.get(f))&&Xf(e,s);var C=v=o.createElement("link");fe(C),je(C,"link",e),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qu(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function ZT(e,n){ki.X(e,n);var s=_a;if(s&&e){var o=tn(s).hoistableScripts,h=Ea(e),f=o.get(h);f||(f=s.querySelector(Qo(h)),f||(e=E({src:e,async:!0},n),(n=In.get(h))&&Zf(e,n),f=s.createElement("script"),fe(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $T(e,n){ki.M(e,n);var s=_a;if(s&&e){var o=tn(s).hoistableScripts,h=Ea(e),f=o.get(h);f||(f=s.querySelector(Qo(h)),f||(e=E({src:e,async:!0,type:"module"},n),(n=In.get(h))&&Zf(e,n),f=s.createElement("script"),fe(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Cy(e,n,s,o){var h=(h=_t.current)?ku(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=va(s.href),s=tn(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=va(s.href);var f=tn(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(Go(e)))&&!f._p&&(v.instance=f,v.state.loading=5),In.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},In.set(e,s),f||JT(h,e,s,v.state))),n&&o===null)throw Error(a(528,""));return v}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ea(s),s=tn(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function va(e){return'href="'+ve(e)+'"'}function Go(e){return'link[rel="stylesheet"]['+e+"]"}function Dy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function JT(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",s),fe(n),e.head.appendChild(n))}function Ea(e){return'[src="'+ve(e)+'"]'}function Qo(e){return"script[async]"+e}function Oy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ve(s.href)+'"]');if(o)return n.instance=o,fe(o),o;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),fe(o),je(o,"style",h),qu(o,s.precedence,e),n.instance=o;case"stylesheet":h=va(s.href);var f=e.querySelector(Go(h));if(f)return n.state.loading|=4,n.instance=f,fe(f),f;o=Dy(s),(h=In.get(h))&&Xf(o,h),f=(e.ownerDocument||e).createElement("link"),fe(f);var v=f;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),je(f,"link",o),n.state.loading|=4,qu(f,s.precedence,e),n.instance=f;case"script":return f=Ea(s.src),(h=e.querySelector(Qo(f)))?(n.instance=h,fe(h),h):(o=s,(h=In.get(f))&&(o=E({},s),Zf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,qu(o,s.precedence,e));return n.instance}function qu(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Zf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ju=null;function Vy(e,n,s){if(ju===null){var o=new Map,h=ju=new Map;h.set(s,o)}else h=ju,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[kr]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var T=o.get(v);T?T.push(f):o.set(v,[f])}}return o}function Ny(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function WT(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Iy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Yo=null;function t1(){}function e1(e,n,s){if(Yo===null)throw Error(a(475));var o=Yo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=va(s.href),f=e.querySelector(Go(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Hu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,fe(f);return}f=e.ownerDocument||e,s=Dy(s),(h=In.get(h))&&Xf(s,h),f=f.createElement("link"),fe(f);var v=f;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),je(f,"link",s),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Hu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function n1(){if(Yo===null)throw Error(a(475));var e=Yo;return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Hu(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fu=null;function $f(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fu=new Map,n.forEach(i1,e),Fu=null,Hu.call(e))}function i1(e,n){if(!(n.state.loading&4)){var s=Fu.get(e);if(s)var o=s.get(null);else{s=new Map,Fu.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),f=s.get(v)||o,f===o&&s.set(null,h),s.set(v,h),this.count++,o=Hu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ko={$$typeof:et,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function r1(e,n,s,o,h,f,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function My(e,n,s,o,h,f,v,T,C,z,Y,$){return e=new r1(e,n,s,v,T,C,z,$),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Nh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Uh(f),e}function xy(e){return e?(e=$s,e):$s}function Uy(e,n,s,o,h,f){h=xy(h),o.context===null?o.context=h:o.pendingContext=h,o=tr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=er(e,o,n),s!==null&&(vn(s,e,n),bo(s,e,n))}function Ly(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Jf(e,n){Ly(e,n),(e=e.alternate)&&Ly(e,n)}function Py(e){if(e.tag===13){var n=Zs(e,67108864);n!==null&&vn(n,e,67108864),Jf(e,67108864)}}var Gu=!0;function s1(e,n,s,o){var h=Q.T;Q.T=null;var f=ot.p;try{ot.p=2,Wf(e,n,s,o)}finally{ot.p=f,Q.T=h}}function a1(e,n,s,o){var h=Q.T;Q.T=null;var f=ot.p;try{ot.p=8,Wf(e,n,s,o)}finally{ot.p=f,Q.T=h}}function Wf(e,n,s,o){if(Gu){var h=td(o);if(h===null)kf(e,n,o,Qu,s),By(e,o);else if(l1(h,e,n,s,o))o.stopPropagation();else if(By(e,o),n&4&&-1<o1.indexOf(e)){for(;h!==null;){var f=Qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Ln(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Ye(v);T.entanglements[1]|=C,v&=~C}ai(f),(Yt&6)===0&&(Ou=En()+500,qo(0))}}break;case 13:T=Zs(f,2),T!==null&&vn(T,f,2),Nu(),Jf(f,2)}if(f=td(o),f===null&&kf(e,n,o,Qu,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else kf(e,n,o,null,s)}}function td(e){return e=Sn(e),ed(e)}var Qu=null;function ed(e){if(Qu=null,e=_i(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Qu=e,null}function zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ih()){case Ga:return 2;case Os:return 8;case Ur:case rh:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var nd=!1,mr=null,gr=null,pr=null,Xo=new Map,Zo=new Map,yr=[],o1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(e,n){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Xo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(n.pointerId)}}function $o(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Qn(n),n!==null&&Py(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function l1(e,n,s,o,h){switch(n){case"focusin":return mr=$o(mr,e,n,s,o,h),!0;case"dragenter":return gr=$o(gr,e,n,s,o,h),!0;case"mouseover":return pr=$o(pr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Xo.set(f,$o(Xo.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Zo.set(f,$o(Zo.get(f)||null,e,n,s,o,h)),!0}return!1}function ky(e){var n=_i(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Nl(e.priority,function(){if(s.tag===13){var o=_n();o=Gi(o);var h=Zs(s,o);h!==null&&vn(h,s,o),Jf(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=td(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ai=o,s.target.dispatchEvent(o),Ai=null}else return n=Qn(s),n!==null&&Py(n),e.blockedOn=s,!1;n.shift()}return!0}function qy(e,n,s){Yu(e)&&s.delete(n)}function u1(){nd=!1,mr!==null&&Yu(mr)&&(mr=null),gr!==null&&Yu(gr)&&(gr=null),pr!==null&&Yu(pr)&&(pr=null),Xo.forEach(qy),Zo.forEach(qy)}function Ku(e,n){e.blockedOn===n&&(e.blockedOn=null,nd||(nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,u1)))}var Xu=null;function jy(e){Xu!==e&&(Xu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xu===e&&(Xu=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(ed(o||s)===null)continue;break}var f=Qn(s);f!==null&&(e.splice(n,3),n-=3,tf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Jo(e){function n(C){return Ku(C,e)}mr!==null&&Ku(mr,e),gr!==null&&Ku(gr,e),pr!==null&&Ku(pr,e),Xo.forEach(n),Zo.forEach(n);for(var s=0;s<yr.length;s++){var o=yr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<yr.length&&(s=yr[0],s.blockedOn===null);)ky(s),s.blockedOn===null&&yr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],v=h[_e]||null;if(typeof f=="function")v||jy(s);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[_e]||null)T=v.formAction;else if(ed(h)!==null)continue}else T=v.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),jy(s)}}}function id(e){this._internalRoot=e}Zu.prototype.render=id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=_n();Uy(s,o,e,n,null,null)},Zu.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Uy(e.current,2,null,e,null,null),Nu(),n[Tn]=null}};function Zu(e){this._internalRoot=e}Zu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qi();e={blockedOn:null,target:e,priority:n};for(var s=0;s<yr.length&&n!==0&&n<yr[s].priority;s++);yr.splice(s,0,e),s===0&&ky(e)}};var Hy=t.version;if(Hy!=="19.1.0")throw Error(a(527,Hy,"19.1.0"));ot.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var c1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{ue=$u.inject(c1),Qt=$u}catch{}}return tl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=sp,f=ap,v=op,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=My(e,1,!1,null,null,s,o,h,f,v,T,null),e[Tn]=n.current,Bf(e),new id(n)},tl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=sp,v=ap,T=op,C=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),n=My(e,1,!0,n,s??null,o,h,f,v,T,C,z),n.context=xy(null),s=n.current,o=_n(),o=Gi(o),h=tr(o),h.callback=null,er(s,h,o),s=o,n.current.lanes=s,yi(n,s),ai(n),e[Tn]=n.current,Bf(e),new Zu(n)},tl.version="19.1.0",tl}var Wy;function T1(){if(Wy)return ad.exports;Wy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ad.exports=E1(),ad.exports}var A1=T1();const S1=$d(A1),t_=({items:r})=>Rt.jsxs("div",{className:"item-list-container",children:[Rt.jsx("h3",{children:" Shopping List"}),r.length===0?Rt.jsx("p",{children:"No items yet."}):Rt.jsxs("table",{className:"item-table",children:[Rt.jsx("thead",{children:Rt.jsxs("tr",{children:[Rt.jsx("th",{children:"Item"}),Rt.jsx("th",{children:"Category"}),Rt.jsx("th",{children:"Brand"}),Rt.jsx("th",{children:"Size"}),Rt.jsx("th",{children:"Quantity"}),Rt.jsx("th",{children:"Price"})]})}),Rt.jsx("tbody",{children:r.map(({item:t,category:i,brand:a,size:l,quantity:c,price:d},g)=>Rt.jsxs("tr",{children:[Rt.jsx("td",{children:t}),Rt.jsx("td",{children:i||"Uncategorized"}),Rt.jsx("td",{children:a||"any"}),Rt.jsx("td",{children:l||"any"}),Rt.jsx("td",{children:c}),Rt.jsx("td",{children:d!==void 0?`${d} $`:""})]},g))})]})]});function e_(r,t,i,a,l,c,d){try{var g=r[c](d),_=g.value}catch(p){i(p);return}g.done?t(_):Promise.resolve(_).then(a,l)}function ps(r){return function(){var t=this,i=arguments;return new Promise(function(a,l){var c=r.apply(t,i);function d(_){e_(c,a,l,d,g,"next",_)}function g(_){e_(c,a,l,d,g,"throw",_)}d(void 0)})}}var cd,n_;function b1(){if(n_)return cd;n_=1;var r="Expected a function",t=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,g=parseInt,_=typeof Ju=="object"&&Ju&&Ju.Object===Object&&Ju,p=typeof self=="object"&&self&&self.Object===Object&&self,E=_||p||Function("return this")(),b=Object.prototype,D=b.toString,H=Math.max,k=Math.min,K=function(){return E.Date.now()};function j(it,lt,V){var S,R,N,M,x,w,ne=0,Wt=!1,Q=!1,ot=!0;if(typeof it!="function")throw new TypeError(r);lt=ut(lt)||0,nt(V)&&(Wt=!!V.leading,Q="maxWait"in V,N=Q?H(ut(V.maxWait)||0,lt):N,ot="trailing"in V?!!V.trailing:ot);function ht(Nt){var Lt=S,Qe=R;return S=R=void 0,ne=Nt,M=it.apply(Qe,Lt),M}function St(Nt){return ne=Nt,x=setTimeout(st,lt),Wt?ht(Nt):M}function O(Nt){var Lt=Nt-w,Qe=Nt-ne,Un=lt-Lt;return Q?k(Un,N-Qe):Un}function Z(Nt){var Lt=Nt-w,Qe=Nt-ne;return w===void 0||Lt>=lt||Lt<0||Q&&Qe>=N}function st(){var Nt=K();if(Z(Nt))return rt(Nt);x=setTimeout(st,O(Nt))}function rt(Nt){return x=void 0,ot&&S?ht(Nt):(S=R=void 0,M)}function gt(){x!==void 0&&clearTimeout(x),ne=0,S=w=R=x=void 0}function Dt(){return x===void 0?M:rt(K())}function _t(){var Nt=K(),Lt=Z(Nt);if(S=arguments,R=this,w=Nt,Lt){if(x===void 0)return St(w);if(Q)return x=setTimeout(st,lt),ht(w)}return x===void 0&&(x=setTimeout(st,lt)),M}return _t.cancel=gt,_t.flush=Dt,_t}function nt(it){var lt=typeof it;return!!it&&(lt=="object"||lt=="function")}function W(it){return!!it&&typeof it=="object"}function et(it){return typeof it=="symbol"||W(it)&&D.call(it)==i}function ut(it){if(typeof it=="number")return it;if(et(it))return t;if(nt(it)){var lt=typeof it.valueOf=="function"?it.valueOf():it;it=nt(lt)?lt+"":lt}if(typeof it!="string")return it===0?it:+it;it=it.replace(a,"");var V=c.test(it);return V||d.test(it)?g(it.slice(2),V?2:8):l.test(it)?t:+it}return cd=j,cd}var R1=b1();const w1=$d(R1),wa=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),C1=r=>r===wa;var pc=()=>/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"");const yc=(...r)=>r.map(t=>t.trim()).join(" ").trim(),D1=/\s*\((.*?)\)\s*/g,O1=/(\(\?:[^)]+\))\?/g,V1=/(\(\?)?:\w+/g,N1=/\*/g,I1=/[-{}[\]+?.,\\^$|#]/g,M1=r=>r instanceof RegExp?new RegExp(r.source,"i"):(r=r.replace(I1,"\\$&").replace(D1,"(?:$1)?").replace(V1,(t,i)=>i?t:"([^\\s]+)").replace(N1,"(.*?)").replace(O1,"\\s*$1?\\s*"),new RegExp("^"+r+"$","i")),x1=(r,t)=>{if(r=r.replace(/\s+/g,"").toLowerCase(),t=t.replace(/\s+/g,"").toLowerCase(),!r.length&&!t.length)return 1;if(!r.length||!t.length)return 0;if(r===t)return 1;if(r.length===1&&t.length===1||r.length<2||t.length<2)return 0;const i=new Map;for(let l=0;l<r.length-1;l++){const c=r.substring(l,l+2),d=i.has(c)?i.get(c)+1:1;i.set(c,d)}let a=0;for(let l=0;l<t.length-1;l++){const c=t.substring(l,l+2),d=i.has(c)?i.get(c):0;d>0&&(i.set(c,d-1),a++)}return 2*a/(r.length+t.length-2)},wv=()=>typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0);class hd{setSpeechRecognition(t){const i=!!t&&(C1(t)||wv());i&&(this.disableRecognition(),this.recognition=new t,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(i)}subscribe(t,i){this.subscribers[t]=i}unsubscribe(t){delete this.subscribers[t]}emitListeningChange(t){this.listening=t,Object.keys(this.subscribers).forEach(i=>{const{onListeningChange:a}=this.subscribers[i];a(t)})}emitMicrophoneAvailabilityChange(t){this.isMicrophoneAvailable=t,Object.keys(this.subscribers).forEach(i=>{const{onMicrophoneAvailabilityChange:a}=this.subscribers[i];a(t)})}emitTranscriptChange(t,i){Object.keys(this.subscribers).forEach(a=>{const{onTranscriptChange:l}=this.subscribers[a];l(t,i)})}emitClearTranscript(){Object.keys(this.subscribers).forEach(t=>{const{onClearTranscript:i}=this.subscribers[t];i()})}emitBrowserSupportsSpeechRecognitionChange(t){Object.keys(this.subscribers).forEach(i=>{const{onBrowserSupportsSpeechRecognitionChange:a,onBrowserSupportsContinuousListeningChange:l}=this.subscribers[i];a(t),l(t)})}disconnect(t){if(this.recognition&&this.listening)switch(t){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}disableRecognition(){this.recognition&&(this.recognition.onresult=()=>{},this.recognition.onend=()=>{},this.recognition.onerror=()=>{},this.listening&&this.stopListening())}onError(t){t&&t.error&&t.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}onRecognitionDisconnect(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}updateTranscript({results:t,resultIndex:i}){const a=i===void 0?t.length-1:i;this.interimTranscript="",this.finalTranscript="";for(let c=a;c<t.length;++c)t[c].isFinal&&(!pc()||t[c][0].confidence>0)?this.updateFinalTranscript(t[c][0].transcript):this.interimTranscript=yc(this.interimTranscript,t[c][0].transcript);let l=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(l=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,l||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}updateFinalTranscript(t){this.finalTranscript=yc(this.finalTranscript,t)}resetTranscript(){this.disconnect("RESET")}startListening(){return ps(function*({continuous:t=!1,language:i}={}){if(!this.recognition)return;const a=t!==this.recognition.continuous,l=i&&i!==this.recognition.lang;if((a||l)&&(this.listening&&(yield this.stopListening()),this.recognition.continuous=a?t:this.recognition.continuous,this.recognition.lang=l?i:this.recognition.lang),!this.listening){this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript());try{yield this.start(),this.emitListeningChange(!0)}catch(c){c instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1)}}}).apply(this,arguments)}abortListening(){return ps(function*(){this.disconnect("ABORT"),this.emitListeningChange(!1),yield new Promise(t=>{this.onStopListening=t})}).call(this)}stopListening(){return ps(function*(){this.disconnect("STOP"),this.emitListeningChange(!1),yield new Promise(t=>{this.onStopListening=t})}).call(this)}getRecognition(){return this.recognition}start(){return ps(function*(){this.recognition&&!this.listening&&(yield this.recognition.start(),this.listening=!0)}).call(this)}stop(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}abort(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}constructor(t){this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=()=>{},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(t),pc()&&(this.updateFinalTranscript=w1(this.updateFinalTranscript,250,{leading:!0}))}}const Cv="CLEAR_TRANSCRIPT",Dv="APPEND_TRANSCRIPT",U1=()=>({type:Cv}),L1=(r,t)=>({type:Dv,payload:{interimTranscript:r,finalTranscript:t}}),P1=(r,t)=>{switch(t.type){case Cv:return{interimTranscript:"",finalTranscript:""};case Dv:return{interimTranscript:t.payload.interimTranscript,finalTranscript:yc(r.finalTranscript,t.payload.finalTranscript)};default:throw new Error}};let Ca=!!wa,sc=Ca&&!pc(),qi;const z1=({transcribing:r=!0,clearTranscriptOnListen:t=!0,commands:i=[]}={})=>{const[a]=ge.useState(ys.getRecognitionManager()),[l,c]=ge.useState(Ca),[d,g]=ge.useState(sc),[{interimTranscript:_,finalTranscript:p},E]=ge.useReducer(P1,{interimTranscript:a.interimTranscript,finalTranscript:""}),[b,D]=ge.useState(a.listening),[H,k]=ge.useState(a.isMicrophoneAvailable),K=ge.useRef(i);K.current=i;const j=()=>{E(U1())},nt=ge.useCallback(()=>{a.resetTranscript(),j()},[a]),W=(S,R,N)=>{const x=(typeof S=="object"?S.toString():S).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),w=x1(x,R);return w>=N?{command:S,commandWithoutSpecials:x,howSimilar:w,isFuzzyMatch:!0}:null},et=(S,R)=>{const M=M1(S).exec(R);return M?{command:S,parameters:M.slice(1)}:null},ut=ge.useCallback((S,R)=>{K.current.forEach(({command:N,callback:M,matchInterim:x=!1,isFuzzyMatch:w=!1,fuzzyMatchingThreshold:ne=.8,bestMatchOnly:Wt=!1})=>{const Q=!R&&x?S.trim():R.trim(),ht=(Array.isArray(N)?N:[N]).map(St=>w?W(St,Q,ne):et(St,Q)).filter(St=>St);if(w&&Wt&&ht.length>=2){ht.sort((st,rt)=>rt.howSimilar-st.howSimilar);const{command:St,commandWithoutSpecials:O,howSimilar:Z}=ht[0];M(O,Q,Z,{command:St,resetTranscript:nt})}else ht.forEach(St=>{if(St.isFuzzyMatch){const{command:O,commandWithoutSpecials:Z,howSimilar:st}=St;M(Z,Q,st,{command:O,resetTranscript:nt})}else{const{command:O,parameters:Z}=St;M(...Z,{command:O,resetTranscript:nt})}})})},[nt]),it=ge.useCallback((S,R)=>{r&&E(L1(S,R)),ut(S,R)},[ut,r]),lt=ge.useCallback(()=>{t&&j()},[t]);return ge.useEffect(()=>{const S=ys.counter;ys.counter+=1;const R={onListeningChange:D,onMicrophoneAvailabilityChange:k,onTranscriptChange:it,onClearTranscript:lt,onBrowserSupportsSpeechRecognitionChange:c,onBrowserSupportsContinuousListeningChange:g};return a.subscribe(S,R),()=>{a.unsubscribe(S)}},[r,t,a,it,lt]),{transcript:yc(p,_),interimTranscript:_,finalTranscript:p,listening:b,isMicrophoneAvailable:H,resetTranscript:nt,browserSupportsSpeechRecognition:l,browserSupportsContinuousListening:d}},ys={counter:0,applyPolyfill:r=>{qi?qi.setSpeechRecognition(r):qi=new hd(r);const t=!!r&&wv();Ca=t,sc=t},removePolyfill:()=>{qi?qi.setSpeechRecognition(wa):qi=new hd(wa),Ca=!!wa,sc=Ca&&!pc()},getRecognitionManager:()=>(qi||(qi=new hd(wa)),qi),getRecognition:()=>ys.getRecognitionManager().getRecognition(),startListening:({continuous:r,language:t}={})=>ps(function*(){yield ys.getRecognitionManager().startListening({continuous:r,language:t})})(),stopListening:()=>ps(function*(){yield ys.getRecognitionManager().stopListening()})(),abortListening:()=>ps(function*(){yield ys.getRecognitionManager().abortListening()})(),browserSupportsSpeechRecognition:()=>Ca,browserSupportsContinuousListening:()=>sc};function Ov(r,t){return function(){return r.apply(t,arguments)}}const{toString:B1}=Object.prototype,{getPrototypeOf:Wd}=Object,{iterator:Lc,toStringTag:Vv}=Symbol,Pc=(r=>t=>{const i=B1.call(t);return r[i]||(r[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=r=>(r=r.toLowerCase(),t=>Pc(t)===r),zc=r=>t=>typeof t===r,{isArray:Pa}=Array,cl=zc("undefined");function k1(r){return r!==null&&!cl(r)&&r.constructor!==null&&!cl(r.constructor)&&un(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Nv=Fn("ArrayBuffer");function q1(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&Nv(r.buffer),t}const j1=zc("string"),un=zc("function"),Iv=zc("number"),Bc=r=>r!==null&&typeof r=="object",H1=r=>r===!0||r===!1,ac=r=>{if(Pc(r)!=="object")return!1;const t=Wd(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Vv in r)&&!(Lc in r)},F1=Fn("Date"),G1=Fn("File"),Q1=Fn("Blob"),Y1=Fn("FileList"),K1=r=>Bc(r)&&un(r.pipe),X1=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||un(r.append)&&((t=Pc(r))==="formdata"||t==="object"&&un(r.toString)&&r.toString()==="[object FormData]"))},Z1=Fn("URLSearchParams"),[$1,J1,W1,tA]=["ReadableStream","Request","Response","Headers"].map(Fn),eA=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function El(r,t,{allOwnKeys:i=!1}={}){if(r===null||typeof r>"u")return;let a,l;if(typeof r!="object"&&(r=[r]),Pa(r))for(a=0,l=r.length;a<l;a++)t.call(null,r[a],a,r);else{const c=i?Object.getOwnPropertyNames(r):Object.keys(r),d=c.length;let g;for(a=0;a<d;a++)g=c[a],t.call(null,r[g],g,r)}}function Mv(r,t){t=t.toLowerCase();const i=Object.keys(r);let a=i.length,l;for(;a-- >0;)if(l=i[a],t===l.toLowerCase())return l;return null}const _s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xv=r=>!cl(r)&&r!==_s;function bd(){const{caseless:r}=xv(this)&&this||{},t={},i=(a,l)=>{const c=r&&Mv(t,l)||l;ac(t[c])&&ac(a)?t[c]=bd(t[c],a):ac(a)?t[c]=bd({},a):Pa(a)?t[c]=a.slice():t[c]=a};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&El(arguments[a],i);return t}const nA=(r,t,i,{allOwnKeys:a}={})=>(El(t,(l,c)=>{i&&un(l)?r[c]=Ov(l,i):r[c]=l},{allOwnKeys:a}),r),iA=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),rA=(r,t,i,a)=>{r.prototype=Object.create(t.prototype,a),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),i&&Object.assign(r.prototype,i)},sA=(r,t,i,a)=>{let l,c,d;const g={};if(t=t||{},r==null)return t;do{for(l=Object.getOwnPropertyNames(r),c=l.length;c-- >0;)d=l[c],(!a||a(d,r,t))&&!g[d]&&(t[d]=r[d],g[d]=!0);r=i!==!1&&Wd(r)}while(r&&(!i||i(r,t))&&r!==Object.prototype);return t},aA=(r,t,i)=>{r=String(r),(i===void 0||i>r.length)&&(i=r.length),i-=t.length;const a=r.indexOf(t,i);return a!==-1&&a===i},oA=r=>{if(!r)return null;if(Pa(r))return r;let t=r.length;if(!Iv(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=r[t];return i},lA=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&Wd(Uint8Array)),uA=(r,t)=>{const a=(r&&r[Lc]).call(r);let l;for(;(l=a.next())&&!l.done;){const c=l.value;t.call(r,c[0],c[1])}},cA=(r,t)=>{let i;const a=[];for(;(i=r.exec(t))!==null;)a.push(i);return a},hA=Fn("HTMLFormElement"),fA=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,l){return a.toUpperCase()+l}),i_=(({hasOwnProperty:r})=>(t,i)=>r.call(t,i))(Object.prototype),dA=Fn("RegExp"),Uv=(r,t)=>{const i=Object.getOwnPropertyDescriptors(r),a={};El(i,(l,c)=>{let d;(d=t(l,c,r))!==!1&&(a[c]=d||l)}),Object.defineProperties(r,a)},mA=r=>{Uv(r,(t,i)=>{if(un(r)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=r[i];if(un(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},gA=(r,t)=>{const i={},a=l=>{l.forEach(c=>{i[c]=!0})};return Pa(r)?a(r):a(String(r).split(t)),i},pA=()=>{},yA=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function _A(r){return!!(r&&un(r.append)&&r[Vv]==="FormData"&&r[Lc])}const vA=r=>{const t=new Array(10),i=(a,l)=>{if(Bc(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[l]=a;const c=Pa(a)?[]:{};return El(a,(d,g)=>{const _=i(d,l+1);!cl(_)&&(c[g]=_)}),t[l]=void 0,c}}return a};return i(r,0)},EA=Fn("AsyncFunction"),TA=r=>r&&(Bc(r)||un(r))&&un(r.then)&&un(r.catch),Lv=((r,t)=>r?setImmediate:t?((i,a)=>(_s.addEventListener("message",({source:l,data:c})=>{l===_s&&c===i&&a.length&&a.shift()()},!1),l=>{a.push(l),_s.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",un(_s.postMessage)),AA=typeof queueMicrotask<"u"?queueMicrotask.bind(_s):typeof process<"u"&&process.nextTick||Lv,SA=r=>r!=null&&un(r[Lc]),G={isArray:Pa,isArrayBuffer:Nv,isBuffer:k1,isFormData:X1,isArrayBufferView:q1,isString:j1,isNumber:Iv,isBoolean:H1,isObject:Bc,isPlainObject:ac,isReadableStream:$1,isRequest:J1,isResponse:W1,isHeaders:tA,isUndefined:cl,isDate:F1,isFile:G1,isBlob:Q1,isRegExp:dA,isFunction:un,isStream:K1,isURLSearchParams:Z1,isTypedArray:lA,isFileList:Y1,forEach:El,merge:bd,extend:nA,trim:eA,stripBOM:iA,inherits:rA,toFlatObject:sA,kindOf:Pc,kindOfTest:Fn,endsWith:aA,toArray:oA,forEachEntry:uA,matchAll:cA,isHTMLForm:hA,hasOwnProperty:i_,hasOwnProp:i_,reduceDescriptors:Uv,freezeMethods:mA,toObjectSet:gA,toCamelCase:fA,noop:pA,toFiniteNumber:yA,findKey:Mv,global:_s,isContextDefined:xv,isSpecCompliantForm:_A,toJSONObject:vA,isAsyncFn:EA,isThenable:TA,setImmediate:Lv,asap:AA,isIterable:SA};function wt(r,t,i,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),a&&(this.request=a),l&&(this.response=l,this.status=l.status?l.status:null)}G.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Pv=wt.prototype,zv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{zv[r]={value:r}});Object.defineProperties(wt,zv);Object.defineProperty(Pv,"isAxiosError",{value:!0});wt.from=(r,t,i,a,l,c)=>{const d=Object.create(Pv);return G.toFlatObject(r,d,function(_){return _!==Error.prototype},g=>g!=="isAxiosError"),wt.call(d,r.message,t,i,a,l),d.cause=r,d.name=r.name,c&&Object.assign(d,c),d};const bA=null;function Rd(r){return G.isPlainObject(r)||G.isArray(r)}function Bv(r){return G.endsWith(r,"[]")?r.slice(0,-2):r}function r_(r,t,i){return r?r.concat(t).map(function(l,c){return l=Bv(l),!i&&c?"["+l+"]":l}).join(i?".":""):t}function RA(r){return G.isArray(r)&&!r.some(Rd)}const wA=G.toFlatObject(G,{},null,function(t){return/^is[A-Z]/.test(t)});function kc(r,t,i){if(!G.isObject(r))throw new TypeError("target must be an object");t=t||new FormData,i=G.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(K,j){return!G.isUndefined(j[K])});const a=i.metaTokens,l=i.visitor||E,c=i.dots,d=i.indexes,_=(i.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(l))throw new TypeError("visitor must be a function");function p(k){if(k===null)return"";if(G.isDate(k))return k.toISOString();if(G.isBoolean(k))return k.toString();if(!_&&G.isBlob(k))throw new wt("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(k)||G.isTypedArray(k)?_&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function E(k,K,j){let nt=k;if(k&&!j&&typeof k=="object"){if(G.endsWith(K,"{}"))K=a?K:K.slice(0,-2),k=JSON.stringify(k);else if(G.isArray(k)&&RA(k)||(G.isFileList(k)||G.endsWith(K,"[]"))&&(nt=G.toArray(k)))return K=Bv(K),nt.forEach(function(et,ut){!(G.isUndefined(et)||et===null)&&t.append(d===!0?r_([K],ut,c):d===null?K:K+"[]",p(et))}),!1}return Rd(k)?!0:(t.append(r_(j,K,c),p(k)),!1)}const b=[],D=Object.assign(wA,{defaultVisitor:E,convertValue:p,isVisitable:Rd});function H(k,K){if(!G.isUndefined(k)){if(b.indexOf(k)!==-1)throw Error("Circular reference detected in "+K.join("."));b.push(k),G.forEach(k,function(nt,W){(!(G.isUndefined(nt)||nt===null)&&l.call(t,nt,G.isString(W)?W.trim():W,K,D))===!0&&H(nt,K?K.concat(W):[W])}),b.pop()}}if(!G.isObject(r))throw new TypeError("data must be an object");return H(r),t}function s_(r){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function tm(r,t){this._pairs=[],r&&kc(r,this,t)}const kv=tm.prototype;kv.append=function(t,i){this._pairs.push([t,i])};kv.toString=function(t){const i=t?function(a){return t.call(this,a,s_)}:s_;return this._pairs.map(function(l){return i(l[0])+"="+i(l[1])},"").join("&")};function CA(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qv(r,t,i){if(!t)return r;const a=i&&i.encode||CA;G.isFunction(i)&&(i={serialize:i});const l=i&&i.serialize;let c;if(l?c=l(t,i):c=G.isURLSearchParams(t)?t.toString():new tm(t,i).toString(a),c){const d=r.indexOf("#");d!==-1&&(r=r.slice(0,d)),r+=(r.indexOf("?")===-1?"?":"&")+c}return r}class a_{constructor(){this.handlers=[]}use(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){G.forEach(this.handlers,function(a){a!==null&&t(a)})}}const jv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DA=typeof URLSearchParams<"u"?URLSearchParams:tm,OA=typeof FormData<"u"?FormData:null,VA=typeof Blob<"u"?Blob:null,NA={isBrowser:!0,classes:{URLSearchParams:DA,FormData:OA,Blob:VA},protocols:["http","https","file","blob","url","data"]},em=typeof window<"u"&&typeof document<"u",wd=typeof navigator=="object"&&navigator||void 0,IA=em&&(!wd||["ReactNative","NativeScript","NS"].indexOf(wd.product)<0),MA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xA=em&&window.location.href||"http://localhost",UA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:em,hasStandardBrowserEnv:IA,hasStandardBrowserWebWorkerEnv:MA,navigator:wd,origin:xA},Symbol.toStringTag,{value:"Module"})),We={...UA,...NA};function LA(r,t){return kc(r,new We.classes.URLSearchParams,Object.assign({visitor:function(i,a,l,c){return We.isNode&&G.isBuffer(i)?(this.append(a,i.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function PA(r){return G.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zA(r){const t={},i=Object.keys(r);let a;const l=i.length;let c;for(a=0;a<l;a++)c=i[a],t[c]=r[c];return t}function Hv(r){function t(i,a,l,c){let d=i[c++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),_=c>=i.length;return d=!d&&G.isArray(l)?l.length:d,_?(G.hasOwnProp(l,d)?l[d]=[l[d],a]:l[d]=a,!g):((!l[d]||!G.isObject(l[d]))&&(l[d]=[]),t(i,a,l[d],c)&&G.isArray(l[d])&&(l[d]=zA(l[d])),!g)}if(G.isFormData(r)&&G.isFunction(r.entries)){const i={};return G.forEachEntry(r,(a,l)=>{t(PA(a),l,i,0)}),i}return null}function BA(r,t,i){if(G.isString(r))try{return(t||JSON.parse)(r),G.trim(r)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(r)}const Tl={transitional:jv,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const a=i.getContentType()||"",l=a.indexOf("application/json")>-1,c=G.isObject(t);if(c&&G.isHTMLForm(t)&&(t=new FormData(t)),G.isFormData(t))return l?JSON.stringify(Hv(t)):t;if(G.isArrayBuffer(t)||G.isBuffer(t)||G.isStream(t)||G.isFile(t)||G.isBlob(t)||G.isReadableStream(t))return t;if(G.isArrayBufferView(t))return t.buffer;if(G.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(c){if(a.indexOf("application/x-www-form-urlencoded")>-1)return LA(t,this.formSerializer).toString();if((g=G.isFileList(t))||a.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return kc(g?{"files[]":t}:t,_&&new _,this.formSerializer)}}return c||l?(i.setContentType("application/json",!1),BA(t)):t}],transformResponse:[function(t){const i=this.transitional||Tl.transitional,a=i&&i.forcedJSONParsing,l=this.responseType==="json";if(G.isResponse(t)||G.isReadableStream(t))return t;if(t&&G.isString(t)&&(a&&!this.responseType||l)){const d=!(i&&i.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(g){if(d)throw g.name==="SyntaxError"?wt.from(g,wt.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],r=>{Tl.headers[r]={}});const kA=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qA=r=>{const t={};let i,a,l;return r&&r.split(`
`).forEach(function(d){l=d.indexOf(":"),i=d.substring(0,l).trim().toLowerCase(),a=d.substring(l+1).trim(),!(!i||t[i]&&kA[i])&&(i==="set-cookie"?t[i]?t[i].push(a):t[i]=[a]:t[i]=t[i]?t[i]+", "+a:a)}),t},o_=Symbol("internals");function el(r){return r&&String(r).trim().toLowerCase()}function oc(r){return r===!1||r==null?r:G.isArray(r)?r.map(oc):String(r)}function jA(r){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(r);)t[a[1]]=a[2];return t}const HA=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function fd(r,t,i,a,l){if(G.isFunction(a))return a.call(this,t,i);if(l&&(t=i),!!G.isString(t)){if(G.isString(a))return t.indexOf(a)!==-1;if(G.isRegExp(a))return a.test(t)}}function FA(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,a)=>i.toUpperCase()+a)}function GA(r,t){const i=G.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(r,a+i,{value:function(l,c,d){return this[a].call(this,t,l,c,d)},configurable:!0})})}let cn=class{constructor(t){t&&this.set(t)}set(t,i,a){const l=this;function c(g,_,p){const E=el(_);if(!E)throw new Error("header name must be a non-empty string");const b=G.findKey(l,E);(!b||l[b]===void 0||p===!0||p===void 0&&l[b]!==!1)&&(l[b||_]=oc(g))}const d=(g,_)=>G.forEach(g,(p,E)=>c(p,E,_));if(G.isPlainObject(t)||t instanceof this.constructor)d(t,i);else if(G.isString(t)&&(t=t.trim())&&!HA(t))d(qA(t),i);else if(G.isObject(t)&&G.isIterable(t)){let g={},_,p;for(const E of t){if(!G.isArray(E))throw TypeError("Object iterator must return a key-value pair");g[p=E[0]]=(_=g[p])?G.isArray(_)?[..._,E[1]]:[_,E[1]]:E[1]}d(g,i)}else t!=null&&c(i,t,a);return this}get(t,i){if(t=el(t),t){const a=G.findKey(this,t);if(a){const l=this[a];if(!i)return l;if(i===!0)return jA(l);if(G.isFunction(i))return i.call(this,l,a);if(G.isRegExp(i))return i.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=el(t),t){const a=G.findKey(this,t);return!!(a&&this[a]!==void 0&&(!i||fd(this,this[a],a,i)))}return!1}delete(t,i){const a=this;let l=!1;function c(d){if(d=el(d),d){const g=G.findKey(a,d);g&&(!i||fd(a,a[g],g,i))&&(delete a[g],l=!0)}}return G.isArray(t)?t.forEach(c):c(t),l}clear(t){const i=Object.keys(this);let a=i.length,l=!1;for(;a--;){const c=i[a];(!t||fd(this,this[c],c,t,!0))&&(delete this[c],l=!0)}return l}normalize(t){const i=this,a={};return G.forEach(this,(l,c)=>{const d=G.findKey(a,c);if(d){i[d]=oc(l),delete i[c];return}const g=t?FA(c):String(c).trim();g!==c&&delete i[c],i[g]=oc(l),a[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return G.forEach(this,(a,l)=>{a!=null&&a!==!1&&(i[l]=t&&G.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const a=new this(t);return i.forEach(l=>a.set(l)),a}static accessor(t){const a=(this[o_]=this[o_]={accessors:{}}).accessors,l=this.prototype;function c(d){const g=el(d);a[g]||(GA(l,d),a[g]=!0)}return G.isArray(t)?t.forEach(c):c(t),this}};cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(cn.prototype,({value:r},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(a){this[i]=a}}});G.freezeMethods(cn);function dd(r,t){const i=this||Tl,a=t||i,l=cn.from(a.headers);let c=a.data;return G.forEach(r,function(g){c=g.call(i,c,l.normalize(),t?t.status:void 0)}),l.normalize(),c}function Fv(r){return!!(r&&r.__CANCEL__)}function za(r,t,i){wt.call(this,r??"canceled",wt.ERR_CANCELED,t,i),this.name="CanceledError"}G.inherits(za,wt,{__CANCEL__:!0});function Gv(r,t,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):t(new wt("Request failed with status code "+i.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function QA(r){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function YA(r,t){r=r||10;const i=new Array(r),a=new Array(r);let l=0,c=0,d;return t=t!==void 0?t:1e3,function(_){const p=Date.now(),E=a[c];d||(d=p),i[l]=_,a[l]=p;let b=c,D=0;for(;b!==l;)D+=i[b++],b=b%r;if(l=(l+1)%r,l===c&&(c=(c+1)%r),p-d<t)return;const H=E&&p-E;return H?Math.round(D*1e3/H):void 0}}function KA(r,t){let i=0,a=1e3/t,l,c;const d=(p,E=Date.now())=>{i=E,l=null,c&&(clearTimeout(c),c=null),r.apply(null,p)};return[(...p)=>{const E=Date.now(),b=E-i;b>=a?d(p,E):(l=p,c||(c=setTimeout(()=>{c=null,d(l)},a-b)))},()=>l&&d(l)]}const _c=(r,t,i=3)=>{let a=0;const l=YA(50,250);return KA(c=>{const d=c.loaded,g=c.lengthComputable?c.total:void 0,_=d-a,p=l(_),E=d<=g;a=d;const b={loaded:d,total:g,progress:g?d/g:void 0,bytes:_,rate:p||void 0,estimated:p&&g&&E?(g-d)/p:void 0,event:c,lengthComputable:g!=null,[t?"download":"upload"]:!0};r(b)},i)},l_=(r,t)=>{const i=r!=null;return[a=>t[0]({lengthComputable:i,total:r,loaded:a}),t[1]]},u_=r=>(...t)=>G.asap(()=>r(...t)),XA=We.hasStandardBrowserEnv?((r,t)=>i=>(i=new URL(i,We.origin),r.protocol===i.protocol&&r.host===i.host&&(t||r.port===i.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,ZA=We.hasStandardBrowserEnv?{write(r,t,i,a,l,c){const d=[r+"="+encodeURIComponent(t)];G.isNumber(i)&&d.push("expires="+new Date(i).toGMTString()),G.isString(a)&&d.push("path="+a),G.isString(l)&&d.push("domain="+l),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(r){const t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $A(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function JA(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function Qv(r,t,i){let a=!$A(t);return r&&(a||i==!1)?JA(r,t):t}const c_=r=>r instanceof cn?{...r}:r;function Ts(r,t){t=t||{};const i={};function a(p,E,b,D){return G.isPlainObject(p)&&G.isPlainObject(E)?G.merge.call({caseless:D},p,E):G.isPlainObject(E)?G.merge({},E):G.isArray(E)?E.slice():E}function l(p,E,b,D){if(G.isUndefined(E)){if(!G.isUndefined(p))return a(void 0,p,b,D)}else return a(p,E,b,D)}function c(p,E){if(!G.isUndefined(E))return a(void 0,E)}function d(p,E){if(G.isUndefined(E)){if(!G.isUndefined(p))return a(void 0,p)}else return a(void 0,E)}function g(p,E,b){if(b in t)return a(p,E);if(b in r)return a(void 0,p)}const _={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(p,E,b)=>l(c_(p),c_(E),b,!0)};return G.forEach(Object.keys(Object.assign({},r,t)),function(E){const b=_[E]||l,D=b(r[E],t[E],E);G.isUndefined(D)&&b!==g||(i[E]=D)}),i}const Yv=r=>{const t=Ts({},r);let{data:i,withXSRFToken:a,xsrfHeaderName:l,xsrfCookieName:c,headers:d,auth:g}=t;t.headers=d=cn.from(d),t.url=qv(Qv(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),g&&d.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let _;if(G.isFormData(i)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((_=d.getContentType())!==!1){const[p,...E]=_?_.split(";").map(b=>b.trim()).filter(Boolean):[];d.setContentType([p||"multipart/form-data",...E].join("; "))}}if(We.hasStandardBrowserEnv&&(a&&G.isFunction(a)&&(a=a(t)),a||a!==!1&&XA(t.url))){const p=l&&c&&ZA.read(c);p&&d.set(l,p)}return t},WA=typeof XMLHttpRequest<"u",tS=WA&&function(r){return new Promise(function(i,a){const l=Yv(r);let c=l.data;const d=cn.from(l.headers).normalize();let{responseType:g,onUploadProgress:_,onDownloadProgress:p}=l,E,b,D,H,k;function K(){H&&H(),k&&k(),l.cancelToken&&l.cancelToken.unsubscribe(E),l.signal&&l.signal.removeEventListener("abort",E)}let j=new XMLHttpRequest;j.open(l.method.toUpperCase(),l.url,!0),j.timeout=l.timeout;function nt(){if(!j)return;const et=cn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),it={data:!g||g==="text"||g==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:et,config:r,request:j};Gv(function(V){i(V),K()},function(V){a(V),K()},it),j=null}"onloadend"in j?j.onloadend=nt:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(nt)},j.onabort=function(){j&&(a(new wt("Request aborted",wt.ECONNABORTED,r,j)),j=null)},j.onerror=function(){a(new wt("Network Error",wt.ERR_NETWORK,r,j)),j=null},j.ontimeout=function(){let ut=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const it=l.transitional||jv;l.timeoutErrorMessage&&(ut=l.timeoutErrorMessage),a(new wt(ut,it.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,r,j)),j=null},c===void 0&&d.setContentType(null),"setRequestHeader"in j&&G.forEach(d.toJSON(),function(ut,it){j.setRequestHeader(it,ut)}),G.isUndefined(l.withCredentials)||(j.withCredentials=!!l.withCredentials),g&&g!=="json"&&(j.responseType=l.responseType),p&&([D,k]=_c(p,!0),j.addEventListener("progress",D)),_&&j.upload&&([b,H]=_c(_),j.upload.addEventListener("progress",b),j.upload.addEventListener("loadend",H)),(l.cancelToken||l.signal)&&(E=et=>{j&&(a(!et||et.type?new za(null,r,j):et),j.abort(),j=null)},l.cancelToken&&l.cancelToken.subscribe(E),l.signal&&(l.signal.aborted?E():l.signal.addEventListener("abort",E)));const W=QA(l.url);if(W&&We.protocols.indexOf(W)===-1){a(new wt("Unsupported protocol "+W+":",wt.ERR_BAD_REQUEST,r));return}j.send(c||null)})},eS=(r,t)=>{const{length:i}=r=r?r.filter(Boolean):[];if(t||i){let a=new AbortController,l;const c=function(p){if(!l){l=!0,g();const E=p instanceof Error?p:this.reason;a.abort(E instanceof wt?E:new za(E instanceof Error?E.message:E))}};let d=t&&setTimeout(()=>{d=null,c(new wt(`timeout ${t} of ms exceeded`,wt.ETIMEDOUT))},t);const g=()=>{r&&(d&&clearTimeout(d),d=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(c):p.removeEventListener("abort",c)}),r=null)};r.forEach(p=>p.addEventListener("abort",c));const{signal:_}=a;return _.unsubscribe=()=>G.asap(g),_}},nS=function*(r,t){let i=r.byteLength;if(i<t){yield r;return}let a=0,l;for(;a<i;)l=a+t,yield r.slice(a,l),a=l},iS=async function*(r,t){for await(const i of rS(r))yield*nS(i,t)},rS=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const t=r.getReader();try{for(;;){const{done:i,value:a}=await t.read();if(i)break;yield a}}finally{await t.cancel()}},h_=(r,t,i,a)=>{const l=iS(r,t);let c=0,d,g=_=>{d||(d=!0,a&&a(_))};return new ReadableStream({async pull(_){try{const{done:p,value:E}=await l.next();if(p){g(),_.close();return}let b=E.byteLength;if(i){let D=c+=b;i(D)}_.enqueue(new Uint8Array(E))}catch(p){throw g(p),p}},cancel(_){return g(_),l.return()}},{highWaterMark:2})},qc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Kv=qc&&typeof ReadableStream=="function",sS=qc&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Xv=(r,...t)=>{try{return!!r(...t)}catch{return!1}},aS=Kv&&Xv(()=>{let r=!1;const t=new Request(We.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),f_=64*1024,Cd=Kv&&Xv(()=>G.isReadableStream(new Response("").body)),vc={stream:Cd&&(r=>r.body)};qc&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!vc[t]&&(vc[t]=G.isFunction(r[t])?i=>i[t]():(i,a)=>{throw new wt(`Response type '${t}' is not supported`,wt.ERR_NOT_SUPPORT,a)})})})(new Response);const oS=async r=>{if(r==null)return 0;if(G.isBlob(r))return r.size;if(G.isSpecCompliantForm(r))return(await new Request(We.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(G.isArrayBufferView(r)||G.isArrayBuffer(r))return r.byteLength;if(G.isURLSearchParams(r)&&(r=r+""),G.isString(r))return(await sS(r)).byteLength},lS=async(r,t)=>{const i=G.toFiniteNumber(r.getContentLength());return i??oS(t)},uS=qc&&(async r=>{let{url:t,method:i,data:a,signal:l,cancelToken:c,timeout:d,onDownloadProgress:g,onUploadProgress:_,responseType:p,headers:E,withCredentials:b="same-origin",fetchOptions:D}=Yv(r);p=p?(p+"").toLowerCase():"text";let H=eS([l,c&&c.toAbortSignal()],d),k;const K=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let j;try{if(_&&aS&&i!=="get"&&i!=="head"&&(j=await lS(E,a))!==0){let it=new Request(t,{method:"POST",body:a,duplex:"half"}),lt;if(G.isFormData(a)&&(lt=it.headers.get("content-type"))&&E.setContentType(lt),it.body){const[V,S]=l_(j,_c(u_(_)));a=h_(it.body,f_,V,S)}}G.isString(b)||(b=b?"include":"omit");const nt="credentials"in Request.prototype;k=new Request(t,{...D,signal:H,method:i.toUpperCase(),headers:E.normalize().toJSON(),body:a,duplex:"half",credentials:nt?b:void 0});let W=await fetch(k,D);const et=Cd&&(p==="stream"||p==="response");if(Cd&&(g||et&&K)){const it={};["status","statusText","headers"].forEach(R=>{it[R]=W[R]});const lt=G.toFiniteNumber(W.headers.get("content-length")),[V,S]=g&&l_(lt,_c(u_(g),!0))||[];W=new Response(h_(W.body,f_,V,()=>{S&&S(),K&&K()}),it)}p=p||"text";let ut=await vc[G.findKey(vc,p)||"text"](W,r);return!et&&K&&K(),await new Promise((it,lt)=>{Gv(it,lt,{data:ut,headers:cn.from(W.headers),status:W.status,statusText:W.statusText,config:r,request:k})})}catch(nt){throw K&&K(),nt&&nt.name==="TypeError"&&/Load failed|fetch/i.test(nt.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,r,k),{cause:nt.cause||nt}):wt.from(nt,nt&&nt.code,r,k)}}),Dd={http:bA,xhr:tS,fetch:uS};G.forEach(Dd,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});const d_=r=>`- ${r}`,cS=r=>G.isFunction(r)||r===null||r===!1,Zv={getAdapter:r=>{r=G.isArray(r)?r:[r];const{length:t}=r;let i,a;const l={};for(let c=0;c<t;c++){i=r[c];let d;if(a=i,!cS(i)&&(a=Dd[(d=String(i)).toLowerCase()],a===void 0))throw new wt(`Unknown adapter '${d}'`);if(a)break;l[d||"#"+c]=a}if(!a){const c=Object.entries(l).map(([g,_])=>`adapter ${g} `+(_===!1?"is not supported by the environment":"is not available in the build"));let d=t?c.length>1?`since :
`+c.map(d_).join(`
`):" "+d_(c[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a},adapters:Dd};function md(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new za(null,r)}function m_(r){return md(r),r.headers=cn.from(r.headers),r.data=dd.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Zv.getAdapter(r.adapter||Tl.adapter)(r).then(function(a){return md(r),a.data=dd.call(r,r.transformResponse,a),a.headers=cn.from(a.headers),a},function(a){return Fv(a)||(md(r),a&&a.response&&(a.response.data=dd.call(r,r.transformResponse,a.response),a.response.headers=cn.from(a.response.headers))),Promise.reject(a)})}const $v="1.10.0",jc={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{jc[r]=function(a){return typeof a===r||"a"+(t<1?"n ":" ")+r}});const g_={};jc.transitional=function(t,i,a){function l(c,d){return"[Axios v"+$v+"] Transitional option '"+c+"'"+d+(a?". "+a:"")}return(c,d,g)=>{if(t===!1)throw new wt(l(d," has been removed"+(i?" in "+i:"")),wt.ERR_DEPRECATED);return i&&!g_[d]&&(g_[d]=!0,console.warn(l(d," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(c,d,g):!0}};jc.spelling=function(t){return(i,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function hS(r,t,i){if(typeof r!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const a=Object.keys(r);let l=a.length;for(;l-- >0;){const c=a[l],d=t[c];if(d){const g=r[c],_=g===void 0||d(g,c,r);if(_!==!0)throw new wt("option "+c+" must be "+_,wt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new wt("Unknown option "+c,wt.ERR_BAD_OPTION)}}const lc={assertOptions:hS,validators:jc},oi=lc.validators;let Es=class{constructor(t){this.defaults=t||{},this.interceptors={request:new a_,response:new a_}}async request(t,i){try{return await this._request(t,i)}catch(a){if(a instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+c):a.stack=c}catch{}}throw a}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Ts(this.defaults,i);const{transitional:a,paramsSerializer:l,headers:c}=i;a!==void 0&&lc.assertOptions(a,{silentJSONParsing:oi.transitional(oi.boolean),forcedJSONParsing:oi.transitional(oi.boolean),clarifyTimeoutError:oi.transitional(oi.boolean)},!1),l!=null&&(G.isFunction(l)?i.paramsSerializer={serialize:l}:lc.assertOptions(l,{encode:oi.function,serialize:oi.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),lc.assertOptions(i,{baseUrl:oi.spelling("baseURL"),withXsrfToken:oi.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let d=c&&G.merge(c.common,c[i.method]);c&&G.forEach(["delete","get","head","post","put","patch","common"],k=>{delete c[k]}),i.headers=cn.concat(d,c);const g=[];let _=!0;this.interceptors.request.forEach(function(K){typeof K.runWhen=="function"&&K.runWhen(i)===!1||(_=_&&K.synchronous,g.unshift(K.fulfilled,K.rejected))});const p=[];this.interceptors.response.forEach(function(K){p.push(K.fulfilled,K.rejected)});let E,b=0,D;if(!_){const k=[m_.bind(this),void 0];for(k.unshift.apply(k,g),k.push.apply(k,p),D=k.length,E=Promise.resolve(i);b<D;)E=E.then(k[b++],k[b++]);return E}D=g.length;let H=i;for(b=0;b<D;){const k=g[b++],K=g[b++];try{H=k(H)}catch(j){K.call(this,j);break}}try{E=m_.call(this,H)}catch(k){return Promise.reject(k)}for(b=0,D=p.length;b<D;)E=E.then(p[b++],p[b++]);return E}getUri(t){t=Ts(this.defaults,t);const i=Qv(t.baseURL,t.url,t.allowAbsoluteUrls);return qv(i,t.params,t.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(t){Es.prototype[t]=function(i,a){return this.request(Ts(a||{},{method:t,url:i,data:(a||{}).data}))}});G.forEach(["post","put","patch"],function(t){function i(a){return function(c,d,g){return this.request(Ts(g||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Es.prototype[t]=i(),Es.prototype[t+"Form"]=i(!0)});let fS=class Jv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(c){i=c});const a=this;this.promise.then(l=>{if(!a._listeners)return;let c=a._listeners.length;for(;c-- >0;)a._listeners[c](l);a._listeners=null}),this.promise.then=l=>{let c;const d=new Promise(g=>{a.subscribe(g),c=g}).then(l);return d.cancel=function(){a.unsubscribe(c)},d},t(function(c,d,g){a.reason||(a.reason=new za(c,d,g),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=a=>{t.abort(a)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new Jv(function(l){t=l}),cancel:t}}};function dS(r){return function(i){return r.apply(null,i)}}function mS(r){return G.isObject(r)&&r.isAxiosError===!0}const Od={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Od).forEach(([r,t])=>{Od[t]=r});function Wv(r){const t=new Es(r),i=Ov(Es.prototype.request,t);return G.extend(i,Es.prototype,t,{allOwnKeys:!0}),G.extend(i,t,null,{allOwnKeys:!0}),i.create=function(l){return Wv(Ts(r,l))},i}const ye=Wv(Tl);ye.Axios=Es;ye.CanceledError=za;ye.CancelToken=fS;ye.isCancel=Fv;ye.VERSION=$v;ye.toFormData=kc;ye.AxiosError=wt;ye.Cancel=ye.CanceledError;ye.all=function(t){return Promise.all(t)};ye.spread=dS;ye.isAxiosError=mS;ye.mergeConfig=Ts;ye.AxiosHeaders=cn;ye.formToJSON=r=>Hv(G.isHTMLForm(r)?new FormData(r):r);ye.getAdapter=Zv.getAdapter;ye.HttpStatusCode=Od;ye.default=ye;const{Axios:EC,AxiosError:TC,CanceledError:AC,isCancel:SC,CancelToken:bC,VERSION:RC,all:wC,Cancel:CC,isAxiosError:DC,spread:OC,toFormData:VC,AxiosHeaders:NC,HttpStatusCode:IC,formToJSON:MC,getAdapter:xC,mergeConfig:UC}=ye,gS=({onResult:r})=>{const{transcript:t,resetTranscript:i,listening:a,browserSupportsSpeechRecognition:l}=z1();ge.useEffect(()=>{l||alert(" Your browser doesn't support Speech Recognition.")},[l]),ge.useEffect(()=>{!a&&t&&d()},[a]);const c=()=>{i()},d=async()=>{try{const g=await ye.post("https://shopping-list-with-ai-assistance.onrender.com/voice-command",{text:t});r(g.data)}catch(g){console.error(" Failed to send to server:",g)}finally{i()}};return Rt.jsxs("div",{style:{textAlign:"center"},children:[Rt.jsx("button",{onClick:c,className:"mic-button",children:a?" Listening...":" Speak"}),t&&Rt.jsxs("p",{style:{marginTop:"10px",fontStyle:"italic"},children:[" You said: ",Rt.jsx("strong",{children:t})]})]})},pS=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},yS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,p=_?r[l+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let D=(g&15)<<2|p>>6,H=p&63;_||(H=64,d||(D=64)),a.push(i[E],i[b],i[D],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(tE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):yS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const p=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||p==null||b==null)throw new _S;const D=c<<2|g>>4;if(a.push(D),p!==64){const H=g<<4&240|p>>2;if(a.push(H),b!==64){const k=p<<6&192|b;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(r){const t=tE(r);return eE.encodeByteArray(t,!0)},Ec=function(r){return vS(r).replace(/\./g,"")},ES=function(r){try{return eE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=()=>TS().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof p_>"u")return;const r=p_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&ES(r[1]);return t&&JSON.parse(t)},nm=()=>{try{return pS()||AS()||SS()||bS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},RS=r=>{var t,i;return(i=(t=nm())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},wS=r=>{const t=RS(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},nE=()=>{var r;return(r=nm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ec(JSON.stringify(i)),Ec(JSON.stringify(d)),""].join(".")}const sl={};function VS(){const r={prod:[],emulator:[]};for(const t of Object.keys(sl))sl[t]?r.emulator.push(t):r.prod.push(t);return r}function NS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let y_=!1;function IS(r,t){if(typeof window>"u"||typeof document>"u"||!im(window.location.host)||sl[r]===t||sl[r]||y_)return;sl[r]=t;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=VS().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function p(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{y_=!0,d()},D}function E(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function b(){const D=NS(a),H=i("text"),k=document.getElementById(H)||document.createElement("span"),K=i("learnmore"),j=document.getElementById(K)||document.createElement("a"),nt=i("preprendIcon"),W=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const et=D.element;g(et),E(j,K);const ut=p();_(W,nt),et.append(W,k,j,ut),document.body.appendChild(et)}c?(k.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){var r;const t=(r=nm())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return!xS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LS(){try{return typeof indexedDB=="object"}catch{return!1}}function PS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="FirebaseError";class Ba extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=zS,Object.setPrototypeOf(this,Ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iE.prototype.create)}}class iE{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?BS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ba(l,g,a)}}function BS(r,t){return r.replace(kS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const kS=/\{\$([^}]+)}/g;function Tc(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(__(c)&&__(d)){if(!Tc(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function __(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(r){return r&&r._delegate?r._delegate:r}class fl{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new CS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t?.identifier),l=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HS(t))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=gs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=gs){return this.instances.has(t)}getOptions(t=gs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:jS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=gs){return this.component?this.component.multipleInstances?t:gs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jS(r){return r===gs?void 0:r}function HS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new qS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const GS={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},QS=qt.INFO,YS={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},KS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=YS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rE{constructor(t){this.name=t,this._logLevel=QS,this._logHandler=KS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const XS=(r,t)=>t.some(i=>r instanceof i);let v_,E_;function ZS(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $S(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,Vd=new WeakMap,aE=new WeakMap,gd=new WeakMap,rm=new WeakMap;function JS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Er(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&sE.set(i,r)}).catch(()=>{}),rm.set(t,r),t}function WS(r){if(Vd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Vd.set(r,t)}let Nd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Vd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||aE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function tb(r){Nd=r(Nd)}function eb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(pd(this),t,...i);return aE.set(a,t.sort?t.sort():[t]),Er(a)}:$S().includes(r)?function(...t){return r.apply(pd(this),t),Er(sE.get(this))}:function(...t){return Er(r.apply(pd(this),t))}}function nb(r){return typeof r=="function"?eb(r):(r instanceof IDBTransaction&&WS(r),XS(r,ZS())?new Proxy(r,Nd):r)}function Er(r){if(r instanceof IDBRequest)return JS(r);if(gd.has(r))return gd.get(r);const t=nb(r);return t!==r&&(gd.set(r,t),rm.set(t,r)),t}const pd=r=>rm.get(r);function ib(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Er(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Er(d.result),_.oldVersion,_.newVersion,Er(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const rb=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],yd=new Map;function T_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(yd.get(t))return yd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=sb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||rb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let p=_.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),l&&_.done]))[0]};return yd.set(t,c),c}tb(r=>({...r,get:(t,i,a)=>T_(t,i)||r.get(t,i,a),has:(t,i)=>!!T_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ob(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ob(r){const t=r.getComponent();return t?.type==="VERSION"}const Id="@firebase/app",A_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new rE("@firebase/app"),lb="@firebase/app-compat",ub="@firebase/analytics-compat",cb="@firebase/analytics",hb="@firebase/app-check-compat",fb="@firebase/app-check",db="@firebase/auth",mb="@firebase/auth-compat",gb="@firebase/database",pb="@firebase/data-connect",yb="@firebase/database-compat",_b="@firebase/functions",vb="@firebase/functions-compat",Eb="@firebase/installations",Tb="@firebase/installations-compat",Ab="@firebase/messaging",Sb="@firebase/messaging-compat",bb="@firebase/performance",Rb="@firebase/performance-compat",wb="@firebase/remote-config",Cb="@firebase/remote-config-compat",Db="@firebase/storage",Ob="@firebase/storage-compat",Vb="@firebase/firestore",Nb="@firebase/ai",Ib="@firebase/firestore-compat",Mb="firebase",xb="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",Ub={[Id]:"fire-core",[lb]:"fire-core-compat",[cb]:"fire-analytics",[ub]:"fire-analytics-compat",[fb]:"fire-app-check",[hb]:"fire-app-check-compat",[db]:"fire-auth",[mb]:"fire-auth-compat",[gb]:"fire-rtdb",[pb]:"fire-data-connect",[yb]:"fire-rtdb-compat",[_b]:"fire-fn",[vb]:"fire-fn-compat",[Eb]:"fire-iid",[Tb]:"fire-iid-compat",[Ab]:"fire-fcm",[Sb]:"fire-fcm-compat",[bb]:"fire-perf",[Rb]:"fire-perf-compat",[wb]:"fire-rc",[Cb]:"fire-rc-compat",[Db]:"fire-gcs",[Ob]:"fire-gcs-compat",[Vb]:"fire-fst",[Ib]:"fire-fst-compat",[Nb]:"fire-vertex","fire-js":"fire-js",[Mb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Map,Lb=new Map,xd=new Map;function S_(r,t){try{r.container.addComponent(t)}catch(i){ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Sc(r){const t=r.name;if(xd.has(t))return ji.debug(`There were multiple attempts to register component ${t}.`),!1;xd.set(t,r);for(const i of Ac.values())S_(i,r);for(const i of Lb.values())S_(i,r);return!0}function Pb(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function zb(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new iE("app","Firebase",Bb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=xb;function oE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Md,automaticDataCollectionEnabled:!0},t),l=a.name;if(typeof l!="string"||!l)throw Tr.create("bad-app-name",{appName:String(l)});if(i||(i=nE()),!i)throw Tr.create("no-options");const c=Ac.get(l);if(c){if(Tc(i,c.options)&&Tc(a,c.config))return c;throw Tr.create("duplicate-app",{appName:l})}const d=new FS(l);for(const _ of xd.values())d.addComponent(_);const g=new kb(i,a,d);return Ac.set(l,g),g}function jb(r=Md){const t=Ac.get(r);if(!t&&r===Md&&nE())return oE();if(!t)throw Tr.create("no-app",{appName:r});return t}function Da(r,t,i){var a;let l=(a=Ub[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ji.warn(g.join(" "));return}Sc(new fl(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firebase-heartbeat-database",Fb=1,dl="firebase-heartbeat-store";let _d=null;function lE(){return _d||(_d=ib(Hb,Fb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Tr.create("idb-open",{originalErrorMessage:r.message})})),_d}async function Gb(r){try{const i=(await lE()).transaction(dl),a=await i.objectStore(dl).get(uE(r));return await i.done,a}catch(t){if(t instanceof Ba)ji.warn(t.message);else{const i=Tr.create("idb-get",{originalErrorMessage:t?.message});ji.warn(i.message)}}}async function b_(r,t){try{const a=(await lE()).transaction(dl,"readwrite");await a.objectStore(dl).put(t,uE(r)),await a.done}catch(i){if(i instanceof Ba)ji.warn(i.message);else{const a=Tr.create("idb-set",{originalErrorMessage:i?.message});ji.warn(a.message)}}}function uE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=1024,Yb=30;class Kb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Zb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=R_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Yb){const d=$b(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ji.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=R_(),{heartbeatsToSend:a,unsentEntries:l}=Xb(this._heartbeatsCache.heartbeats),c=Ec(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ji.warn(i),""}}}function R_(){return new Date().toISOString().substring(0,10)}function Xb(r,t=Qb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),w_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),w_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Zb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LS()?PS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Gb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return b_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return b_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function w_(r){return Ec(JSON.stringify({version:2,heartbeats:r})).length}function $b(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(r){Sc(new fl("platform-logger",t=>new ab(t),"PRIVATE")),Sc(new fl("heartbeat",t=>new Kb(t),"PRIVATE")),Da(Id,A_,r),Da(Id,A_,"esm2017"),Da("fire-js","")}Jb("");var Wb="firebase",tR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da(Wb,tR,"app");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,cE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function R(){}R.prototype=S.prototype,V.D=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(N,M,x){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return S.prototype[M].apply(N,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],M=V.g[2];var x=V.g[3],w=S+(x^R&(M^x))+N[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+N[1]+3905402710&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+N[2]+606105819&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+N[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+N[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+N[5]+1200080426&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+N[6]+2821735955&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+N[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+N[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+N[9]+2336552879&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+N[10]+4294925233&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+N[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+N[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+N[13]+4254626195&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+N[14]+2792965006&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+N[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(M^x&(R^M))+N[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+N[6]+3225465664&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+N[11]+643717713&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+N[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+N[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+N[10]+38016083&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+N[15]+3634488961&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+N[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+N[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+N[14]+3275163606&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+N[3]+4107603335&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+N[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+N[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+N[2]+4243563512&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+N[7]+1735328473&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+N[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(R^M^x)+N[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+N[8]+2272392833&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+N[11]+1839030562&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+N[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+N[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+N[4]+1272893353&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+N[7]+4139469664&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+N[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+N[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+N[0]+3936430074&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+N[3]+3572445317&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+N[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+N[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+N[12]+3873151461&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+N[15]+530742520&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+N[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(M^(R|~x))+N[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+N[7]+1126891415&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+N[14]+2878612391&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+N[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+N[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+N[3]+2399980690&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+N[10]+4293915773&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+N[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+N[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+N[15]+4264355552&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+N[6]+2734768916&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+N[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+N[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+N[11]+3174756917&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+N[2]+718787259&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+x&4294967295}a.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var R=S-this.blockSize,N=this.B,M=this.h,x=0;x<S;){if(M==0)for(;x<=R;)l(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<S;)if(N[M++]=V.charCodeAt(x++),M==this.blockSize){l(this,N),M=0;break}}else for(;x<S;)if(N[M++]=V[x++],M==this.blockSize){l(this,N),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var R=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=R&255,R/=256;for(this.u(V),V=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)V[R++]=this.g[S]>>>N&255;return V};function c(V,S){var R=g;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function d(V,S){this.h=S;for(var R=[],N=!0,M=V.length-1;0<=M;M--){var x=V[M]|0;N&&x==S||(R[M]=x,N=!1)}this.g=R}var g={};function _(V){return-128<=V&&128>V?c(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return j(p(-V));for(var S=[],R=1,N=0;V>=R;N++)S[N]=V/R|0,R*=4294967296;return new d(S,0)}function E(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return j(E(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(S,8)),N=b,M=0;M<V.length;M+=8){var x=Math.min(8,V.length-M),w=parseInt(V.substring(M,M+x),S);8>x?(x=p(Math.pow(S,x)),N=N.j(x).add(p(w))):(N=N.j(R),N=N.add(p(w)))}return N}var b=_(0),D=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(K(this))return-j(this).m();for(var V=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);V+=(0<=N?N:4294967296+N)*S,S*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(k(this))return"0";if(K(this))return"-"+j(this).toString(V);for(var S=p(Math.pow(V,6)),R=this,N="";;){var M=ut(R,S).g;R=nt(R,M.j(S));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=M,k(R))return x+N;for(;6>x.length;)x="0"+x;N=x+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function k(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function K(V){return V.h==-1}r.l=function(V){return V=nt(this,V),K(V)?-1:k(V)?0:1};function j(V){for(var S=V.g.length,R=[],N=0;N<S;N++)R[N]=~V.g[N];return new d(R,~V.h).add(D)}r.abs=function(){return K(this)?j(this):this},r.add=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0,M=0;M<=S;M++){var x=N+(this.i(M)&65535)+(V.i(M)&65535),w=(x>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=w>>>16,x&=65535,w&=65535,R[M]=w<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function nt(V,S){return V.add(j(S))}r.j=function(V){if(k(this)||k(V))return b;if(K(this))return K(V)?j(this).j(j(V)):j(j(this).j(V));if(K(V))return j(this.j(j(V)));if(0>this.l(H)&&0>V.l(H))return p(this.m()*V.m());for(var S=this.g.length+V.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var x=this.i(N)>>>16,w=this.i(N)&65535,ne=V.i(M)>>>16,Wt=V.i(M)&65535;R[2*N+2*M]+=w*Wt,W(R,2*N+2*M),R[2*N+2*M+1]+=x*Wt,W(R,2*N+2*M+1),R[2*N+2*M+1]+=w*ne,W(R,2*N+2*M+1),R[2*N+2*M+2]+=x*ne,W(R,2*N+2*M+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new d(R,0)};function W(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function et(V,S){this.g=V,this.h=S}function ut(V,S){if(k(S))throw Error("division by zero");if(k(V))return new et(b,b);if(K(V))return S=ut(j(V),S),new et(j(S.g),j(S.h));if(K(S))return S=ut(V,j(S)),new et(j(S.g),S.h);if(30<V.g.length){if(K(V)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var R=D,N=S;0>=N.l(V);)R=it(R),N=it(N);var M=lt(R,1),x=lt(N,1);for(N=lt(N,2),R=lt(R,2);!k(N);){var w=x.add(N);0>=w.l(V)&&(M=M.add(R),x=w),N=lt(N,1),R=lt(R,1)}return S=nt(V,M.j(S)),new et(M,S)}for(M=b;0<=V.l(S);){for(R=Math.max(1,Math.floor(V.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),x=p(R),w=x.j(S);K(w)||0<w.l(V);)R-=N,x=p(R),w=x.j(S);k(x)&&(x=D),M=M.add(x),V=nt(V,w)}return new et(M,V)}r.A=function(V){return ut(this,V).h},r.and=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&V.i(N);return new d(R,this.h&V.h)},r.or=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|V.i(N);return new d(R,this.h|V.h)},r.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^V.i(N);return new d(R,this.h^V.h)};function it(V){for(var S=V.g.length+1,R=[],N=0;N<S;N++)R[N]=V.i(N)<<1|V.i(N-1)>>>31;return new d(R,V.h)}function lt(V,S){var R=S>>5;S%=32;for(var N=V.g.length-R,M=[],x=0;x<N;x++)M[x]=0<S?V.i(x+R)>>>S|V.i(x+R+1)<<32-S:V.i(x+R);return new d(M,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,cE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,Ar=d}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hE,nl,fE,uc,Ud,dE,mE,gE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in y))break t;y=y[L]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,L={next:function(){if(!A&&y<u.length){var F=y++;return{value:m(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,y){return u.call.apply(u.bind,arguments)}function b(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function D(u,m,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,D.apply(null,arguments)}function H(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function k(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,L,F){for(var at=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)at[Pt-2]=arguments[Pt];return m.prototype[L].apply(A,at)}}function K(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function j(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(_(A)){const L=u.length||0,F=A.length||0;u.length=L+F;for(let at=0;at<F;at++)u[L+at]=A[at]}else u.push(A)}}class nt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ut(u){return ut[" "](u),u}ut[" "]=function(){};var it=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function lt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function V(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(y in A)u[y]=A[y];for(let F=0;F<R.length;F++)y=R[F],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function x(u){g.setTimeout(()=>{throw u},0)}function w(){var u=St;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,y){const A=Wt.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var Wt=new nt(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ht=!1,St=new ne,O=()=>{const u=g.Promise.resolve(void 0);ot=()=>{u.then(Z)}};var Z=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){x(y)}var m=Wt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Dt(u,m){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(it){t:{try{ut(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}k(Dt,rt);var _t={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function Qe(u,m,y,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=L,this.key=++Lt,this.da=this.fa=!1}function Un(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gi(u){this.src=u,this.g={},this.h=0}gi.prototype.add=function(u,m,y,A,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var at=Mr(u,m,A,L);return-1<at?(m=u[at],y||(m.fa=!1)):(m=new Qe(m,this.src,F,!!A,L),m.fa=y,u.push(m)),m};function Ir(u,m){var y=m.type;if(y in u.g){var A=u.g[y],L=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=L)&&Array.prototype.splice.call(A,L,1),F&&(Un(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Mr(u,m,y,A){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==m&&F.capture==!!y&&F.ha==A)return L}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),Fa={};function Dl(u,m,y,A,L){if(Array.isArray(m)){for(var F=0;F<m.length;F++)Dl(u,m[F],y,A,L);return null}return y=Ol(y),u&&u[Nt]?u.K(m,y,p(A)?!!A.capture:!1,L):En(u,m,y,!1,A,L)}function En(u,m,y,A,L,F){if(!m)throw Error("Invalid event type");var at=p(L)?!!L.capture:!!L,Pt=Vs(u);if(Pt||(u[xr]=Pt=new gi(u)),y=Pt.add(m,y,A,at,F),y.proxy)return y;if(A=ih(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)gt||(L=at),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(Ur(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ih(){function u(y){return m.call(u.src,u.listener,y)}const m=rh;return u}function Ga(u,m,y,A,L){if(Array.isArray(m))for(var F=0;F<m.length;F++)Ga(u,m[F],y,A,L);else A=p(A)?!!A.capture:!!A,y=Ol(y),u&&u[Nt]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],y=Mr(F,y,A,L),-1<y&&(Un(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Mr(m,y,A,L)),(y=-1<u?m[u]:null)&&Os(y))}function Os(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Nt])Ir(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Ur(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=Vs(m))?(Ir(y,u),y.h==0&&(y.src=null,m[xr]=null)):Un(u)}}}function Ur(u){return u in Fa?Fa[u]:Fa[u]="on"+u}function rh(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&Os(u),u=y.call(A,m)}return u}function Vs(u){return u=u[xr],u instanceof gi?u:null}var Qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ol(u){return typeof u=="function"?u:(u[Qa]||(u[Qa]=function(m){return u.handleEvent(m)}),u[Qa])}function ue(){st.call(this),this.i=new gi(this),this.M=this,this.F=null}k(ue,st),ue.prototype[Nt]=!0,ue.prototype.removeEventListener=function(u,m,y,A){Ga(this,u,m,y,A)};function Qt(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new rt(m,u);else if(m instanceof rt)m.target=m.target||u;else{var L=m;m=new rt(A,u),N(m,L)}if(L=!0,y)for(var F=y.length-1;0<=F;F--){var at=m.g=y[F];L=hn(at,A,!0,m)&&L}if(at=m.g=u,L=hn(at,A,!0,m)&&L,L=hn(at,A,!1,m)&&L,y)for(F=0;F<y.length;F++)at=m.g=y[F],L=hn(at,A,!1,m)&&L}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)Un(y[A]);delete u.g[m],u.h--}}this.F=null},ue.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},ue.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function hn(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,F=0;F<m.length;++F){var at=m[F];if(at&&!at.da&&at.capture==y){var Pt=at.listener,Re=at.ha||at.src;at.fa&&Ir(u.i,at),L=Pt.call(Re,A)!==!1&&L}}return L&&!A.defaultPrevented}function Ye(u,m,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Vl(u){u.g=Ye(()=>{u.g=null,u.i&&(u.i=!1,Vl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sh extends st{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(u){st.call(this),this.h=u,this.g={}}k(Lr,st);var Pr=[];function zr(u){lt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Os(m)},u),u.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),zr(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=g.JSON.stringify,Ns=g.JSON.parse,Br=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ya(){}Ya.prototype.h=null;function Ka(u){return u.h||(u.h=u.i())}function Xa(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){rt.call(this,"d")}k(yi,rt);function Za(){rt.call(this,"c")}k(Za,rt);var Gn={},$a=null;function Gi(){return $a=$a||new ue}Gn.La="serverreachability";function Is(u){rt.call(this,Gn.La,u)}k(Is,rt);function Qi(u){const m=Gi();Qt(m,new Is(m))}Gn.STAT_EVENT="statevent";function Nl(u,m){rt.call(this,Gn.STAT_EVENT,u),this.stat=m}k(Nl,rt);function se(u){const m=Gi();Qt(m,new Nl(m,u))}Gn.Ma="timingevent";function be(u,m){rt.call(this,Gn.Ma,u),this.size=m}k(be,rt);function _e(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function Ja(u,m,y,A,L,F){u.info(function(){if(u.g)if(F)for(var at="",Pt=F.split("&"),Re=0;Re<Pt.length;Re++){var zt=Pt[Re].split("=");if(1<zt.length){var Ie=zt[0];zt=zt[1];var we=Ie.split("_");at=2<=we.length&&we[1]=="type"?at+(Ie+"="+zt+"&"):at+(Ie+"=redacted&")}}else at=null;else at=F;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+y+`
`+at})}function ah(u,m,y,A,L,F,at){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+y+`
`+F+" "+at})}function Yi(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kr(u,y)+(A?" "+A:"")})}function Il(u,m){u.info(function(){return"TIMEOUT: "+m})}Tn.prototype.info=function(){};function kr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var at=1;at<L.length;at++)L[at]=""}}}}return Ln(y)}catch{return m}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Yn(){}k(Yn,Ya),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Qn=new Yn;function tn(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var Wa={},Ms={};function Pn(u,m,y){u.L=1,u.v=Gr(fn(m)),u.m=y,u.P=!0,vi(u,null)}function vi(u,m){u.F=Date.now(),qr(u),u.A=fn(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),so(y.i,"t",A),u.C=0,y=u.j.J,u.h=new fe,u.g=Kl(u.j,y?m:null,!u.m),0<u.O&&(u.M=new sh(D(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Pr[0]=L.toString()),L=Pr);for(var F=0;F<L.length;F++){var at=Dl(y,L[F],A||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),Ja(u.i,u.u,u.A,u.l,u.R,u.m)}tn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Rn(u)==3?m.j():this.Y(u)},tn.prototype.Y=function(u){try{if(u==this.g)t:{const we=Rn(this.g);var m=this.g.Ba();const Ci=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||kl(this.g)))){this.J||we!=4||m==7||(m==8||0>=Ci?Qi(3):Qi(2)),Xi(this);var y=this.g.Z();this.X=y;e:if(Ml(this)){var A=kl(this.g);u="";var L=A.length,F=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Kn(this);var at="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(F&&m==L-1)});A.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=y==200,ah(this.i,this.u,this.A,this.l,this.R,we,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Re=this.g;if((Pt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Pt)){var zt=Pt;break e}}zt=null}if(y=zt)Yi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jr(this,y);else{this.o=!1,this.s=3,se(12),ze(this),Kn(this);break t}}if(this.P){y=!0;let Be;for(;!this.J&&this.C<at.length;)if(Be=xl(this,at),Be==Ms){we==4&&(this.s=4,se(14),y=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==Wa){this.s=4,se(15),Yi(this.i,this.l,at,"[Invalid Chunk]"),y=!1;break}else Yi(this.i,this.l,Be,null),jr(this,Be);if(Ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||at.length!=0||this.h.h||(this.s=1,se(16),y=!1),this.o=this.o&&y,!y)Yi(this.i,this.l,at,"[Invalid Chunked Response]"),ze(this),Kn(this);else if(0<at.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Wr(Ie),Ie.M=!0,se(11))}}else Yi(this.i,this.l,at,null),jr(this,at);we==4&&ze(this),this.o&&!this.J&&(we==4?Gl(this.j,this):(this.o=!1,qr(this)))}else hh(this.g),y==400&&0<at.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),ze(this),Kn(this)}}}catch{}finally{}};function Ml(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xl(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Ms:(y=Number(m.substring(y,A)),isNaN(y)?Wa:(A+=1,A+y>m.length?Ms:(m=m.slice(A,A+y),u.C=A+y,m)))}tn.prototype.cancel=function(){this.J=!0,ze(this)};function qr(u){u.S=Date.now()+u.I,Ul(u,u.I)}function Ul(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_e(D(u.ba,u),m)}function Xi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}tn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Il(this.i,this.A),this.L!=2&&(Qi(),se(17)),ze(this),this.s=2,Kn(this)):Ul(this,this.S-u)};function Kn(u){u.j.G==0||u.J||Gl(u.j,u)}function ze(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,zr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function jr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||to(y.h,u))){if(!u.K&&to(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Gs(y),Hs(y);else break t;co(y),se(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=_e(D(y.Za,y),6e3));if(1>=Us(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else wi(y,11)}else if((u.K||y.g==u)&&Gs(y),!W(m))for(L=y.Da.g.parse(m),m=0;m<L.length;m++){let zt=L[m];if(y.T=zt[0],zt=zt[1],y.G==2)if(zt[0]=="c"){y.K=zt[1],y.ia=zt[2];const Ie=zt[3];Ie!=null&&(y.la=Ie,y.j.info("VER="+y.la));const we=zt[4];we!=null&&(y.Aa=we,y.j.info("SVER="+y.Aa));const Ci=zt[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(A=1.5*Ci,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Be=u.g;if(Be){const ei=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var F=A.h;F.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ls(F,F.h),F.h=null))}if(A.D){const fo=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(A.ya=fo,Xt(A.I,A.D,fo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var at=u;if(A.qa=Yl(A,A.J?A.ia:null,A.W),at.K){en(A.h,at);var Pt=at,Re=A.L;Re&&(Pt.I=Re),Pt.B&&(Xi(Pt),qr(Pt)),A.g=at}else Hl(A);0<y.i.length&&Fs(y)}else zt[0]!="stop"&&zt[0]!="close"||wi(y,7);else y.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?wi(y,7):lo(y):zt[0]!="noop"&&y.l&&y.l.ta(zt),y.v=0)}}Qi(4)}catch{}}var Ll=class{constructor(u,m){this.g=u,this.map=m}};function Ei(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Us(u){return u.h?1:u.g?u.g.size:0}function to(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ls(u,m){u.g?u.g.add(m):u.h=m}function en(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ei.prototype.cancel=function(){if(this.i=eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function eo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return K(u.i)}function oh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function Ps(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function no(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ps(u),A=oh(u),L=A.length,F=0;F<L;F++)m.call(void 0,A[F],y&&y[F],u)}var Hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),L=null;if(0<=A){var F=u[y].substring(0,A);L=u[y].substring(A+1)}else F=u[y];m(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ve(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ve){this.h=u.h,Fr(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.s),this.l=u.l;var m=u.i,y=new Ai;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ti(this,y),this.m=u.m}else u&&(m=String(u).match(Hr))?(this.h=!1,Fr(this,m[1]||"",!0),this.o=An(m[2]||""),this.g=An(m[3]||"",!0),Zi(this,m[4]),this.l=An(m[5]||"",!0),Ti(this,m[6]||"",!0),this.m=An(m[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}ve.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Qr(m,io,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qr(m,io,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Qr(y,y.charAt(0)=="/"?uh:ro,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Qr(y,zs)),u.join("")};function fn(u){return new ve(u)}function Fr(u,m,y){u.j=y?An(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ti(u,m,y){m instanceof Ai?(u.i=m,zl(u.i,u.h)):(y||(m=Qr(m,ch)),u.i=new Ai(m,u.h))}function Xt(u,m,y){u.i.set(m,y)}function Gr(u){return Xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function An(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Pl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var io=/[#\/\?@]/g,ro=/[#\?:]/g,uh=/[#\?]/g,ch=/[#\?@]/g,zs=/#/g;function Ai(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&lh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ai.prototype,r.add=function(u,m){Sn(this),this.i=null,u=Xn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Si(u,m){Sn(u),m=Xn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bi(u,m){return Sn(u),m=Xn(u,m),u.g.has(m)}r.forEach=function(u,m){Sn(this),this.g.forEach(function(y,A){y.forEach(function(L){u.call(m,L,A,this)},this)},this)},r.na=function(){Sn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const L=u[A];for(let F=0;F<L.length;F++)y.push(m[A])}return y},r.V=function(u){Sn(this);let m=[];if(typeof u=="string")bi(this,u)&&(m=m.concat(this.g.get(Xn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Sn(this),this.i=null,u=Xn(this,u),bi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function so(u,m,y){Si(u,m),0<y.length&&(u.i=null,u.g.set(Xn(u,m),K(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const F=encodeURIComponent(String(A)),at=this.V(A);for(A=0;A<at.length;A++){var L=F;at[A]!==""&&(L+="="+encodeURIComponent(String(at[A]))),u.push(L)}}return this.i=u.join("&")};function Xn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zl(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(y,A){var L=A.toLowerCase();A!=L&&(Si(this,A),so(this,L,y))},u)),u.j=m}function Yr(u,m){const y=new Tn;if(g.Image){const A=new Image;A.onload=H(bn,y,"TestLoadImage: loaded",!0,m,A),A.onerror=H(bn,y,"TestLoadImage: error",!1,m,A),A.onabort=H(bn,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=H(bn,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function zn(u,m){const y=new Tn,A=new AbortController,L=setTimeout(()=>{A.abort(),bn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(L),F.ok?bn(y,"TestPingServer: ok",!0,m):bn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),bn(y,"TestPingServer: error",!1,m)})}function bn(u,m,y,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(y)}catch{}}function Kr(){this.g=new Br}function Zn(u,m,y){const A=y||"";try{no(u,function(L,F){let at=L;p(L)&&(at=Ln(L)),m.push(A+F+"="+encodeURIComponent(at))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function $i(u){this.l=u.Ub||null,this.j=u.eb||!1}k($i,Ya),$i.prototype.g=function(){return new Ri(this.l,this.j)},$i.prototype.i=function(u){return function(){return u}}({});function Ri(u,m){ue.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ri,ue),r=Ri.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ao(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ao(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Jn(this),this.readyState==3&&ao(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oo(u){let m="";return lt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Ne(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=oo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Xt(u,m,y))}function Ft(u){ue.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ft,ue);var Bs=/^https?$/i,Xr=["POST","PUT"];r=Ft.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?Ka(this.o):Ka(Qn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Bl(this,F);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)y.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())y.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Xr,m,void 0))||A||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,at]of y)this.g.setRequestHeader(F,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Bl(this,F)}};function Bl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ks(u),Wn(u)}function ks(u){u.A||(u.A=!0,Qt(u,"complete"),Qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qt(this,"complete"),Qt(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qs(this):this.bb())},r.bb=function(){qs(this)};function qs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Rn(u)!=4||u.Z()!=2)){if(u.u&&Rn(u)==4)Ye(u.Ea,0,u);else if(Qt(u,"readystatechange"),Rn(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=at===0){var L=String(u.D).match(Hr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),A=!Bs.test(L?L.toLowerCase():"")}y=A}if(y)Qt(u,"complete"),Qt(u,"success");else{u.m=6;try{var F=2<Rn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",ks(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){Zr(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Qt(u,"ready");try{y.onreadystatechange=A}catch{}}}function Zr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Rn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ns(m)}};function kl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hh(u){const m={};u=(u.g&&2<=Rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(W(u[A]))continue;var y=M(u[A]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=m[L]||[];m[L]=F,F.push(y)}V(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function js(u){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,u),this.cb=$r("retryDelaySeedMs",1e4,u),this.Wa=$r("forwardChannelMaxRetries",2,u),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(u&&u.concurrentRequestLimit),this.Da=new Kr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=js.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){se(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=Yl(this,null,this.W),Fs(this)};function lo(u){if(ql(u),u.G==3){var m=u.U++,y=fn(u.I);if(Xt(y,"SID",u.K),Xt(y,"RID",m),Xt(y,"TYPE","terminate"),Jr(u,y),m=new tn(u,u.j,m),m.L=2,m.v=Gr(fn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Kl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qr(m)}Ql(u)}function Hs(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function ql(u){Hs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Gs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Fs(u){if(!xs(u.h)&&!u.s){u.s=!0;var m=u.Ga;ot||O(),ht||(ot(),ht=!0),St.add(m,u),u.B=0}}function fh(u,m){return Us(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_e(D(u.Ga,u,m),ho(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new tn(this,this.j,u);let F=this.o;if(this.S&&(F?(F=S(F),N(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=jl(this,L,m),y=fn(this.I),Xt(y,"RID",u),Xt(y,"CVER",22),this.D&&Xt(y,"X-HTTP-Session-Id",this.D),Jr(this,y),F&&(this.O?m="headers="+encodeURIComponent(String(oo(F)))+"&"+m:this.m&&Ne(y,this.m,F)),Ls(this.h,L),this.Ua&&Xt(y,"TYPE","init"),this.P?(Xt(y,"$req",m),Xt(y,"SID","null"),L.T=!0,Pn(L,y,null)):Pn(L,y,m),this.G=2}}else this.G==3&&(u?uo(this,u):this.i.length==0||xs(this.h)||uo(this))};function uo(u,m){var y;m?y=m.l:y=u.U++;const A=fn(u.I);Xt(A,"SID",u.K),Xt(A,"RID",y),Xt(A,"AID",u.T),Jr(u,A),u.m&&u.o&&Ne(A,u.m,u.o),y=new tn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=jl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ls(u.h,y),Pn(y,A,m)}function Jr(u,m){u.H&&lt(u.H,function(y,A){Xt(m,A,y)}),u.l&&no({},function(y,A){Xt(m,A,y)})}function jl(u,m,y){y=Math.min(u.i.length,y);var A=u.l?D(u.l.Na,u.l,u):null;t:{var L=u.i;let F=-1;for(;;){const at=["count="+y];F==-1?0<y?(F=L[0].g,at.push("ofs="+F)):F=0:at.push("ofs="+F);let Pt=!0;for(let Re=0;Re<y;Re++){let zt=L[Re].g;const Ie=L[Re].map;if(zt-=F,0>zt)F=Math.max(0,L[Re].g-100),Pt=!1;else try{Zn(Ie,at,"req"+zt+"_")}catch{A&&A(Ie)}}if(Pt){A=at.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function Hl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ot||O(),ht||(ot(),ht=!0),St.add(m,u),u.v=0}}function co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_e(D(u.Fa,u),ho(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Fl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_e(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Hs(this),Fl(this))};function Wr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Fl(u){u.g=new tn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=fn(u.qa);Xt(m,"RID","rpc"),Xt(m,"SID",u.K),Xt(m,"AID",u.T),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xt(m,"TO",u.ja),Xt(m,"TYPE","xmlhttp"),Jr(u,m),u.m&&u.o&&Ne(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Gr(fn(m)),y.m=null,y.P=!0,vi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Hs(this),co(this),se(19))};function Gs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Gl(u,m){var y=null;if(u.g==m){Gs(u),Wr(u),u.g=null;var A=2}else if(to(u.h,m))y=m.D,en(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;A=Gi(),Qt(A,new be(A,y)),Fs(u)}else Hl(u);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&fh(u,m)||A==2&&co(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),L){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function ho(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var y=D(u.fb,u),A=u.Xa;const L=!A;A=new ve(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Fr(A,"https"),Gr(A),L?Yr(A.toString(),y):zn(A.toString(),y)}else se(2);u.G=0,u.l&&u.l.sa(m),Ql(u),ql(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Ql(u){if(u.G=0,u.ka=[],u.l){const m=eo(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Yl(u,m,y){var A=y instanceof ve?fn(y):new ve(y);if(A.g!="")m&&(A.g=m+"."+A.g),Zi(A,A.s);else{var L=g.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var F=new ve(null);A&&Fr(F,A),m&&(F.g=m),L&&Zi(F,L),y&&(F.l=y),A=F}return y=u.D,m=u.ya,y&&m&&Xt(A,y,m),Xt(A,"VER",u.la),Jr(u,A),A}function Kl(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ft(new $i({eb:y})):new Ft(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xl(){}r=Xl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Qs(){}Qs.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){ue.call(this),this.g=new js(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!W(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!W(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ti(this)}k(nn,ue),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){lo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Ln(u),u=y);m.i.push(new Ll(m.Ya++,u)),m.G==3&&Fs(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,nn.aa.N.call(this)};function Zl(u){yi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}k(Zl,yi);function $l(){Za.call(this),this.status=1}k($l,Za);function ti(u){this.g=u}k(ti,Xl),ti.prototype.ua=function(){Qt(this.g,"a")},ti.prototype.ta=function(u){Qt(this.g,new Zl(u))},ti.prototype.sa=function(u){Qt(this.g,new $l)},ti.prototype.ra=function(){Qt(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,gE=function(){return new Qs},mE=function(){return Gi()},dE=Gn,Ud={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,uc=Ki,_i.COMPLETE="complete",fE=_i,Xa.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",ue.prototype.listen=ue.prototype.K,nl=Xa,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,hE=Ft}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",O_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new rE("@firebase/firestore");function Aa(){return As.logLevel}function ct(r,...t){if(As.logLevel<=qt.DEBUG){const i=t.map(sm);As.debug(`Firestore (${ka}): ${r}`,...i)}}function Hi(r,...t){if(As.logLevel<=qt.ERROR){const i=t.map(sm);As.error(`Firestore (${ka}): ${r}`,...i)}}function Rr(r,...t){if(As.logLevel<=qt.WARN){const i=t.map(sm);As.warn(`Firestore (${ka}): ${r}`,...i)}}function sm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,pE(r,a,i)}function pE(r,t,i){let a=`FIRESTORE (${ka}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Hi(a),new Error(a)}function Gt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||pE(t,l,a)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Ba{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i($e.UNAUTHENTICATED))}shutdown(){}}class nR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class iR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Sr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable(async()=>{await _.promise,await l(this.currentUser)})},g=_=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Sr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new yE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class rR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new rR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zb(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=oR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(r,t){return r<t?-1:r>t?1:0}function Ld(r,t){let i=0;for(;i<r.length&&i<t.length;){const a=r.codePointAt(i),l=t.codePointAt(i);if(a!==l){if(a<128&&l<128)return Vt(a,l);{const c=_E(),d=lR(c.encode(N_(r,i)),c.encode(N_(t,i)));return d!==0?d:Vt(a,l)}}i+=a>65535?2:1}return Vt(r.length,t.length)}function N_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function lR(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Vt(r[i],t[i]);return Vt(r.length,t.length)}function Ia(r,t,i){return r.length===t.length&&r.every((a,l)=>i(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__name__";class li{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=li.isNumericId(t),l=li.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?li.extractNumericId(t).compare(li.extractNumericId(i)):Ld(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ar.fromString(t.substring(4,t.length-2))}}class ie extends li{construct(t,i,a){return new ie(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new dt(tt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new ie(i)}static emptyPath(){return new ie([])}}const uR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends li{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return uR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new Fe([I_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new dt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new dt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new dt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new dt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ie.fromString(t))}static fromName(t){return new pt(ie.fromString(t).popFirst(5))}static empty(){return new pt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(r,t,i){if(!i)throw new dt(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function cR(r,t,i,a){if(t===!0&&a===!0)throw new dt(tt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function M_(r){if(!pt.isDocumentKey(r))throw new dt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function x_(r){if(pt.isDocumentKey(r))throw new dt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function EE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Ss(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new dt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=om(r);throw new dt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,t){const i={typeString:r};return t&&(i.value=t),i}function Al(r,t){if(!EE(r))throw new dt(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new dt(tt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=-62135596800,L_=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*L_);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new dt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<U_)throw new dt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Al(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-U_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Se("string",re._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=-1;function hR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new wr(l,pt.empty(),t)}function fR(r){return new wr(r.readTime,r.key,ml)}class wr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new wr(At.min(),pt.empty(),ml)}static max(){return new wr(At.max(),pt.empty(),ml)}}function dR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==mR)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):J.reject(i)}static resolve(t){return new J((i,a)=>{i(t)})}static reject(t){return new J((i,a)=>{a(t)})}static waitFor(t){return new J((i,a)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},_=>a(_))}),d=!0,c===l&&i()})}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next(l=>l?J.resolve(l):a());return i}static forEach(t,i){const a=[];return t.forEach((l,c)=>{a.push(i.call(this,l,c))}),this.waitFor(a)}static mapArray(t,i){return new J((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;i(t[p]).next(E=>{d[p]=E,++g,g===c&&a(d)},E=>l(E))}})}static doWhile(t,i){return new J((a,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):a()};c()})}}function pR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ja(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this._e(a),this.ae=a=>i.writeSequenceNumber(a))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Hc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=-1;function Fc(r){return r==null}function bc(r){return r===0&&1/r==-1/0}function yR(r){return typeof r=="number"&&Number.isInteger(r)&&!bc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="";function _R(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=P_(t)),t=vR(r.get(i),t);return P_(t)}function vR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case TE:i+="";break;default:i+=c}}return i}function P_(r){return r+TE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Rs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function AE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tc(this.root,t,this.comparator,!0)}}class tc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new He(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(t){return new B_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class B_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new jn([])}unionWith(t){let i=new Ve(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ia(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new SE("Invalid base64 string: "+c):c}}(t);return new Ge(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const ER=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const i=ER.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Dr(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="server_timestamp",RE="__type__",wE="__previous_value__",CE="__local_write_time__";function um(r){var t,i;return((i=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[RE])===null||i===void 0?void 0:i.stringValue)===bE}function Gc(r){const t=r.mapValue.fields[wE];return um(t)?Gc(t):t}function gl(r){const t=Cr(r.mapValue.fields[CE].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i,a,l,c,d,g,_,p,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=E}}const Rc="(default)";class pl{constructor(t,i){this.projectId=t,this.database=i||Rc}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===Rc}isEqual(t){return t instanceof pl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__type__",AR="__max__",ec={mapValue:{}},OE="__vector__",wc="value";function Or(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?um(r)?4:bR(r)?9007199254740991:SR(r)?10:11:Et(28295,{value:r})}function di(r,t){if(r===t)return!0;const i=Or(r);if(i!==Or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return gl(r).isEqual(gl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Cr(l.timestampValue),g=Cr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Dr(l.bytesValue).isEqual(Dr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),g=pe(c.doubleValue);return d===g?bc(d)===bc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Ia(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(z_(d)!==z_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!di(d[_],g[_])))return!1;return!0}(r,t);default:return Et(52216,{left:r})}}function yl(r,t){return(r.values||[]).find(i=>di(i,t))!==void 0}function Ma(r,t){if(r===t)return 0;const i=Or(r),a=Or(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=pe(c.integerValue||c.doubleValue),_=pe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(r,t);case 3:return k_(r.timestampValue,t.timestampValue);case 4:return k_(gl(r),gl(t));case 5:return Ld(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Dr(c),_=Dr(d);return g.compareTo(_)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const E=Vt(g[p],_[p]);if(E!==0)return E}return Vt(g.length,_.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Vt(pe(c.latitude),pe(d.latitude));return g!==0?g:Vt(pe(c.longitude),pe(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return q_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,_,p,E;const b=c.fields||{},D=d.fields||{},H=(g=b[wc])===null||g===void 0?void 0:g.arrayValue,k=(_=D[wc])===null||_===void 0?void 0:_.arrayValue,K=Vt(((p=H?.values)===null||p===void 0?void 0:p.length)||0,((E=k?.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:q_(H,k)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===ec.mapValue&&d===ec.mapValue)return 0;if(c===ec.mapValue)return 1;if(d===ec.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=d.fields||{},E=Object.keys(p);_.sort(),E.sort();for(let b=0;b<_.length&&b<E.length;++b){const D=Ld(_[b],E[b]);if(D!==0)return D;const H=Ma(g[_[b]],p[E[b]]);if(H!==0)return H}return Vt(_.length,E.length)}(r.mapValue,t.mapValue);default:throw Et(23264,{le:i})}}function k_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=Cr(r),a=Cr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function q_(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ma(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function xa(r){return Pd(r)}function Pd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Cr(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Dr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return pt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Pd(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Pd(i.fields[d])}`;return l+"}"}(r.mapValue):Et(61005,{value:r})}function cc(r){switch(Or(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gc(r);return t?16+cc(t):16;case 5:return 2*r.stringValue.length;case 6:return Dr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+cc(c),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return Rs(a.fields,(c,d)=>{l+=c.length+cc(d)}),l}(r.mapValue);default:throw Et(13486,{value:r})}}function zd(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function j_(r){return!!r&&"nullValue"in r}function H_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hc(r){return!!r&&"mapValue"in r}function SR(r){var t,i;return((i=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[DE])===null||i===void 0?void 0:i.stringValue)===OE}function al(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Rs(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=al(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=al(r.arrayValue.values[i]);return t}return Object.assign({},r)}function bR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===AR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=al(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=al(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Rs(i,(l,c)=>t[l]=c);for(const l of a)delete t[l]}clone(){return new Mn(al(this.value))}}function VE(r){const t=[];return Rs(r.fields,(i,a)=>{const l=new Fe([i]);if(hc(a)){const c=VE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,At.min(),At.min(),At.min(),Mn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,At.min(),At.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,At.min(),At.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,i){this.position=t,this.inclusive=i}}function F_(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=Ma(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function G_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!di(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i="asc"){this.field=t,this.dir=i}}function RR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{}class Oe extends NE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new CR(t,i,a):i==="array-contains"?new VR(t,a):i==="in"?new NR(t,a):i==="not-in"?new IR(t,a):i==="array-contains-any"?new MR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new DR(t,a):new OR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ma(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(Ma(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends NE{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new mi(t,i)}matches(t){return IE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function IE(r){return r.op==="and"}function ME(r){return wR(r)&&IE(r)}function wR(r){for(const t of r.filters)if(t instanceof mi)return!1;return!0}function Bd(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+xa(r.value);if(ME(r))return r.filters.map(t=>Bd(t)).join(",");{const t=r.filters.map(i=>Bd(i)).join(",");return`${r.op}(${t})`}}function xE(r,t){return r instanceof Oe?function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&di(a.value,l.value)}(r,t):r instanceof mi?function(a,l){return l instanceof mi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,d,g)=>c&&xE(d,l.filters[g]),!0):!1}(r,t):void Et(19439)}function UE(r){return r instanceof Oe?function(i){return`${i.field.canonicalString()} ${i.op} ${xa(i.value)}`}(r):r instanceof mi?function(i){return i.op.toString()+" {"+i.getFilters().map(UE).join(" ,")+"}"}(r):"Filter"}class CR extends Oe{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class DR extends Oe{constructor(t,i){super(t,"in",i),this.keys=LE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class OR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=LE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function LE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>pt.fromName(a.referenceValue))}class VR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return cm(i)&&yl(i.arrayValue,this.value)}}class NR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&yl(this.value.arrayValue,i)}}class IR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!yl(this.value.arrayValue,i)}}class MR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>yl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function Q_(r,t=null,i=[],a=[],l=null,c=null,d=null){return new xR(r,t,i,a,l,c,d)}function hm(r){const t=bt(r);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Bd(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Fc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>xa(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>xa(a)).join(",")),t.Pe=i}return t.Pe}function fm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!RR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!xE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!G_(r.startAt,t.startAt)&&G_(r.endAt,t.endAt)}function kd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function UR(r,t,i,a,l,c,d,g){return new Qc(r,t,i,a,l,c,d,g)}function PE(r){return new Qc(r)}function Y_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LR(r){return r.collectionGroup!==null}function ol(r){const t=bt(r);if(t.Te===null){t.Te=[];const i=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Fe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Te.push(new Dc(c,a))}),i.has(Fe.keyField().canonicalString())||t.Te.push(new Dc(Fe.keyField(),a))}return t.Te}function ui(r){const t=bt(r);return t.Ie||(t.Ie=PR(t,ol(r))),t.Ie}function PR(r,t){if(r.limitType==="F")return Q_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Dc(l.field,c)});const i=r.endAt?new Cc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Cc(r.startAt.position,r.startAt.inclusive):null;return Q_(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function qd(r,t,i){return new Qc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Yc(r,t){return fm(ui(r),ui(t))&&r.limitType===t.limitType}function zE(r){return`${hm(ui(r))}|lt:${r.limitType}`}function Sa(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>UE(l)).join(", ")}]`),Fc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>xa(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>xa(l)).join(",")),`Target(${a})`}(ui(r))}; limitType=${r.limitType})`}function Kc(r,t){return t.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,t)&&function(a,l){for(const c of ol(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(a,l){return!(a.startAt&&!function(d,g,_){const p=F_(d,g,_);return d.inclusive?p<=0:p<0}(a.startAt,ol(a),l)||a.endAt&&!function(d,g,_){const p=F_(d,g,_);return d.inclusive?p>=0:p>0}(a.endAt,ol(a),l))}(r,t)}function zR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BE(r){return(t,i)=>{let a=!1;for(const l of ol(r)){const c=BR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function BR(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):function(c,d,g){const _=d.data.field(c),p=g.data.field(c);return _!==null&&p!==null?Ma(_,p):Et(42886)}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Rs(this.inner,(i,a)=>{for(const[l,c]of a)t(l,c)})}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new le(pt.comparator);function Fi(){return kR}const kE=new le(pt.comparator);function il(...r){let t=kE;for(const i of r)t=t.insert(i.key,i);return t}function qE(r){let t=kE;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function vs(){return ll()}function jE(){return ll()}function ll(){return new ws(r=>r.toString(),(r,t)=>r.isEqual(t))}const qR=new le(pt.comparator),jR=new Ve(pt.comparator);function Ut(...r){let t=jR;for(const i of r)t=t.add(i);return t}const HR=new Ve(Vt);function FR(){return HR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(t)?"-0":t}}function HE(r){return{integerValue:""+r}}function GR(r,t){return yR(t)?HE(t):dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function QR(r,t,i){return r instanceof Oc?function(l,c){const d={fields:{[RE]:{stringValue:bE},[CE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&um(c)&&(c=Gc(c)),c&&(d.fields[wE]=c),{mapValue:d}}(i,t):r instanceof _l?GE(r,t):r instanceof vl?QE(r,t):function(l,c){const d=FE(l,c),g=K_(d)+K_(l.Ee);return zd(d)&&zd(l.Ee)?HE(g):dm(l.serializer,g)}(r,t)}function YR(r,t,i){return r instanceof _l?GE(r,t):r instanceof vl?QE(r,t):i}function FE(r,t){return r instanceof Vc?function(a){return zd(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class Oc extends Xc{}class _l extends Xc{constructor(t){super(),this.elements=t}}function GE(r,t){const i=YE(t);for(const a of r.elements)i.some(l=>di(l,a))||i.push(a);return{arrayValue:{values:i}}}class vl extends Xc{constructor(t){super(),this.elements=t}}function QE(r,t){let i=YE(t);for(const a of r.elements)i=i.filter(l=>!di(l,a));return{arrayValue:{values:i}}}class Vc extends Xc{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function K_(r){return pe(r.integerValue||r.doubleValue)}function YE(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function KR(r,t){return r.field.isEqual(t.field)&&function(a,l){return a instanceof _l&&l instanceof _l||a instanceof vl&&l instanceof vl?Ia(a.elements,l.elements,di):a instanceof Vc&&l instanceof Vc?di(a.Ee,l.Ee):a instanceof Oc&&l instanceof Oc}(r.transform,t.transform)}class XR{constructor(t,i){this.version=t,this.transformResults=i}}class Hn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Zc{}function KE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new mm(r.key,Hn.none()):new Sl(r.key,r.data,Hn.none());{const i=r.data,a=Mn.empty();let l=new Ve(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Cs(r.key,a,new jn(l.toArray()),Hn.none())}}function ZR(r,t,i){r instanceof Sl?function(l,c,d){const g=l.value.clone(),_=Z_(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof Cs?function(l,c,d){if(!fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Z_(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(XE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function ul(r,t,i,a){return r instanceof Sl?function(c,d,g,_){if(!fc(c.precondition,d))return g;const p=c.value.clone(),E=$_(c.fieldTransforms,_,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(r,t,i,a):r instanceof Cs?function(c,d,g,_){if(!fc(c.precondition,d))return g;const p=$_(c.fieldTransforms,_,d),E=d.data;return E.setAll(XE(c)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(r,t,i,a):function(c,d,g){return fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function $R(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=FE(a.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function X_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ia(a,l,(c,d)=>KR(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Sl extends Zc{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Cs extends Zc{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function XE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function Z_(r,t,i){const a=new Map;Gt(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,YR(d,g,i[l]))}return a}function $_(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,QR(c,d,t))}return a}class mm extends Zc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JR extends Zc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ZR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=ul(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=ul(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=jE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=KE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ut())}isEqual(t){return this.batchId===t.batchId&&Ia(this.mutations,t.mutations,(i,a)=>X_(i,a))&&Ia(this.baseMutations,t.baseMutations,(i,a)=>X_(i,a))}}class gm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{Ve:t.mutations.length,me:a.length});let l=function(){return qR}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new gm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,kt;function nw(r){switch(r){case tt.OK:return Et(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function ZE(r){if(r===void 0)return Hi("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Ae.OK:return tt.OK;case Ae.CANCELLED:return tt.CANCELLED;case Ae.UNKNOWN:return tt.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return tt.INTERNAL;case Ae.UNAVAILABLE:return tt.UNAVAILABLE;case Ae.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ae.NOT_FOUND:return tt.NOT_FOUND;case Ae.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ae.ABORTED:return tt.ABORTED;case Ae.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ae.DATA_LOSS:return tt.DATA_LOSS;default:return Et(39323,{code:r})}}(kt=Ae||(Ae={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Ar([4294967295,4294967295],0);function J_(r){const t=_E().encode(r),i=new cE;return i.update(t),new Uint8Array(i.digest())}function W_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ar([i,a],0),new Ar([l,c],0)]}class pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new rl(`Invalid padding: ${i}`);if(a<0)throw new rl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new rl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new rl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=Ar.fromNumber(this.fe)}pe(t,i,a){let l=t.add(i.multiply(Ar.fromNumber(a)));return l.compare(iw)===1&&(l=new Ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=J_(t),[a,l]=W_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(a,l,c);if(!this.ye(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new pm(c,l,i);return a.forEach(g=>d.insert(g)),d}insert(t){if(this.fe===0)return;const i=J_(t),[a,l]=W_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(a,l,c);this.we(d)}}we(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,bl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new $c(At.min(),l,new le(Vt),Fi(),Ut())}}class bl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new bl(a,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.be=l}}class $E{constructor(t,i){this.targetId=t,this.De=i}}class JE{constructor(t,i,a=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class tv{constructor(){this.ve=0,this.Ce=ev(),this.Fe=Ge.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Ut(),i=Ut(),a=Ut();return this.Ce.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}}),new bl(this.Fe,this.Me,t,i,a)}ke(){this.xe=!1,this.Ce=ev()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class rw{constructor(t){this.We=t,this.Ge=new Map,this.ze=Fi(),this.je=nc(),this.Je=nc(),this.He=new le(Vt)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,i=>{const a=this.tt(i);switch(t.state){case 0:this.nt(i)&&a.Be(t.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(t.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(a.Ke(),a.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),a.Be(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach((a,l)=>{this.nt(l)&&i(l)})}it(t){const i=t.targetId,a=t.De.count,l=this.st(i);if(l){const c=l.target;if(kd(c))if(a===0){const d=new pt(c.path);this.Xe(i,d,Je.newNoDocument(d,At.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this.ot(i);if(d!==a){const g=this._t(t),_=g?this.ut(g,t,d):1;if(_!==0){this.rt(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,p)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Dr(a).toUint8Array()}catch(_){if(_ instanceof SE)return Rr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new pm(d,l,c)}catch(_){return Rr(_ instanceof rl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.fe===0?null:g}ut(t,i,a){return i.De.count===a-this.ht(t,i.targetId)?0:2}ht(t,i){const a=this.We.getRemoteKeysForTarget(i);let l=0;return a.forEach(c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Xe(i,c,null),l++)}),l}Pt(t){const i=new Map;this.Ge.forEach((c,d)=>{const g=this.st(d);if(g){if(c.current&&kd(g.target)){const _=new pt(g.target.path);this.Tt(_).has(d)||this.It(d,_)||this.Xe(d,_,Je.newNoDocument(_,t))}c.Ne&&(i.set(d,c.Le()),c.ke())}});let a=Ut();this.Je.forEach((c,d)=>{let g=!0;d.forEachWhile(_=>{const p=this.st(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(t));const l=new $c(t,i,this.He,this.ze,a);return this.ze=Fi(),this.je=nc(),this.Je=nc(),this.He=new le(Vt),l}Ze(t,i){if(!this.nt(t))return;const a=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,a),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,a){if(!this.nt(t))return;const l=this.tt(t);this.It(t,i)?l.qe(i,1):l.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),a&&(this.ze=this.ze.insert(i,a))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new tv,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new Ve(Vt),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new Ve(Vt),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new tv),this.We.getRemoteKeysForTarget(t).forEach(i=>{this.Xe(t,i,null)})}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function nc(){return new le(pt.comparator)}function ev(){return new le(pt.comparator)}const sw={asc:"ASCENDING",desc:"DESCENDING"},aw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ow={and:"AND",or:"OR"};class lw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function jd(r,t){return r.useProto3Json||Fc(t)?t:{value:t}}function Nc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function uw(r,t){return Nc(r,t.toTimestamp())}function ci(r){return Gt(!!r,49232),At.fromTimestamp(function(i){const a=Cr(i);return new re(a.seconds,a.nanos)}(r))}function ym(r,t){return Hd(r,t).canonicalString()}function Hd(r,t){const i=function(l){return new ie(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function t0(r){const t=ie.fromString(r);return Gt(s0(t),10190,{key:t.toString()}),t}function Fd(r,t){return ym(r.databaseId,t.path)}function vd(r,t){const i=t0(t);if(i.get(1)!==r.databaseId.projectId)throw new dt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new dt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(n0(i))}function e0(r,t){return ym(r.databaseId,t)}function cw(r){const t=t0(r);return t.length===4?ie.emptyPath():n0(t)}function Gd(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function n0(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nv(r,t,i){return{name:Fd(r,t),fields:i.value.mapValue.fields}}function hw(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(p,E){return p.useProto3Json?(Gt(E===void 0||typeof E=="string",58123),Ge.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ge.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(p){const E=p.code===void 0?tt.UNKNOWN:ZE(p.code);return new dt(E,p.message||"")}(d);i=new JE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=vd(r,a.document.name),c=ci(a.document.updateTime),d=a.document.createTime?ci(a.document.createTime):At.min(),g=new Mn({mapValue:{fields:a.document.fields}}),_=Je.newFoundDocument(l,c,d,g),p=a.targetIds||[],E=a.removedTargetIds||[];i=new dc(p,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=vd(r,a.document),c=a.readTime?ci(a.readTime):At.min(),d=Je.newNoDocument(l,c),g=a.removedTargetIds||[];i=new dc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=vd(r,a.document),c=a.removedTargetIds||[];i=new dc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{At:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new ew(l,c),g=a.targetId;i=new $E(g,d)}}return i}function fw(r,t){let i;if(t instanceof Sl)i={update:nv(r,t.key,t.value)};else if(t instanceof mm)i={delete:Fd(r,t.key)};else if(t instanceof Cs)i={update:nv(r,t.key,t.data),updateMask:Tw(t.fieldMask)};else{if(!(t instanceof JR))return Et(16599,{Rt:t.type});i={verify:Fd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,d){const g=d.transform;if(g instanceof Oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof _l)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Vc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw Et(20930,{transform:d.transform})}(0,a))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:uw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)}(r,t.precondition)),i}function dw(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map(i=>function(l,c){let d=l.updateTime?ci(l.updateTime):ci(c);return d.isEqual(At.min())&&(d=ci(c)),new XR(d,l.transformResults||[])}(i,t))):[]}function mw(r,t){return{documents:[e0(r,t.path)]}}function gw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=e0(r,l);const c=function(p){if(p.length!==0)return r0(mi.create(p,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(p){if(p.length!==0)return p.map(E=>function(D){return{field:ba(D.field),direction:_w(D.dir)}}(E))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=jd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{Vt:i,parent:l}}function pw(r){let t=cw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(b){const D=i0(b);return D instanceof mi&&ME(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(D=>function(k){return new Dc(Ra(k.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(b){let D;return D=typeof b=="object"?b.value:b,Fc(D)?null:D}(i.limit));let _=null;i.startAt&&(_=function(b){const D=!!b.before,H=b.values||[];return new Cc(H,D)}(i.startAt));let p=null;return i.endAt&&(p=function(b){const D=!b.before,H=b.values||[];return new Cc(H,D)}(i.endAt)),UR(t,l,d,c,g,"F",_,p)}function yw(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function i0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ra(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ra(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ra(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ra(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(r):r.fieldFilter!==void 0?function(i){return Oe.create(Ra(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return mi.create(i.compositeFilter.filters.map(a=>i0(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(r):Et(30097,{filter:r})}function _w(r){return sw[r]}function vw(r){return aw[r]}function Ew(r){return ow[r]}function ba(r){return{fieldPath:r.canonicalString()}}function Ra(r){return Fe.fromServerFormat(r.fieldPath)}function r0(r){return r instanceof Oe?function(i){if(i.op==="=="){if(H_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NAN"}};if(j_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NOT_NAN"}};if(j_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(i.field),op:vw(i.op),value:i.value}}}(r):r instanceof mi?function(i){const a=i.getFilters().map(l=>r0(l));return a.length===1?a[0]:{compositeFilter:{op:Ew(i.op),filters:a}}}(r):Et(54877,{filter:r})}function Tw(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function s0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,i,a,l,c=At.min(),d=At.min(),g=Ge.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.gt=t}}function Sw(r){const t=pw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.Dn=new Rw}addToCollectionParentIndex(t,i){return this.Dn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(wr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(wr.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class Rw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ie.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a0=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(a0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ua(0)}static ur(){return new Ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="LruGarbageCollector",ww=1048576;function sv([r,t],[i,a]){const l=Vt(r,i);return l===0?Vt(t,a):l}class Cw{constructor(t){this.Tr=t,this.buffer=new Ve(sv),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();sv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Dw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ct(rv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ja(i)?ct(rv,"Ignoring IndexedDB error during garbage collection: ",i):await qa(i)}await this.Rr(3e5)})}}class Ow{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return J.resolve(Hc.ue);const a=new Cw(i);return this.Vr.forEachTarget(t,l=>a.Er(l.sequenceNumber)).next(()=>this.Vr.gr(t,l=>a.Er(l))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(iv)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.pr(t,i))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let a,l,c,d,g,_,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l))).next(b=>(a=b,g=Date.now(),this.removeTargets(t,a,i))).next(b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a))).next(b=>(p=Date.now(),Aa()<=qt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${b} documents in `+(p-_)+`ms
Total Duration: ${p-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b})))}}function Vw(r,t){return new Ow(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.changes=new ws(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(a!==null&&ul(a.mutation,l,jn.empty(),re.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Ut()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Ut()){const l=vs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,a).next(c=>{let d=il();return c.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=vs();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Ut()))}populateOverlays(t,i,a){const l=[];return a.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,a,l){let c=Fi();const d=ll(),g=function(){return ll()}();return i.forEach((_,p)=>{const E=a.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof Cs)?c=c.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),ul(E.mutation,p,E.mutation.getFieldMask(),re.now())):d.set(p.key,jn.empty())}),this.recalculateAndSaveOverlays(t,c).next(_=>(_.forEach((p,E)=>d.set(p,E)),i.forEach((p,E)=>{var b;return g.set(p,new Iw(E,(b=d.get(p))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(t,i){const a=ll();let l=new le((d,g)=>d-g),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const p=i.get(_);if(p===null)return;let E=a.get(_)||jn.empty();E=g.applyToLocalView(p,E),a.set(_,E);const b=(l.get(g.batchId)||Ut()).add(_);l=l.insert(g.batchId,b)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,E=_.value,b=jE();E.forEach(D=>{if(!c.has(D)){const H=KE(i.get(D),a.get(D));H!==null&&b.set(D,H),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,p,b))}return J.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,l){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):LR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):J.resolve(vs());let g=ml,_=c;return d.next(p=>J.forEach(p,(E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next(D=>{_=_.insert(E,D)}))).next(()=>this.populateOverlays(t,p,c)).next(()=>this.computeViews(t,_,p,Ut())).next(E=>({batchId:g,changes:qE(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next(a=>{let l=il();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=il();return this.indexManager.getCollectionParents(t,c).next(g=>J.forEach(g,_=>{const p=function(b,D){return new Qc(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,p,a,l).next(E=>{E.forEach((b,D)=>{d=d.insert(b,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l))).next(d=>{c.forEach((_,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Je.newInvalidDocument(E)))});let g=il();return d.forEach((_,p)=>{const E=c.get(_);E!==void 0&&ul(E.mutation,p,jn.empty(),re.now()),Kc(i,p)&&(g=g.insert(_,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return J.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ci(l.createTime)}}(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,function(l){return{name:l.name,query:Sw(l.bundledQuery),readTime:ci(l.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.overlays=new le(pt.comparator),this.kr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=vs();return J.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((l,c)=>{this.wt(t,i,c)}),J.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.kr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const l=vs(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le((p,E)=>p-E);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let E=c.get(p.largestBatchId);E===null&&(E=vs(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=vs(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((p,E)=>g.set(p,E)),!(g.size()>=l)););return J.resolve(g)}wt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.kr.get(l.largestBatchId).delete(a.key);this.kr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new tw(i,a));let c=this.kr.get(i);c===void 0&&(c=Ut(),this.kr.set(i,c)),this.kr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.qr=new Ve(Le.Qr),this.$r=new Ve(Le.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.Wr(new Le(t,i))}Gr(t,i){t.forEach(a=>this.removeReference(a,i))}zr(t){const i=new pt(new ie([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.$r.forEachInRange([a,l],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new pt(new ie([])),a=new Le(i,t),l=new Le(i,t+1);let c=Ut();return this.$r.forEachInRange([a,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Le(t,0),a=this.qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return pt.comparator(t.key,i.key)||Vt(t.Hr,i.Hr)}static Ur(t,i){return Vt(t.Hr,i.Hr)||pt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ve(Le.Qr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new WR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Yr=this.Yr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?lm:this.er-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([a,l],d=>{const g=this.Zr(d.Hr);c.push(g)}),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Vt);return i.forEach(l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],g=>{a=a.add(g.Hr)})}),J.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new pt(c),0);let g=new Ve(Vt);return this.Yr.forEachWhile(_=>{const p=_.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(g=g.add(_.Hr)),!0)},d),J.resolve(this.ei(g))}ei(t){const i=[];return t.forEach(a=>{const l=this.Zr(a);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Gt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return J.forEach(i.mutations,l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Yr=a})}rr(t){}containsKey(t,i){const a=new Le(i,0),l=this.Yr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.ni=t,this.docs=function(){return new le(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ni(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=Fi();return i.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))}),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Fi();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:E}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||dR(fR(E),a)<=0||(l.has(E.key)||Kc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et(9500)}ri(t,i){return J.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new Bw(this)}getSize(t){return J.resolve(this.size)}}class Bw extends Nw{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.Or.addEntry(t,l)):this.Or.removeEntry(a)}),J.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.persistence=t,this.ii=new ws(i=>hm(i),fm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.si=0,this.oi=new _m,this.targetCount=0,this._i=Ua.ar()}forEachTarget(t,i){return this.ii.forEach((a,l)=>i(l)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.si&&(this.si=i),J.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new Ua(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.hr(i),J.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),J.waitFor(c).next(()=>l)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ii.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.oi.Kr(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.oi.Gr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.oi.Jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,i){this.ai={},this.overlays={},this.ui=new Hc(0),this.ci=!1,this.ci=!0,this.li=new Lw,this.referenceDelegate=t(this),this.hi=new kw(this),this.indexManager=new bw,this.remoteDocumentCache=function(l){return new zw(l)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new Aw(i),this.Ti=new xw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Uw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ai[t.toKey()];return a||(a=new Pw(i,this.referenceDelegate),this.ai[t.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,a){ct("MemoryPersistence","Starting transaction:",t);const l=new qw(this.ui.next());return this.referenceDelegate.Ii(),a(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ei(t,i){return J.or(Object.values(this.ai).map(a=>()=>a.containsKey(t,i)))}}class qw extends gR{constructor(t){super(),this.currentSequenceNumber=t}}class vm{constructor(t){this.persistence=t,this.Ai=new _m,this.Ri=null}static Vi(t){return new vm(t)}get mi(){if(this.Ri)return this.Ri;throw Et(60996)}addReference(t,i,a){return this.Ai.addReference(a,i),this.mi.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ai.removeReference(a,i),this.mi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach(l=>this.mi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.mi.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,a=>{const l=pt.fromPath(a);return this.fi(t,l).next(c=>{c||i.removeEntry(l,At.min())})}).next(()=>(this.Ri=null,i.apply(t)))}updateLimboDocument(t,i){return this.fi(t,i).next(a=>{a?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(t){return 0}fi(t,i){return J.or([()=>J.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Ic{constructor(t,i){this.persistence=t,this.gi=new ws(a=>_R(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=Vw(this,i)}static Vi(t,i){return new Ic(t,i)}Ii(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(l=>a+l))}yr(t){let i=0;return this.gr(t,a=>{i++}).next(()=>i)}gr(t,i){return J.forEach(this.gi,(a,l)=>this.Sr(t,a,l).next(c=>c?J.resolve():i(l)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(t,d=>this.Sr(t,d,i).next(g=>{g||(a++,c.removeEntry(d,At.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.gi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.gi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),J.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=cc(t.data.value)),i}Sr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.gi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Is=a,this.ds=l}static Es(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Em(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return US()?8:pR(MS())>0?6:4}()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ps(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(t,i,l,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new jw;return this.ws(t,i,d).next(g=>{if(c.result=g,this.Rs)return this.Ss(t,i,d,g.size)})}).next(()=>c.result)}Ss(t,i,a,l){return a.documentReadCount<this.Vs?(Aa()<=qt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Sa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Aa()<=qt.DEBUG&&ct("QueryEngine","Query:",Sa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.fs*l?(Aa()<=qt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Sa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(i))):J.resolve())}ps(t,i){if(Y_(i))return J.resolve(null);let a=ui(i);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=qd(i,null,"F"),a=ui(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const d=Ut(...c);return this.gs.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,a).next(_=>{const p=this.bs(i,g);return this.Ds(i,p,d,_.readTime)?this.ps(t,qd(i,null,"F")):this.vs(t,p,i,_)}))})))}ys(t,i,a,l){return Y_(i)||l.isEqual(At.min())?J.resolve(null):this.gs.getDocuments(t,a).next(c=>{const d=this.bs(i,c);return this.Ds(i,d,a,l)?J.resolve(null):(Aa()<=qt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Sa(i)),this.vs(t,d,i,hR(l,ml)).next(g=>g))})}bs(t,i){let a=new Ve(BE(t));return i.forEach((l,c)=>{Kc(t,c)&&(a=a.add(c))}),a}Ds(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(t,i,a){return Aa()<=qt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Sa(i)),this.gs.getDocumentsMatchingQuery(t,i,wr.min(),a)}vs(t,i,a,l){return this.gs.getDocumentsMatchingQuery(t,a,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="LocalStore",Fw=3e8;class Gw{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.Fs=new le(Vt),this.Ms=new ws(c=>hm(c),fm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(a)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Mw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Fs))}}function Qw(r,t,i,a){return new Gw(r,t,i,a)}async function l0(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,i.Ns(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],g=[];let _=Ut();for(const p of l){d.push(p.batchId);for(const E of p.mutations)_=_.add(E.key)}for(const p of c){g.push(p.batchId);for(const E of p.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next(p=>({Bs:p,removedBatchIds:d,addedBatchIds:g}))})})}function Yw(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,_,p,E){const b=p.batch,D=b.keys();let H=J.resolve();return D.forEach(k=>{H=H.next(()=>E.getEntry(_,k)).next(K=>{const j=p.docVersions.get(k);Gt(j!==null,48541),K.version.compareTo(j)<0&&(b.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),E.addEntry(K)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(_,b))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Ut();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _}(t))).next(()=>i.localDocuments.getDocuments(a,l))})}function u0(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.hi.getLastRemoteSnapshotVersion(i))}function Kw(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});l=i.Fs;const g=[];t.targetChanges.forEach((E,b)=>{const D=l.get(b);if(!D)return;g.push(i.hi.removeMatchingKeys(c,E.removedDocuments,b).next(()=>i.hi.addMatchingKeys(c,E.addedDocuments,b)));let H=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(Ge.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,a)),l=l.insert(b,H),function(K,j,nt){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Fw?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0}(D,H,E)&&g.push(i.hi.updateTargetData(c,H))});let _=Fi(),p=Ut();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(Xw(c,d,t.documentUpdates).next(E=>{_=E.Ls,p=E.ks})),!a.isEqual(At.min())){const E=i.hi.getLastRemoteSnapshotVersion(c).next(b=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(E)}return J.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,_,p)).next(()=>_)}).then(c=>(i.Fs=l,c))}function Xw(r,t,i){let a=Ut(),l=Ut();return i.forEach(c=>a=a.add(c)),t.getEntries(r,a).next(c=>{let d=Fi();return i.forEach((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):ct(Tm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)}),{Ls:d,ks:l}})}function Zw(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function $w(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.hi.getTargetData(a,t).next(c=>c?(l=c,J.resolve(l)):i.hi.allocateTargetId(a).next(d=>(l=new vr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.hi.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.Fs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(a.targetId,a),i.Ms.set(t,a.targetId)),a})}async function Qd(r,t,i){const a=bt(r),l=a.Fs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!ja(d))throw d;ct(Tm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Fs=a.Fs.remove(t),a.Ms.delete(l.target)}function av(r,t,i){const a=bt(r);let l=At.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,p,E){const b=bt(_),D=b.Ms.get(E);return D!==void 0?J.resolve(b.Fs.get(D)):b.hi.getTargetData(p,E)}(a,d,ui(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,g.targetId).next(_=>{c=_})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:Ut())).next(g=>(Jw(a,zR(t),g),{documents:g,qs:c})))}function Jw(r,t,i){let a=r.xs.get(t)||At.min();i.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.xs.set(t,a)}class ov{constructor(){this.activeTargetIds=FR()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ww{constructor(){this.Fo=new ov,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,a){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new ov,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="ConnectivityMonitor";class uv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ct(lv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ct(lv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function Yd(){return ic===null?ic=function(){return 268435456+Math.round(2147483648*Math.random())}():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="RestConnection",e2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n2{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.Ko=this.databaseId.database===Rc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=Yd(),g=this.Go(t,i.toUriEncodedString());ct(Ed,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(_,l,c);const{host:p}=new URL(g),E=im(p);return this.jo(t,g,_,a,E).then(b=>(ct(Ed,`Received RPC '${t}' ${d}: `,b),b),b=>{throw Rr(Ed,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b})}Jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}zo(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ka}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),a&&a.headers.forEach((l,c)=>t[c]=l)}Go(t,i){const a=e2[t];return`${this.$o}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class r2 extends n2{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,a,l,c){const d=Yd();return new Promise((g,_)=>{const p=new hE;p.setWithCredentials(!0),p.listenOnce(fE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case uc.NO_ERROR:const b=p.getResponseJson();ct(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case uc.TIMEOUT:ct(Ze,`RPC '${t}' ${d} timed out`),_(new dt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const D=p.getStatus();if(ct(Ze,`RPC '${t}' ${d} failed with status:`,D,"response text:",p.getResponseText()),D>0){let H=p.getResponseJson();Array.isArray(H)&&(H=H[0]);const k=H?.error;if(k&&k.status&&k.message){const K=function(nt){const W=nt.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(W)>=0?W:tt.UNKNOWN}(k.status);_(new dt(K,k.message))}else _(new dt(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new dt(tt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{c_:t,streamId:d,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ct(Ze,`RPC '${t}' ${d} completed.`)}});const E=JSON.stringify(l);ct(Ze,`RPC '${t}' ${d} sending request:`,l),p.send(i,"POST",E,a,15)})}P_(t,i,a){const l=Yd(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=gE(),g=mE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.zo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");ct(Ze,`Creating RPC '${t}' stream ${l}: ${E}`,_);const b=d.createWebChannel(E,_);this.T_(b);let D=!1,H=!1;const k=new i2({Ho:j=>{H?ct(Ze,`Not sending because RPC '${t}' stream ${l} is closed:`,j):(D||(ct(Ze,`Opening RPC '${t}' stream ${l} transport.`),b.open(),D=!0),ct(Ze,`RPC '${t}' stream ${l} sending:`,j),b.send(j))},Yo:()=>b.close()}),K=(j,nt,W)=>{j.listen(nt,et=>{try{W(et)}catch(ut){setTimeout(()=>{throw ut},0)}})};return K(b,nl.EventType.OPEN,()=>{H||(ct(Ze,`RPC '${t}' stream ${l} transport opened.`),k.s_())}),K(b,nl.EventType.CLOSE,()=>{H||(H=!0,ct(Ze,`RPC '${t}' stream ${l} transport closed`),k.__(),this.I_(b))}),K(b,nl.EventType.ERROR,j=>{H||(H=!0,Rr(Ze,`RPC '${t}' stream ${l} transport errored. Name:`,j.name,"Message:",j.message),k.__(new dt(tt.UNAVAILABLE,"The operation could not be completed")))}),K(b,nl.EventType.MESSAGE,j=>{var nt;if(!H){const W=j.data[0];Gt(!!W,16349);const et=W,ut=et?.error||((nt=et[0])===null||nt===void 0?void 0:nt.error);if(ut){ct(Ze,`RPC '${t}' stream ${l} received error:`,ut);const it=ut.status;let lt=function(R){const N=Ae[R];if(N!==void 0)return ZE(N)}(it),V=ut.message;lt===void 0&&(lt=tt.INTERNAL,V="Unknown error status: "+it+" with message "+ut.message),H=!0,k.__(new dt(lt,V)),b.close()}else ct(Ze,`RPC '${t}' stream ${l} received:`,W),k.a_(W)}}),K(g,dE.STAT_EVENT,j=>{j.stat===Ud.PROXY?ct(Ze,`RPC '${t}' stream ${l} detected buffering proxy`):j.stat===Ud.NOPROXY&&ct(Ze,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(i=>i===t)}}function Td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r){return new lw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Fi=t,this.timerId=i,this.d_=a,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),l=Math.max(0,i-a);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="PersistentStream";class h0{constructor(t,i,a,l,c,d,g,_){this.Fi=t,this.w_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new c0(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.b_===i&&this.W_(a,l)},a=>{t(()=>{const l=new dt(tt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(l)})})}W_(t,i){const a=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{a(()=>this.G_(l))}),this.stream.onMessage(l=>{a(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ct(cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget(()=>this.b_===t?i():(ct(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s2 extends h0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=hw(this.serializer,t),a=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ci(d.readTime):At.min()}(t);return this.listener.J_(i,a)}H_(t){const i={};i.database=Gd(this.serializer),i.addTarget=function(c,d){let g;const _=d.target;if(g=kd(_)?{documents:mw(c,_)}:{query:gw(c,_).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=WE(c,d.resumeToken);const p=jd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=Nc(c,d.snapshotVersion.toTimestamp());const p=jd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,t);const a=yw(this.serializer,t);a&&(i.labels=a),this.k_(i)}Y_(t){const i={};i.database=Gd(this.serializer),i.removeTarget=t,this.k_(i)}}class a2 extends h0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=dw(t.writeResults,t.commitTime),a=ci(t.commitTime);return this.listener.ta(a,i)}na(){const t={};t.database=Gd(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>fw(this.serializer,a))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{}class l2 extends o2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new dt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(t,Hd(i,a),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(tt.UNKNOWN,c.toString())})}Jo(t,i,a,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(t,Hd(i,a),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(tt.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class u2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Hi(i),this._a=!1):ct("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class c2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{Ds(this)&&(ct(bs,"Restarting streams for network reachability change."),await async function(_){const p=bt(_);p.Ia.add(4),await Rl(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Wc(p)}(this))})}),this.Aa=new u2(a,l)}}async function Wc(r){if(Ds(r))for(const t of r.da)await t(!0)}async function Rl(r){for(const t of r.da)await t(!1)}function f0(r,t){const i=bt(r);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),Rm(i)?bm(i):Ha(i).x_()&&Sm(i,t))}function Am(r,t){const i=bt(r),a=Ha(i);i.Ta.delete(t),a.x_()&&d0(i,t),i.Ta.size===0&&(a.x_()?a.B_():Ds(i)&&i.Aa.set("Unknown"))}function Sm(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ha(r).H_(t)}function d0(r,t){r.Ra.$e(t),Ha(r).Y_(t)}function bm(r){r.Ra=new rw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),Ha(r).start(),r.Aa.aa()}function Rm(r){return Ds(r)&&!Ha(r).M_()&&r.Ta.size>0}function Ds(r){return bt(r).Ia.size===0}function m0(r){r.Ra=void 0}async function h2(r){r.Aa.set("Online")}async function f2(r){r.Ta.forEach((t,i)=>{Sm(r,t)})}async function d2(r,t){m0(r),Rm(r)?(r.Aa.la(t),bm(r)):r.Aa.set("Unknown")}async function m2(r,t,i){if(r.Aa.set("Online"),t instanceof JE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ta.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ta.delete(g),l.Ra.removeTarget(g))}(r,t)}catch(a){ct(bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Mc(r,a)}else if(t instanceof dc?r.Ra.Ye(t):t instanceof $E?r.Ra.it(t):r.Ra.et(t),!i.isEqual(At.min()))try{const a=await u0(r.localStore);i.compareTo(a)>=0&&await function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ta.get(p);E&&c.Ta.set(p,E.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,p)=>{const E=c.Ta.get(_);if(!E)return;c.Ta.set(_,E.withResumeToken(Ge.EMPTY_BYTE_STRING,E.snapshotVersion)),d0(c,_);const b=new vr(E.target,_,p,E.sequenceNumber);Sm(c,b)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(a){ct(bs,"Failed to raise snapshot:",a),await Mc(r,a)}}async function Mc(r,t,i){if(!ja(t))throw t;r.Ia.add(1),await Rl(r),r.Aa.set("Offline"),i||(i=()=>u0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(bs,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await Wc(r)})}function g0(r,t){return t().catch(i=>Mc(r,i,t))}async function th(r){const t=bt(r),i=Vr(t);let a=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:lm;for(;g2(t);)try{const l=await Zw(t.localStore,a);if(l===null){t.Pa.length===0&&i.B_();break}a=l.batchId,p2(t,l)}catch(l){await Mc(t,l)}p0(t)&&y0(t)}function g2(r){return Ds(r)&&r.Pa.length<10}function p2(r,t){r.Pa.push(t);const i=Vr(r);i.x_()&&i.Z_&&i.X_(t.mutations)}function p0(r){return Ds(r)&&!Vr(r).M_()&&r.Pa.length>0}function y0(r){Vr(r).start()}async function y2(r){Vr(r).na()}async function _2(r){const t=Vr(r);for(const i of r.Pa)t.X_(i.mutations)}async function v2(r,t,i){const a=r.Pa.shift(),l=gm.from(a,t,i);await g0(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await th(r)}async function E2(r,t){t&&Vr(r).Z_&&await async function(a,l){if(function(d){return nw(d)&&d!==tt.ABORTED}(l.code)){const c=a.Pa.shift();Vr(a).N_(),await g0(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await th(a)}}(r,t),p0(r)&&y0(r)}async function hv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),ct(bs,"RemoteStore received new credentials");const a=Ds(i);i.Ia.add(3),await Rl(i),a&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await Wc(i)}async function T2(r,t){const i=bt(r);t?(i.Ia.delete(2),await Wc(i)):t||(i.Ia.add(2),await Rl(i),i.Aa.set("Unknown"))}function Ha(r){return r.Va||(r.Va=function(i,a,l){const c=bt(i);return c.ia(),new s2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:h2.bind(null,r),e_:f2.bind(null,r),n_:d2.bind(null,r),J_:m2.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Rm(r)?bm(r):r.Aa.set("Unknown")):(await r.Va.stop(),m0(r))})),r.Va}function Vr(r){return r.ma||(r.ma=function(i,a,l){const c=bt(i);return c.ia(),new a2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:y2.bind(null,r),n_:E2.bind(null,r),ea:_2.bind(null,r),ta:v2.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await th(r)):(await r.ma.stop(),r.Pa.length>0&&(ct(bs,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new wm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(r,t){if(Hi("AsyncQueue",`${t}: ${r}`),ja(r))return new dt(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{static emptySet(t){return new Oa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=il(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Oa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Oa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.fa=new le(pt.comparator)}track(t){const i=t.doc.key,a=this.fa.get(i);a?t.type!==0&&a.type===3?this.fa=this.fa.insert(i,t):t.type===3&&a.type!==1?this.fa=this.fa.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.fa=this.fa.remove(i):t.type===1&&a.type===2?this.fa=this.fa.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):Et(63341,{At:t,ga:a}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal((i,a)=>{t.push(a)}),t}}class La{constructor(t,i,a,l,c,d,g,_,p){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new La(t,i,Oa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class S2{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=dv(),c.forEach((d,g)=>{for(const _ of g.wa)_.onError(a)})})(this,new dt(tt.ABORTED,"Firestore shutting down"))}}function dv(){return new ws(r=>zE(r),Yc)}async function b2(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.ba()&&(a=2):(c=new A2,a=t.ba()?0:1);try{switch(a){case 0:c.ya=await i.onListen(l,!0);break;case 1:c.ya=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Cm(d,`Initialization of query '${Sa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.wa.push(t),t.va(i.onlineState),c.ya&&t.Ca(c.ya)&&Dm(i)}async function R2(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.wa.indexOf(t);d>=0&&(c.wa.splice(d,1),c.wa.length===0?l=t.ba()?0:1:!c.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function w2(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.wa)g.Ca(l)&&(a=!0);d.ya=l}}a&&Dm(i)}function C2(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.wa)c.onError(i);a.queries.delete(t)}function Dm(r){r.Da.forEach(t=>{t.next()})}var Kd,mv;(mv=Kd||(Kd={})).Fa="default",mv.Cache="cache";class D2{constructor(t,i,a){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new La(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const a=i!=="Offline";return(!this.options.ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=La.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t){this.key=t}}class v0{constructor(t){this.key=t}}class O2{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ut(),this.mutatedKeys=Ut(),this.Xa=BE(t),this.eu=new Oa(this.Xa)}get tu(){return this.Ha}nu(t,i){const a=i?i.ru:new fv,l=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,b)=>{const D=l.get(E),H=Kc(this.query,b)?b:null,k=!!D&&this.mutatedKeys.has(D.key),K=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let j=!1;D&&H?D.data.isEqual(H.data)?k!==K&&(a.track({type:3,doc:H}),j=!0):this.iu(D,H)||(a.track({type:2,doc:H}),j=!0,(_&&this.Xa(H,_)>0||p&&this.Xa(H,p)<0)&&(g=!0)):!D&&H?(a.track({type:0,doc:H}),j=!0):D&&!H&&(a.track({type:1,doc:D}),j=!0,(_||p)&&(g=!0)),j&&(H?(d=d.add(H),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{eu:d,ru:a,Ds:g,mutatedKeys:c}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort((E,b)=>function(H,k){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{At:j})}};return K(H)-K(k)}(E.type,b.type)||this.Xa(E.doc,b.doc)),this.su(a),l=l!=null&&l;const g=i&&!l?this.ou():[],_=this.Za.size===0&&this.current&&!l?1:0,p=_!==this.Ya;return this.Ya=_,d.length!==0||p?{snapshot:new La(this.query,t.eu,c,d,t.mutatedKeys,_===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new fv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Ut(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const i=[];return t.forEach(a=>{this.Za.has(a)||i.push(new v0(a))}),this.Za.forEach(a=>{t.has(a)||i.push(new _0(a))}),i}uu(t){this.Ha=t.qs,this.Za=Ut();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return La.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Om="SyncEngine";class V2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class N2{constructor(t){this.key=t,this.lu=!1}}class I2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new ws(g=>zE(g),Yc),this.Tu=new Map,this.Iu=new Set,this.du=new le(pt.comparator),this.Eu=new Map,this.Au=new _m,this.Ru={},this.Vu=new Map,this.mu=Ua.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function M2(r,t,i=!0){const a=R0(r);let l;const c=a.Pu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.cu()):l=await E0(a,t,i,!0),l}async function x2(r,t){const i=R0(r);await E0(i,t,!0,!1)}async function E0(r,t,i,a){const l=await $w(r.localStore,ui(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await U2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&f0(r.remoteStore,l),g}async function U2(r,t,i,a,l){r.gu=(b,D,H)=>async function(K,j,nt,W){let et=j.view.nu(nt);et.Ds&&(et=await av(K.localStore,j.query,!1).then(({documents:V})=>j.view.nu(V,et)));const ut=W&&W.targetChanges.get(j.targetId),it=W&&W.targetMismatches.get(j.targetId)!=null,lt=j.view.applyChanges(et,K.isPrimaryClient,ut,it);return pv(K,j.targetId,lt._u),lt.snapshot}(r,b,D,H);const c=await av(r.localStore,t,!0),d=new O2(t,c.qs),g=d.nu(c.documents),_=bl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),p=d.applyChanges(g,r.isPrimaryClient,_);pv(r,i,p._u);const E=new V2(t,i,d);return r.Pu.set(t,E),r.Tu.has(i)?r.Tu.get(i).push(t):r.Tu.set(i,[t]),p.snapshot}async function L2(r,t,i){const a=bt(r),l=a.Pu.get(t),c=a.Tu.get(l.targetId);if(c.length>1)return a.Tu.set(l.targetId,c.filter(d=>!Yc(d,t))),void a.Pu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Qd(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Am(a.remoteStore,l.targetId),Xd(a,l.targetId)}).catch(qa)):(Xd(a,l.targetId),await Qd(a.localStore,l.targetId,!0))}async function P2(r,t){const i=bt(r),a=i.Pu.get(t),l=i.Tu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Am(i.remoteStore,a.targetId))}async function z2(r,t,i){const a=G2(r);try{const l=await function(d,g){const _=bt(d),p=re.now(),E=g.reduce((H,k)=>H.add(k.key),Ut());let b,D;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let k=Fi(),K=Ut();return _.Os.getEntries(H,E).next(j=>{k=j,k.forEach((nt,W)=>{W.isValidDocument()||(K=K.add(nt))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,k)).next(j=>{b=j;const nt=[];for(const W of g){const et=$R(W,b.get(W.key).overlayedDocument);et!=null&&nt.push(new Cs(W.key,et,VE(et.value.mapValue),Hn.exists(!0)))}return _.mutationQueue.addMutationBatch(H,p,nt,g)}).next(j=>{D=j;const nt=j.applyToLocalDocumentSet(b,K);return _.documentOverlayCache.saveOverlays(H,j.batchId,nt)})}).then(()=>({batchId:D.batchId,changes:qE(b)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(d,g,_){let p=d.Ru[d.currentUser.toKey()];p||(p=new le(Vt)),p=p.insert(g,_),d.Ru[d.currentUser.toKey()]=p}(a,l.batchId,i),await wl(a,l.changes),await th(a.remoteStore)}catch(l){const c=Cm(l,"Failed to persist write");i.reject(c)}}async function T0(r,t){const i=bt(r);try{const a=await Kw(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i.Eu.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.lu=!0:l.modifiedDocuments.size>0?Gt(d.lu,14607):l.removedDocuments.size>0&&(Gt(d.lu,42227),d.lu=!1))}),await wl(i,a,t)}catch(a){await qa(a)}}function gv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Pu.forEach((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const _=bt(d);_.onlineState=g;let p=!1;_.queries.forEach((E,b)=>{for(const D of b.wa)D.va(g)&&(p=!0)}),p&&Dm(_)}(a.eventManager,t),l.length&&a.hu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function B2(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Eu.get(t),c=l&&l.key;if(c){let d=new le(pt.comparator);d=d.insert(c,Je.newNoDocument(c,At.min()));const g=Ut().add(c),_=new $c(At.min(),new Map,new le(Vt),d,g);await T0(a,_),a.du=a.du.remove(c),a.Eu.delete(t),Vm(a)}else await Qd(a.localStore,t,!1).then(()=>Xd(a,t,i)).catch(qa)}async function k2(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await Yw(i.localStore,t);S0(i,a,null),A0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await wl(i,l)}catch(l){await qa(l)}}async function q2(r,t,i){const a=bt(r);try{const l=await function(d,g){const _=bt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return _.mutationQueue.lookupMutationBatch(p,g).next(b=>(Gt(b!==null,37113),E=b.keys(),_.mutationQueue.removeMutationBatch(p,b))).next(()=>_.mutationQueue.performConsistencyCheck(p)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(p,E,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>_.localDocuments.getDocuments(p,E))})}(a.localStore,t);S0(a,t,i),A0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await wl(a,l)}catch(l){await qa(l)}}function A0(r,t){(r.Vu.get(t)||[]).forEach(i=>{i.resolve()}),r.Vu.delete(t)}function S0(r,t,i){const a=bt(r);let l=a.Ru[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Ru[a.currentUser.toKey()]=l}}function Xd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Tu.get(t))r.Pu.delete(a),i&&r.hu.pu(a,i);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(a=>{r.Au.containsKey(a)||b0(r,a)})}function b0(r,t){r.Iu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Am(r.remoteStore,i),r.du=r.du.remove(t),r.Eu.delete(i),Vm(r))}function pv(r,t,i){for(const a of i)a instanceof _0?(r.Au.addReference(a.key,t),j2(r,a)):a instanceof v0?(ct(Om,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,t),r.Au.containsKey(a.key)||b0(r,a.key)):Et(19791,{yu:a})}function j2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Iu.has(a)||(ct(Om,"New document in limbo: "+i),r.Iu.add(a),Vm(r))}function Vm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const i=new pt(ie.fromString(t)),a=r.mu.next();r.Eu.set(a,new N2(i)),r.du=r.du.insert(i,a),f0(r.remoteStore,new vr(ui(PE(i.path)),a,"TargetPurposeLimboResolution",Hc.ue))}}async function wl(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((g,_)=>{d.push(a.gu(_,t,i).then(p=>{var E;if((p||i)&&a.isPrimaryClient){const b=p?!p.fromCache:(E=i?.targetChanges.get(_.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(p){l.push(p);const b=Em.Es(_.targetId,p);c.push(b)}}))}),await Promise.all(d),a.hu.J_(l),await async function(_,p){const E=bt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(p,D=>J.forEach(D.Is,H=>E.persistence.referenceDelegate.addReference(b,D.targetId,H)).next(()=>J.forEach(D.ds,H=>E.persistence.referenceDelegate.removeReference(b,D.targetId,H)))))}catch(b){if(!ja(b))throw b;ct(Tm,"Failed to update sequence numbers: "+b)}for(const b of p){const D=b.targetId;if(!b.fromCache){const H=E.Fs.get(D),k=H.snapshotVersion,K=H.withLastLimboFreeSnapshotVersion(k);E.Fs=E.Fs.insert(D,K)}}}(a.localStore,c))}async function H2(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){ct(Om,"User change. New user:",t.toKey());const a=await l0(i.localStore,t);i.currentUser=t,function(c,d){c.Vu.forEach(g=>{g.forEach(_=>{_.reject(new dt(tt.CANCELLED,d))})}),c.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await wl(i,a.Bs)}}function F2(r,t){const i=bt(r),a=i.Eu.get(t);if(a&&a.lu)return Ut().add(a.key);{let l=Ut();const c=i.Tu.get(t);if(!c)return l;for(const d of c){const g=i.Pu.get(d);l=l.unionWith(g.view.tu)}return l}}function R0(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=F2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B2.bind(null,t),t.hu.J_=w2.bind(null,t.eventManager),t.hu.pu=C2.bind(null,t.eventManager),t}function G2(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=k2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=q2.bind(null,t),t}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return Qw(this.persistence,new Hw,t.initialUser,this.serializer)}Du(t){return new o0(vm.Vi,this.serializer)}bu(t){return new Ww}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class Q2 extends xc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){Gt(this.persistence.referenceDelegate instanceof Ic,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Dw(a,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new o0(a=>Ic.Vi(a,i),this.serializer)}}class Zd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>gv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=H2.bind(null,this.syncEngine),await T2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new S2}()}createDatastore(t){const i=Jc(t.databaseInfo.databaseId),a=function(c){return new r2(c)}(t.databaseInfo);return function(c,d,g,_){return new l2(c,d,g,_)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,l,c,d,g){return new c2(a,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>gv(this.syncEngine,i,0),function(){return uv.C()?new uv:new t2}())}createSyncEngine(t,i){return function(l,c,d,g,_,p,E){const b=new I2(l,c,d,g,_,p);return E&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=bt(l);ct(bs,"RemoteStore shutting down."),c.Ia.add(5),await Rl(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Zd.provider={build:()=>new Zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Hi("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class K2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{ct(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(ct(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Cm(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Ad(r,t){r.asyncQueue.verifyOperationInProgress(),ct(Nr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await l0(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>{Rr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ct("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Rr("Terminating Firestore due to IndexedDb database deletion failed",l)})}),r._offlineComponents=t}async function yv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await X2(r);ct(Nr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>hv(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>hv(t.remoteStore,l)),r._onlineComponents=t}async function X2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Nr,"Using user provided OfflineComponentProvider");try{await Ad(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===tt.FAILED_PRECONDITION||l.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Rr("Error using user provided cache. Falling back to memory cache: "+i),await Ad(r,new xc)}}else ct(Nr,"Using default OfflineComponentProvider"),await Ad(r,new Q2(void 0));return r._offlineComponents}async function w0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Nr,"Using user provided OnlineComponentProvider"),await yv(r,r._uninitializedComponentsProvider._online)):(ct(Nr,"Using default OnlineComponentProvider"),await yv(r,new Zd))),r._onlineComponents}function Z2(r){return w0(r).then(t=>t.syncEngine)}async function $2(r){const t=await w0(r),i=t.eventManager;return i.onListen=M2.bind(null,t.syncEngine),i.onUnlisten=L2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=x2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=P2.bind(null,t.syncEngine),i}function J2(r,t,i={}){const a=new Sr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,_,p){const E=new Y2({next:D=>{E.Ou(),d.enqueueAndForget(()=>R2(c,b)),D.fromCache&&_.source==="server"?p.reject(new dt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new D2(g,E,{includeMetadataChanges:!0,ka:!0});return b2(c,b)}(await $2(r),r.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firestore.googleapis.com",vv=!0;class Ev{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new dt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D0,this.ssl=vv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:vv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=a0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ww)throw new dt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C0((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class eh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new eR;switch(a.type){case"firstParty":return new sR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new dt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=_v.get(i);a&&(ct("ComponentProvider","Removing Datastore"),_v.delete(i),a.terminate())}(this),Promise.resolve()}}function W2(r,t,i,a={}){var l;r=Ss(r,eh);const c=im(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),_=`${t}:${i}`;c&&(DS(`https://${_}`),IS("Firestore",!0)),d.host!==D0&&d.host!==_&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},d),{host:_,ssl:c,emulatorOptions:a});if(!Tc(p,g)&&(r._setSettings(p),a.mockUserToken)){let E,b;if(typeof a.mockUserToken=="string")E=a.mockUserToken,b=$e.MOCK_USER;else{E=OS(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new dt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(D)}r._authCredentials=new nR(new yE(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new nh(this.firestore,t,this._query)}}class Pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Al(i,Pe._jsonSchema))return new Pe(t,a||null,new pt(ie.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Se("string",Pe._jsonSchemaVersion),referencePath:Se("string")};class br extends nh{constructor(t,i,a){super(t,i,PE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new pt(t))}withConverter(t){return new br(this.firestore,t,this._path)}}function Sd(r,t,...i){if(r=hl(r),vE("collection","path",t),r instanceof eh){const a=ie.fromString(t,...i);return x_(a),new br(r,null,a)}{if(!(r instanceof Pe||r instanceof br))throw new dt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...i));return x_(a),new br(r.firestore,null,a)}}function mc(r,t,...i){if(r=hl(r),arguments.length===1&&(t=am.newId()),vE("doc","path",t),r instanceof eh){const a=ie.fromString(t,...i);return M_(a),new Pe(r,null,new pt(a))}{if(!(r instanceof Pe||r instanceof br))throw new dt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...i));return M_(a),new Pe(r.firestore,r instanceof br?r.converter:null,new pt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="AsyncQueue";class Av{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new c0(this,"async_queue_retry"),this.oc=()=>{const a=Td();a&&ct(Tv,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=t;const i=Td();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=Td();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Sr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!ja(t))throw t;ct(Tv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const i=this._c.then(()=>(this.nc=!0,t().catch(a=>{throw this.tc=a,this.nc=!1,Hi("INTERNAL UNHANDLED ERROR: ",Sv(a)),a}).then(a=>(this.nc=!1,a))));return this._c=i,i}enqueueAfterDelay(t,i,a){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const l=wm.createAndSchedule(this,t,i,a,c=>this.lc(c));return this.ec.push(l),l}ac(){this.tc&&Et(47125,{hc:Sv(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function Sv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Cl extends eh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Av,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Av(t),this._firestoreClient=void 0,await t}}}function tC(r,t){const i=typeof r=="object"?r:jb(),a=typeof r=="string"?r:Rc,l=Pb(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=wS("firestore");c&&W2(l,...c)}return l}function O0(r){if(r._terminated)throw new dt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eC(r),r._firestoreClient}function eC(r){var t,i,a;const l=r._freezeSettings(),c=function(g,_,p,E){return new TR(g,_,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,C0(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new K2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const _=g?._online.build();return{_offline:g?._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Ge.fromBase64String(t))}catch(i){throw new dt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Al(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Se("string",xn._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new dt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new dt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new dt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(t){if(Al(t,hi._jsonSchema))return new hi(t.latitude,t.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Se("string",hi._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Al(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new fi(t.vectorValues);throw new dt(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Se("string",fi._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=/^__.*__$/;class iC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Cs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Sl(t,this.data,i,this.fieldTransforms)}}function N0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ec:r})}}class Im{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Im(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:a,mc:!1});return l.fc(t),l}gc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:a,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Uc(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(N0(this.Ec)&&nC.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class rC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Jc(t)}Dc(t,i,a,l=!1){return new Im({Ec:t,methodName:i,bc:a,path:Fe.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I0(r){const t=r._freezeSettings(),i=Jc(r._databaseId);return new rC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function M0(r,t,i,a,l,c={}){const d=r.Dc(c.merge||c.mergeFields?2:0,t,i,l);P0("Data must be an object, but it was:",d,a);const g=U0(a,d);let _,p;if(c.merge)_=new jn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const D=sC(t,b,i);if(!d.contains(D))throw new dt(tt.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);oC(E,D)||E.push(D)}_=new jn(E),p=d.fieldTransforms.filter(b=>_.covers(b.field))}else _=null,p=d.fieldTransforms;return new iC(new Mn(g),_,p)}function x0(r,t){if(L0(r=hl(r)))return P0("Unsupported field value:",t,r),U0(r,t);if(r instanceof V0)return function(a,l){if(!N0(l.Ec))throw l.wc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(a,l){const c=[];let d=0;for(const g of a){let _=x0(g,l.yc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}}(r,t)}return function(a,l){if((a=hl(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return GR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:Nc(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Nc(l.serializer,c)}}if(a instanceof hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xn)return{bytesValue:WE(l.serializer,a._byteString)};if(a instanceof Pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof fi)return function(d,g){return{mapValue:{fields:{[DE]:{stringValue:OE},[wc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.wc("VectorValues must only contain numeric values.");return dm(g.serializer,p)})}}}}}}(a,l);throw l.wc(`Unsupported field value: ${om(a)}`)}(r,t)}function U0(r,t){const i={};return AE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rs(r,(a,l)=>{const c=x0(l,t.Vc(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function L0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof hi||r instanceof xn||r instanceof Pe||r instanceof V0||r instanceof fi)}function P0(r,t,i){if(!L0(i)||!EE(i)){const a=om(i);throw a==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+a)}}function sC(r,t,i){if((t=hl(t))instanceof Nm)return t._internalPath;if(typeof t=="string")return z0(r,t);throw Uc("Field path arguments must be of type string or ",r,!1,void 0,i)}const aC=new RegExp("[~\\*/\\[\\]]");function z0(r,t,i){if(t.search(aC)>=0)throw Uc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Nm(...t.split("."))._internalPath}catch{throw Uc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Uc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new dt(tt.INVALID_ARGUMENT,g+r+_)}function oC(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(k0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lC extends B0{data(){return super.data()}}function k0(r,t){return typeof t=="string"?z0(r,t):t instanceof Nm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cC{convertValue(t,i="none"){switch(Or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Rs(t,(l,c)=>{a[l]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i[wc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>pe(d.doubleValue));return new fi(c)}convertGeoPoint(t){return new hi(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Gc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(gl(t));default:return null}}convertTimestamp(t){const i=Cr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ie.fromString(t);Gt(s0(a),9688,{name:t});const l=new pl(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||Hi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class rc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Va extends B0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(k0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Va._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:Se("string",Va._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class gc extends Va{data(t={}){return super.data(t)}}class Na{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new gc(this._firestore,this._userDataWriter,a.key,a,new rc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const _=new gc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new rc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const _=new gc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new rc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:hC(g.type),doc:_,oldIndex:p,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Na._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Se("string",Na._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};class fC extends cC{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function bv(r){r=Ss(r,nh);const t=Ss(r.firestore,Cl),i=O0(t),a=new fC(t);return uC(r._query),J2(i,r._query).then(l=>new Na(t,a,r,l))}function Rv(r,t,i){r=Ss(r,Pe);const a=Ss(r.firestore,Cl),l=q0(r.converter,t);return Mm(a,[M0(I0(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Hn.none())])}function dC(r){return Mm(Ss(r.firestore,Cl),[new mm(r._key,Hn.none())])}function mC(r,t){const i=Ss(r.firestore,Cl),a=mc(r),l=q0(r.converter,t);return Mm(i,[M0(I0(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Hn.exists(!1))]).then(()=>a)}function Mm(r,t){return function(a,l){const c=new Sr;return a.asyncQueue.enqueueAndForget(async()=>z2(await Z2(a),l,c)),c.promise}(O0(r),t)}(function(t,i=!0){(function(l){ka=l})(qb),Sc(new fl("firestore",(a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Cl(new iR(a.getProvider("auth-internal")),new aR(d,a.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new dt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(p.options.projectId,E)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Da(D_,O_,t),Da(D_,O_,"esm2017")})();const gC={apiKey:"YOUR_API_KEY_HERE",authDomain:"voice-command-assistant-3626f.firebaseapp.com",databaseURL:"https://voice-command-assistant-3626f.firebaseio.com",projectId:"voice-command-assistant-3626f",storageBucket:"voice-command-assistant-3626f.appspot.com",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"},pC=oE(gC),Ta=tC(pC);function yC(){const[r,t]=ge.useState([]),[i,a]=ge.useState([]),[l,c]=ge.useState(null),[d,g]=ge.useState([]),[_,p]=ge.useState(!1),E=async()=>{try{const nt=await bv(Sd(Ta,"shopping_history")),W=[];nt.forEach(it=>W.push(it.data()));const ut=await(await fetch("https://shopping-list-with-ai-assistance.onrender.com/voice-command/recommend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({history:W})})).json();ut?.recommendations&&a(ut.recommendations)}catch(nt){console.error(" Failed to fetch recommendations:",nt)}};ge.useEffect(()=>{(async()=>{try{const W=await bv(Sd(Ta,"live_shopping_list")),et=[];W.forEach(ut=>et.push(ut.data())),t(et),await E()}catch(W){console.error(" Failed to fetch shopping list:",W)}})()},[]);const b=nt=>{if(!nt||nt==="Not a shopping command."){D(" Not a shopping command.");return}if(nt.intent==="search_item"){H(nt.search_term);return}g([]),p(!1),t(W=>k(W,nt))},D=(nt,W=3e3)=>{c(nt),setTimeout(()=>c(null),W)},H=nt=>{const W=r.filter(et=>et.item.toLowerCase().includes(nt.toLowerCase())||et.category?.toLowerCase().includes(nt.toLowerCase())||et.brand?.toLowerCase().includes(nt.toLowerCase()));p(!0),W.length===0?(g([]),D(" No matching items found.")):(g(W),D(` Found ${W.length} item(s) matching "${nt}"`))},k=(nt,W)=>{const et=nt.find(ut=>ut.item.toLowerCase()===W.item?.toLowerCase());return W.intent==="add_to_list"?K(nt,et,W):W.intent==="remove_from_list"&&et?j(nt,et,W):nt},K=(nt,W,et)=>{const ut={item:et.item,quantity:et.quantity||1,category:et.category||"Uncategorized",price:(et.price||0)*(et.quantity||1),brand:et.brand||"any",size:et.size||"any"};return(async()=>{try{await Rv(mc(Ta,"live_shopping_list",ut.item),ut),await mC(Sd(Ta,"shopping_history"),{...ut,timestamp:new Date}),await E()}catch(lt){console.error(" Firestore write error:",lt)}})(),D(` Added ${ut.quantity} ${ut.item}(s)`),W?nt.map(lt=>lt.item.toLowerCase()===et.item.toLowerCase()?{...lt,quantity:lt.quantity+ut.quantity,price:ut.price!==0?(lt.quantity+ut.quantity)*(ut.price/ut.quantity):lt.price,category:ut.category!=="Uncategorized"?ut.category:lt.category,brand:ut.brand!=="any"?ut.brand:lt.brand,size:ut.size!=="any"?ut.size:lt.size}:lt):[...nt,ut]},j=(nt,W,et)=>{const ut=W.quantity>et.quantity?nt.map(lt=>lt.item.toLowerCase()===et.item.toLowerCase()?{...lt,quantity:lt.quantity-et.quantity}:lt):nt.filter(lt=>lt.item.toLowerCase()!==et.item.toLowerCase());return(async()=>{try{W.quantity<=et.quantity?await dC(mc(Ta,"live_shopping_list",W.item)):await Rv(mc(Ta,"live_shopping_list",W.item),{...W,quantity:W.quantity-et.quantity}),await E()}catch(lt){console.error(" Failed to update Firestore on remove:",lt)}})(),D(` Removed ${et.quantity} ${et.item}(s)`),ut};return Rt.jsxs("div",{className:"container",children:[Rt.jsxs("div",{className:"header",children:[Rt.jsx("h2",{children:" Voice Shopping Assistant"}),Rt.jsx(gS,{onResult:b})]}),l&&Rt.jsx("div",{className:"alert",children:l}),Rt.jsxs("div",{className:"main-content",children:[Rt.jsx("div",{className:"list-section",children:_?Rt.jsxs(Rt.Fragment,{children:[Rt.jsx("h3",{children:" Search Results"}),Rt.jsx(t_,{items:d})]}):Rt.jsx(t_,{items:r})}),Rt.jsxs("div",{className:"recommendation-section",children:[Rt.jsx("h3",{children:" Recommendations"}),i.length===0?Rt.jsx("p",{children:"No suggestions yet."}):Rt.jsx("ul",{children:i.map((nt,W)=>Rt.jsx("li",{children:nt},W))})]})]})]})}S1.createRoot(document.getElementById("root")).render(Rt.jsx(g1.StrictMode,{children:Rt.jsx(yC,{})}));
